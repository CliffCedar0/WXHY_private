import{s as e,v as a,c as t,w as s,i as l,o as n,a as i,b as u,t as o,l as r,g as c,k as d,F as g,h as f,j as h,e as y}from"./index-FPzK3lBl.js";import{l as m,a as _,d as b,e as z}from"./sizhu.j5o8EW_k.js";import{g as x}from"./xingnian.CHB5KPs2.js";import{b as p,j as k,k as C}from"./jianchu.CEzy3tQm.js";import{_ as G}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w={"冬至":[1,7,4],"小寒":[2,8,5],"大寒":[3,9,6],"立春":[8,5,2],"雨水":[9,6,3],"惊蛰":[1,7,4],"春分":[3,9,6],"清明":[4,1,7],"谷雨":[5,2,8],"立夏":[4,1,7],"小满":[5,2,8],"芒种":[6,3,9],"夏至":[9,3,6],"小暑":[8,2,5],"大暑":[7,1,4],"立秋":[2,5,8],"处暑":[1,4,7],"白露":[9,3,6],"秋分":[7,1,4],"寒露":[6,3,9],"霜降":[5,2,8],"立冬":[6,3,9],"小雪":[5,2,8],"大雪":[4,1,7]},S=["冬至","小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种"],I=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],j=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],A=["","天蓬","天芮","天冲","天辅","天禽","天心","天柱","天任","天英"],W=["","休门","死门","伤门","杜门","中门","开门","惊门","生门","景门"],D={"甲子":"海中金","乙丑":"海中金","丙寅":"炉中火","丁卯":"炉中火","戊辰":"大林木","己巳":"大林木","庚午":"路旁土","辛未":"路旁土","壬申":"剑锋金","癸酉":"剑锋金","甲戌":"山头火","乙亥":"山头火","丙子":"涧下水","丁丑":"涧下水","戊寅":"城头土","己卯":"城头土","庚辰":"白蜡金","辛巳":"白蜡金","壬午":"杨柳木","癸未":"杨柳木","甲申":"泉中水","乙酉":"泉中水","丙戌":"屋上土","丁亥":"屋上土","戊子":"霹雳火","己丑":"霹雳火","庚寅":"松柏木","辛卯":"松柏木","壬辰":"长流水","癸巳":"长流水","甲午":"沙中金","乙未":"沙中金","丙申":"山下火","丁酉":"山下火","戊戌":"平地木","己亥":"平地木","庚子":"壁上土","辛丑":"壁上土","壬寅":"金箔金","癸卯":"金箔金","甲辰":"佛灯火","乙巳":"佛灯火","丙午":"天河水","丁未":"天河水","戊申":"大驿土","己酉":"大驿土","庚戌":"钗钏金","辛亥":"钗钏金","壬子":"桑柘木","癸丑":"桑柘木","甲寅":"大溪水","乙卯":"大溪水","丙辰":"沙中土","丁巳":"沙中土","戊午":"天上火","己未":"天上火","庚申":"石榴木","辛酉":"石榴木","壬戌":"大海水","癸亥":"大海水"},X=e=>D[e]||"";function R(e,a,t={}){const s=new Date(`${e}T${a}:00`),l=m.Solar.fromDate(s);let n={};if(t&&t.bazi)n=t.bazi;else{const e=_(s);if(!e)return{error:"Bazi calculation failed"};n={year:e.year,month:e.month,day:e.day,hour:e.hour}}const i=n.hour.charAt(0),u=n.hour.charAt(1);let o="",r=0,c=!1;if(t&&t.jieqi&&t.bazi){o=t.jieqi,c=S.includes(o);const e=t.bazi.day,a=e.charAt(0),s=e.charAt(1),l=I.indexOf(a),n=j.indexOf(s),i=j[(n-l%5+12)%12];r=["子","午","卯","酉"].includes(i)?0:["寅","申","巳","亥"].includes(i)?1:2}else{let e=l.getLunar().getPrevJieQi(!0);if(!e)return{error:"Date out of range"};o=e.getName();const a=e.getSolar(),t=(s.getTime()-new Date(a.toYmdHms()).getTime())/36e5,n=Math.floor(t/120);r=n>=2?2:n,c=S.includes(o)}let d=0;if(t&&t.ju)c=t.ju.isYang,d=t.ju.juNum,o||(o="手工");else{const e=w[o];if(!e)return{error:"Unknown JieQi: "+o};d=e[r]}const g=["戊","己","庚","辛","壬","癸","丁","丙","乙"],f=new Array(10).fill("");for(let m=0;m<9;m++){let e=0;if(c)e=(d+m-1)%9+1;else{let a=d-m;for(;a<=0;)a+=9;for(;a>9;)a-=9;e=a}f[e]=g[m]}const h=I.indexOf(i),y=(j.indexOf(u)-h+12)%12,b={0:"戊",10:"己",8:"庚",6:"辛",4:"壬",2:"癸"}[y];let z=0;for(let m=1;m<=9;m++)if(f[m]===b){z=m;break}const x=A[z],p=W[z];let k=i;"甲"===k&&(k="戊");let C=0;for(let m=1;m<=9;m++)if(f[m]===k){C=m;break}const G=new Array(10).fill(""),D=C-z;for(let m=1;m<=9;m++){let e=m+D;for(;e<=0;)e+=9;for(;e>9;)e-=9;G[e]=A[m]}let R=0;if(c)for(R=z+h;R>9;)R-=9;else for(R=z-h;R<=0;)R+=9;const Z=new Array(10).fill(""),B=R-z;for(let m=1;m<=9;m++){let e=m+B;for(;e<=0;)e+=9;for(;e>9;)e-=9;Z[e]=W[m]}const T=new Array(10).fill(""),N=c?["值符","螣蛇","太阴","六合","勾陈","太常","朱雀","九地","九天"]:["值符","螣蛇","太阴","六合","白虎","太常","玄武","九地","九天"];for(let m=0;m<9;m++){let e=0;if(c)for(e=C+m;e>9;)e-=9;else for(e=C-m;e<=0;)e+=9;T[e]=N[m]}const Y=new Array(10).fill("");for(let m=0;m<9;m++){let e=0;if(c)for(e=z+m;e>9;)e-=9;else for(e=z-m;e<=0;)e+=9;Y[e]=N[m]}const v={};let M=(j.indexOf(u)-I.indexOf(i)+12)%12;for(let m=0;m<10;m++){if(0===m)continue;let e=I[m],a=j[(M+m)%12],t=e+a;"甲"===e&&(t=b+a);let s=0;if(c)for(s=z+m;s>9;)s-=9;else for(s=z-m;s<=0;)s+=9;v[s]?v[s]+="/"+t:v[s]=t}const O={};for(let m=0;m<10;m++){const e=I[m],a=j[(M+m)%12];"甲"===e?O[b]=b+a:O[e]=e+a}const E=new Array(10).fill(""),H=new Array(10).fill(""),F=function(e,a){const t=new Array(10).fill("");for(let s=1;s<=9;s++){const l=a[s],n=A.indexOf(l);n>0&&(t[s]=e[n])}return t}(f,G);for(let m=1;m<=9;m++){const e=f[m],a=F[m];E[m]=O[e]||e,H[m]=O[a]||a}const L=j[(y+10)%12],$=j[(y+11)%12],K=b,P=e=>"子".includes(e)?1:"丑寅".includes(e)?8:"卯".includes(e)?3:"辰巳".includes(e)?4:"午".includes(e)?9:"未申".includes(e)?2:"酉".includes(e)?7:"戌亥".includes(e)?6:0,Q=P({"巳":"亥","酉":"亥","丑":"亥","寅":"申","午":"申","戌":"申","申":"寅","子":"寅","辰":"寅","亥":"巳","卯":"巳","未":"巳"}[u]),V=P({"子":"卯","戌":"丑","申":"亥","午":"酉","辰":"未","寅":"巳"}[j[M]]),q=P({"寅":"午","申":"午","卯":"申","酉":"申","辰":"戌","戌":"戌","巳":"子","亥":"子","午":"寅","子":"寅","未":"辰","丑":"辰"}[n.month.charAt(1)]),J={},U=(e=>{const a=[],t=I.indexOf(e.charAt(0)),s=j.indexOf(e.charAt(1));for(let l=0;l<10;l++){const e=I[(t+l)%10],n=j[(s+l)%12];a.push(e+n)}return a})("甲"+j[M]);for(let m=0;m<10;m++){const e=U[m];if(0===m)continue;let a=0;if(c)a=(C+m-1)%9+1;else{let e=C-m;for(;e<=0;)e+=9;a=e}J[a]=e}const ee=e=>{if(!e||e.length<2)return"";const a=e.charAt(0),t=e.charAt(1),s=I.indexOf(a),l=j.indexOf(t);if(-1===s||-1===l)return"";const n=(l-s+12)%12;return j[(n+10)%12]+j[(n+11)%12]},ae={year:{gz:n.year,xk:ee(n.year),ny:X(n.year)},month:{gz:n.month,xk:ee(n.month),ny:X(n.month)},day:{gz:n.day,xk:ee(n.day),ny:X(n.day)},hour:{gz:n.hour,xk:ee(n.hour),ny:X(n.hour)}},te={"甲":{e:0,p:0},"乙":{e:0,p:1},"丙":{e:1,p:0},"丁":{e:1,p:1},"戊":{e:2,p:0},"己":{e:2,p:1},"庚":{e:3,p:0},"辛":{e:3,p:1},"壬":{e:4,p:0},"癸":{e:4,p:1}},se=[["比","劫"],["食","伤"],["才","财"],["杀","官"],["枭","印"]],le=(e,a)=>{if(!e||!a)return"";const t=te[e],s=te[a];if(!t||!s)return"";const l=(s.e-t.e+5)%5,n=Math.abs(t.p-s.p);return se[l][n]},ne=["长","沐","冠","临","帝","衰","病","死","墓","绝","胎","养"],ie={"子":0,"丑":1,"寅":2,"卯":3,"辰":4,"巳":5,"午":6,"未":7,"申":8,"酉":9,"戌":10,"亥":11},ue={"甲":{start:11,dir:1},"乙":{start:6,dir:-1},"丙":{start:2,dir:1},"戊":{start:2,dir:1},"丁":{start:9,dir:-1},"己":{start:9,dir:-1},"庚":{start:5,dir:1},"辛":{start:0,dir:-1},"壬":{start:8,dir:1},"癸":{start:3,dir:-1}},oe={1:["子"],8:["寅","丑"],3:["卯"],4:["巳","辰"],9:["午"],2:["申","未"],7:["酉"],6:["亥","戌"]},re=(e,a)=>{if(!e||!a||!ue[e])return"";const{start:t,dir:s}=ue[e],l=ie[a];let n=0;return n=1===s?(l-t+12)%12:(t-l+12)%12,ne[n]},ce=new Array(10).fill(""),de=new Array(10).fill(""),ge=new Array(10).fill(""),fe=new Array(10).fill("");for(let m=1;m<=9;m++){const e=oe[m]||[],a=H[m],t=a?a.charAt(0):"";ce[m]=le(i,t);let s="";e.forEach((e=>{s+=re(t,e)})),ge[m]=s;const l=E[m],n=l?l.charAt(0):"";de[m]=le(i,n);let u="";e.forEach((e=>{u+=re(n,e)})),fe[m]=u}const he={"立冬":6,"小雪":6,"大雪":6,"冬至":1,"小寒":1,"大寒":1,"立春":8,"雨水":8,"惊蛰":8,"春分":3,"清明":3,"谷雨":3,"立夏":4,"小满":4,"芒种":4,"夏至":9,"小暑":9,"大暑":9,"立秋":2,"处暑":2,"白露":2,"秋分":7,"寒露":7,"霜降":7}[o]||1,ye=[6,1,8,3,4,9,2,7],me=["旺","相","胎","没","死","囚","废","休"],_e=ye.indexOf(he),be=new Array(10).fill("");for(let m=0;m<8;m++){const e=ye[(_e+m)%8],a=me[m];be[e]=a}be[5]=be[2];const ze=e=>[0,1,2,3,3,2,4,4,2,5][e]||0,xe=(e,a)=>{if(!e||!a)return"";if(e===a)return"旺";const t=(e,a)=>1===e&&3===a||3===e&&5===a||5===e&&2===a||2===e&&4===a||4===e&&1===a;if(t(a,e))return"相";if(t(e,a))return"休";const s=(e,a)=>1===e&&5===a||5===e&&4===a||4===e&&3===a||3===e&&2===a||2===e&&1===a;return s(e,a)?"囚":s(a,e)?"死":""},pe=new Array(10).fill(null),ke=new Array(10).fill(null),Ce=n.month.charAt(1),Ge=j.indexOf(Ce);let we=0;we=[11,0].includes(Ge)?1:[2,3].includes(Ge)?3:[5,6].includes(Ge)?5:[8,9].includes(Ge)?4:2;const Se={"甲":3,"乙":3,"丙":5,"丁":5,"戊":2,"己":2,"庚":4,"辛":4,"壬":1,"癸":1},Ie=new Array(10).fill("");for(let m=1;m<=9;m++){const e=G[m],a=A.indexOf(e);if(a>0){const e=be[a],t=xe(ze(a),we);pe[m]={top:e,bot:t}}const t=Z[m],s=W.indexOf(t);if(s>0){const e=be[s],a=xe(ze(s),ze(m));ke[m]={top:e,bot:a}}const l=H[m];if(l){const e=Se[l.charAt(0)];e&&(Ie[m]=xe(e,we))}}const je=["太岁","太阳","丧门","太阴","五鬼","小耗","大耗","龙德","白虎","福德","吊客","病符"],Ae=["五符","天曹","地符","风伯","雷公","雨师","风云","唐符","国印","天关","地轴","天贼"],We={},De=j.indexOf(n.year.charAt(1)),Xe={0:2,1:3,2:5,3:6,4:5,5:6,6:8,7:9,8:11,9:0}[I.indexOf(n.day.charAt(0))];j.forEach((e=>{We[e]={suiSha:"",wuFu:""}}));for(let m=0;m<12;m++){We[j[(De+m)%12]].suiSha=je[m];We[j[(Xe+m)%12]].wuFu=Ae[m]}const Re=["禄","暗","福","耗","荫","贵","刑","印","囚","权"],Ze=n.day.charAt(0),Be=I.indexOf(Ze),Te={};if(-1!==Be)for(let m=0;m<10;m++){const e=(m-Be+10)%10;Te[I[m]]=Re[e]}return{jieQi:o,yuan:["上元","中元","下元"][r],juName:(c?"阳遁":"阴遁")+["一","二","三","四","五","六","七","八","九"][d-1]+"局",bazi:n,zhiFu:x,zhiShi:p,xunShou:"甲"+j[M]+b,xunKong:{branches:[L,$],stem:K},horses:{yiMa:Q,dingMa:V,tianMa:q},layout:{baziInfo:ae,youDun:J,earth:f,earthGanZhi:E,stars:G,doors:Z,skyGods:T,earthGods:Y,hidden:v,skyTenGods:ce,earthTenGods:de,skyChangSheng:ge,earthChangSheng:fe,wangShuai:be,skyWangShuai:Ie,starWangShuai:pe,doorWangShuai:ke,outer:We,huaYao:Te},skyStem:F,skyGanZhi:H}}const Z={"戊":{1:"归海",2:"见田",3:"登殿",4:"乘风",5:"居都",6:"受困",7:"剝鱗",8:"化蛟",9:"脱骨"},"己":{1:"闭户",2:"掩扉",3:"破门",4:"交冲",5:"守靜",6:"封户",7:"敛户",8:"开户",9:"亨通"},"庚":{1:"不芒",2:"渐明",3:"光辉",4:"渐晦",5:"守中",6:"兴武",7:"芒角",8:"养玉",9:"灭光"},"辛":{1:"忍饥",2:"伸爪",3:"食素",4:"啖斋",5:"伏穴",6:"抻腿",7:"杨威",8:"跳涧",9:"脱毛"},"壬":{1:"结群",2:"被蔽",3:"散伙",4:"变民",5:"耕耘",6:"撒马",7:"练武",8:"缧绁",9:"煴蒸"},"癸":{1:"变龙",2:"脱角",3:"受惊",4:"失洞",5:"挨餓",6:"足食",7:"腾跃",8:"受困",9:"形灭"},"乙":{1:"反阳",2:"灭辉",3:"升殿",4:"全阳",5:"养心",6:"分尸",7:"灭光",8:"现仪",9:"腾辉"},"丙":{1:"灭光",2:"值晦",3:"体圆",4:"阴吉",5:"失光",6:"入墓",7:"亏气",8:"脱弦",9:"明照"},"丁":{1:"投江",2:"欠康",3:"谋起",4:"御风",5:"入狱",6:"亡命",7:"偷私",8:"当宝",9:"耀明"}};const B=G({data:()=>({showModal:!1,modalTitle:"",modalList:[],modalSkyInfo:null,modalEarthInfo:null,modalGeju:[],options:{},result:{jieQi:"",yuan:"",juName:"",bazi:{year:"",month:"",day:"",hour:""},zhiFu:"",zhiShi:"",xunShou:"",layout:{earth:[],earthGanZhi:[],stars:[],doors:[],skyGods:[],earthGods:[],hidden:{},skyGods:[],earthGods:[],hidden:{},youDun:{},outer:{}},skyStem:[],skyGanZhi:[]},liuRen:{tianpan:{},guiren:{},jianchu:{},xundun:{}},gridLayout:[[4,9,2],[3,5,7],[8,1,6]],xingnianBenming:null}),onLoad(a){this.options=a;try{this.calc()}catch(t){console.error("onLoad Error:",t),e({title:"加载出错",icon:"none"})}},methods:{handleCellClick(e){const a=this.result.skyGanZhi[e],t=this.result.layout.earthGanZhi[e],s=this.getGan(t);this.modalSkyInfo={gz:a,nayin:this.getNaYin(a)},this.modalEarthInfo={gz:t,nayin:this.getNaYin(t)};const l={"戊":["甲子","癸酉","壬午","辛卯","庚子","己酉","戊午"],"己":["乙丑","甲戌","癸未","壬辰","辛丑","庚戌","己未"],"庚":["丙寅","乙亥","甲申","癸巳","壬寅","辛亥","庚申"],"辛":["丁卯","丙子","乙酉","甲午","癸卯","壬子","辛酉"],"壬":["戊辰","丁丑","丙戌","乙未","甲辰","癸丑","壬戌"],"癸":["己巳","戊寅","丁亥","丙申","乙巳","甲寅","癸亥"],"丁":["庚午","己卯","戊子","丁酉","丙午","乙卯"],"丙":["辛未","庚辰","己丑","戊戌","丁未","丙辰"],"乙":["壬申","辛巳","庚寅","己亥","戊申","丁巳"]}[s],n=this.getGan(a),i=this.getDunGan(t);this.modalGeju=this.getGeju(n,s,i),l&&l.length>0?(this.modalTitle="地盘"+s+"遁干",this.modalList=l,this.showModal=!0):(a||t)&&(this.modalTitle="地盘"+(s||"")+"信息",this.modalList=[],this.showModal=!0)},closeModal(){this.showModal=!1},goBack(){a()},goPrevious(){let e;e=this.useCustomTime&&this.customDateTime?new Date(this.customDateTime):new Date,e.setHours(e.getHours()-2),this.customDateTime=e.toISOString(),this.useCustomTime=!0,this.options.mode="custom",this.options.date=this.formatDate(e),this.options.time=this.formatTime(e),this.calc()},goCurrentTime(){this.customDateTime=null,this.useCustomTime=!1,this.options.mode="current",this.calc()},goNext(){let e;e=this.useCustomTime&&this.customDateTime?new Date(this.customDateTime):new Date,e.setHours(e.getHours()+2),this.customDateTime=e.toISOString(),this.useCustomTime=!0,this.options.mode="custom",this.options.date=this.formatDate(e),this.options.time=this.formatTime(e),this.calc()},calc(){try{let t,s,l={};if("current"!==this.options.mode&&"current-time"!==this.options.mode&&this.options.mode){if("custom"===this.options.mode)t=this.options.date,s=this.options.time;else if("sizhu"===this.options.mode){if(t="2000-01-01",s="12:00",this.options.bazi){const e=decodeURIComponent(this.options.bazi).split(","),a=decodeURIComponent(this.options.jieqi);l.bazi={year:e[0],month:e[1],day:e[2],hour:e[3]},l.jieqi=a}}else if("manual"===this.options.mode){const e=new Date;t=this.formatDate(e),s=this.formatTime(e)}}else{const e=new Date;t=this.formatDate(e),s=this.formatTime(e)}if(this.options.ju){const e=this.options.ju.split("-");2===e.length&&(l.ju={isYang:"yang"===e[0],juNum:parseInt(e[1])})}const n=R(t,s,l);if(n.error)return void e({title:n.error,icon:"none"});if(this.result={...this.result,...n,layout:{...this.result.layout,...n.layout}},this.options.birthYear)try{const e=parseInt(this.options.birthYear),a="1"===this.options.gender,s=new Date(t).getFullYear(),l=x(e,a,s);if(this.xingnianBenming=l,l.benming&&l.xingnian){const e=l.benming.zhi,a=l.xingnian.zhi;this.result.layout.outer[e]&&this.$set(this.result.layout.outer[e],"isBenMing",!0),this.result.layout.outer[a]&&this.$set(this.result.layout.outer[a],"isXingNian",!0)}}catch(a){console.error("XingNian Calc Error",a)}try{this.calculateLiuRen(t,s,n)}catch(a){console.error("Liu Ren calculation error:",a),this.liuRen={tianpan:{},guiren:{},jianchu:{},xundun:{}}}}catch(a){console.error("Top Level Calc Error:",a),e({title:"排盘计算出错",icon:"none"})}},calculateLiuRen(e,a,t){const s=(t.bazi.hour?t.bazi.hour.charAt(1):"子")||"子",l=(t.bazi.day?t.bazi.day.charAt(0):"甲")||"甲",n=(t.bazi.month?t.bazi.month.charAt(1):"寅")||"寅",i=t.jieQi||"立春",u=z(i),o=b(u,s);this.liuRen.tianpan=o||{};const r=p(l,s,o);this.liuRen.guiren=r&&r.layout?r.layout:{};const c=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],d={};c.forEach((e=>{d[e]=k(n,e,o)})),this.liuRen.jianchu=d;const g=(t.bazi.day?t.bazi.day.charAt(1):"寅")||"寅",f={};c.forEach((e=>{const a=C(e,l,g);f[e]=a.gan})),this.liuRen.xundun=f},formatDate:e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`,formatTime(e){if(!e||isNaN(e.getTime()))return"00:00";return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},getGongName:e=>["","坎","坤","震","巽","中","乾","兑","艮","离"][e],getGodColor:e=>"值符"===e?"god-zhifu":"",getStarColor:e=>"star-color",getDoorColor:e=>["开门","休门","生门"].includes(e)?"door-good":"door-bad",getGan:e=>!e||e.length<1?"":e.charAt(0),getYaoCi:(e,a)=>e&&Z[e]&&Z[e][a]||"",getZhi:e=>!e||e.length<2?"":e.charAt(1),getHiddenGan(e){if(!e)return"";return e.split("/")[0].charAt(0)||""},getHiddenZhi(e){if(!e)return"";return e.split("/")[0].charAt(1)||""},getGuirenShort:e=>e||"",getGuirenColor(e){if(!e)return"";return{"贵":"wx-metal","蛇":"wx-fire","朱":"wx-fire","合":"wx-wood","勾":"wx-earth","龙":"wx-wood","空":"wx-earth","虎":"wx-metal","常":"wx-earth","玄":"wx-water","阴":"wx-metal","后":"wx-water"}[e]||""},getWuXingClass:e=>e?"甲乙寅卯".includes(e)?"wx-wood":"丙丁巳午".includes(e)?"wx-fire":"戊己辰戌丑未".includes(e)?"wx-earth":"庚辛申酉".includes(e)?"wx-metal":"壬癸亥子".includes(e)?"wx-water":"木".includes(e)?"wx-wood":"火".includes(e)?"wx-fire":"土".includes(e)?"wx-earth":"金".includes(e)?"wx-metal":"水".includes(e)?"wx-water":"":"",getNaYinColor(e){if(!e)return"";const a=e.slice(-1);return this.getWuXingClass(a)},isVoidGong(e){if(!this.result.xunKong||!this.result.xunKong.branches)return!1;return({1:["子"],8:["丑","寅"],3:["卯"],4:["辰","巳"],9:["午"],2:["未","申"],7:["酉"],6:["戌","亥"]}[e]||[]).some((e=>this.result.xunKong.branches.includes(e)))},isVoidStem(e){if(!e||!this.result.xunKong||!this.result.xunKong.branches)return!1;const a=this.result.xunKong.branches;return!(!a.includes("申")&&!a.includes("酉")||"庚"!==e)||(!(!a.includes("寅")&&!a.includes("卯")||"癸"!==e)||(!(!a.includes("戌")&&!a.includes("亥")||"己"!==e)||(!(!a.includes("午")&&!a.includes("未")||"辛"!==e)||(!(!a.includes("辰")&&!a.includes("巳")||"壬"!==e)||!(!a.includes("子")&&!a.includes("丑")||"戊"!==e)))))},isSpecialBlue(e,a,t){if(!a)return!1;const s=this.result,l=s.bazi.hour.charAt(0),n=s.bazi.year.charAt(0);if("star"===e)return a===s.zhiFu;if("door"===e)return a===s.zhiShi;if("skyStem"===e){if(a===l)return!0;if(a===n)return!0}if("earthStem"===e){let e=0;for(let a=1;a<=9;a++)if(this.getGan(s.skyGanZhi[a])===l){e=a;break}if(t===e)return!0;if(a===n)return!0}return!1},isSpecialRedDoor:(e,a)=>!!e&&(!(!["惊门","开门"].includes(e)||![3,4].includes(a))||("休门"===e&&9===a||(!(!["伤门","杜门"].includes(e)||![2,8,5].includes(a))||(!(!["景门"].includes(e)||![6,7].includes(a))||!(!["生门","死门","中门"].includes(e)||1!==a))))),isSpecialRedStem:(e,a)=>!!e&&(3===a&&"戊"===e||(8===a&&"庚"===e||(9===a&&"辛"===e||(!(4!==a||!["壬","癸"].includes(e))||2===a&&"己"===e)))),getNaYin:e=>X(e),isInnerPan(e){if(5===e)return!1;return(this.result.juName||"").includes("阳")?[1,8,3,4].includes(e):[9,2,7,6].includes(e)},getDunGan(e){if(!e||e.length<2)return"";const a={"戊":["甲子","癸酉","壬午","辛卯","庚子","己酉","戊午"],"己":["乙丑","甲戌","癸未","壬辰","辛丑","庚戌","己未"],"庚":["丙寅","乙亥","甲申","癸巳","壬寅","辛亥","庚申"],"辛":["丁卯","丙子","乙酉","甲午","癸卯","壬子","辛酉"],"壬":["戊辰","丁丑","丙戌","乙未","甲辰","癸丑","壬戌"],"癸":["己巳","戊寅","丁亥","丙申","乙巳","甲寅","癸亥"],"丁":["庚午","己卯","戊子","丁酉","丙午","乙卯"],"丙":["辛未","庚辰","己丑","戊戌","丁未","丙辰"],"乙":["壬申","辛巳","庚寅","己亥","戊申","丁巳"]};for(const[t,s]of Object.entries(a))if(s.includes(e))return t;return""},getGeju(e,a,t){const s={"耗气格":{combos:["丙戊","戊庚","庚壬"],desc:"主耗我之元阳而伤我之财物也"},"夺权格":{combos:["乙丁","丁己","己辛","辛癸","癸乙"],desc:"被人夺我之权衡也"},"交阴格":{combos:["丙己","戊辛","甲丁","壬乙","庚癸"],desc:"利于妇女淫邪之事 并有隐匿阴私之象"},"交阳格":{combos:["丁戊","己庚","乙丙","辛壬"],desc:"事虽主进 未免有伤我之精血也"},"得母格":{combos:["庚己","戊丁","壬辛","丙乙"],desc:"事虽属退 然家中之和顺 大人之庇荫 亦必所不免也"},"获父格":{combos:["己丙","辛戊","癸庚","乙壬"],desc:"主得大人之助父老之获也"},"乘权格":{combos:["庚戊","戊丙","壬庚"],desc:"虽属后间 但以进步而威扬之也"},"倚势格":{combos:["丁乙","乙癸","癸辛","辛己","己丁"],desc:"主赖他人制辖家里纷扰 而我之志不能伸也"},"外侵格":{combos:["庚乙","壬丁","丙辛","戊癸"],desc:"外人欺我要提防"},"内侵格":{combos:["乙庚","丁壬","辛丙","癸戊"],desc:"家中欺我意不良"},"外害格":{combos:["乙戊","丁庚","己壬","癸丙"],desc:"灾殃陡起在他乡"},"内害格":{combos:["丙癸","戊乙","庚丁","壬己"],desc:"是非口舌家淫猖"},"外制格":{combos:["丙庚","戊壬","壬丙","戊壬"],desc:"他人欺辖隐钩铓"},"内制格":{combos:["庚丙","壬戊","丙壬"],desc:"家里翻腾欲寻殃"},"外乱格":{combos:["乙己","丁辛","己癸","辛乙","癸丁"],desc:"外国来兵要侵疆"},"内乱格":{combos:["己乙","乙辛","辛丁","丁癸","癸己"],desc:"家里纷纷无主张"}},l=[],n=[];e&&a&&n.push({combo:e+a,type:"天+地"}),e&&t&&n.push({combo:e+t,type:"天+暗"}),t&&a&&n.push({combo:t+a,type:"暗+地"});for(const[i,u]of Object.entries(s))for(const e of n)u.combos.includes(e.combo)&&l.push({name:i,combo:e.combo.charAt(0)+"+"+e.combo.charAt(1),type:e.type,desc:u.desc});return l}}},[["render",function(e,a,m,_,b,z){const x=y,p=l;return n(),t(p,{class:"container"},{default:s((()=>[i(p,{class:"nav-bar"},{default:s((()=>[i(p,{class:"back-btn",onClick:z.goBack},{default:s((()=>[i(x,{class:"back-icon"},{default:s((()=>[u("←")])),_:1}),i(x,{class:"back-text"},{default:s((()=>[u("返回")])),_:1})])),_:1},8,["onClick"]),i(x,{class:"nav-title"},{default:s((()=>[u("飞盘奇门")])),_:1}),i(p,{class:"nav-buttons"},{default:s((()=>[i(p,{class:"back-btn",onClick:z.goPrevious},{default:s((()=>[i(x,{class:"nav-icon"},{default:s((()=>[u("◀")])),_:1})])),_:1},8,["onClick"]),i(p,{class:"back-btn",onClick:z.goCurrentTime},{default:s((()=>[i(x,{class:"nav-icon"},{default:s((()=>[u("↻")])),_:1})])),_:1},8,["onClick"]),i(p,{class:"back-btn",onClick:z.goNext},{default:s((()=>[i(x,{class:"nav-icon"},{default:s((()=>[u("▶")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),i(p,{class:"content"},{default:s((()=>[i(p,{class:"info-card"},{default:s((()=>[i(p,{class:"info-row main-title"},{default:s((()=>[i(x,{class:"info-text"},{default:s((()=>[u(o(b.result.jieQi)+" "+o(b.result.yuan),1)])),_:1}),i(x,{class:"info-text highlight"},{default:s((()=>[u(o(b.result.juName),1)])),_:1})])),_:1}),b.result.layout.baziInfo?(n(),t(p,{key:0,class:"bazi-grid"},{default:s((()=>[i(p,{class:"bazi-row header-row"},{default:s((()=>[i(p,{class:"bazi-cell header-cell"},{default:s((()=>[i(x,null,{default:s((()=>[u("年")])),_:1})])),_:1}),i(p,{class:"bazi-cell header-cell"},{default:s((()=>[i(x,null,{default:s((()=>[u("月")])),_:1})])),_:1}),i(p,{class:"bazi-cell header-cell"},{default:s((()=>[i(x,null,{default:s((()=>[u("日")])),_:1})])),_:1}),i(p,{class:"bazi-cell header-cell"},{default:s((()=>[i(x,null,{default:s((()=>[u("时")])),_:1})])),_:1})])),_:1}),i(p,{class:"bazi-row"},{default:s((()=>[i(p,{class:"bazi-cell"},{default:s((()=>[i(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.year.gz)))},{default:s((()=>[u(o(z.getGan(b.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.year.gz)))},{default:s((()=>[u(o(z.getZhi(b.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"])])),_:1}),i(p,{class:"bazi-cell"},{default:s((()=>[i(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.month.gz)))},{default:s((()=>[u(o(z.getGan(b.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.month.gz)))},{default:s((()=>[u(o(z.getZhi(b.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"])])),_:1}),i(p,{class:"bazi-cell"},{default:s((()=>[i(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.day.gz)))},{default:s((()=>[u(o(z.getGan(b.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.day.gz)))},{default:s((()=>[u(o(z.getZhi(b.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"])])),_:1}),i(p,{class:"bazi-cell"},{default:s((()=>[i(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.hour.gz)))},{default:s((()=>[u(o(z.getGan(b.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.hour.gz)))},{default:s((()=>[u(o(z.getZhi(b.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"])])),_:1})])),_:1}),i(p,{class:"bazi-row"},{default:s((()=>[i(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.year.xk||"",((e,a)=>(n(),t(x,{key:a,class:r(z.getWuXingClass(e))},{default:s((()=>[u(o(e),1)])),_:2},1032,["class"])))),128))])),_:1}),i(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.month.xk||"",((e,a)=>(n(),t(x,{key:a,class:r(z.getWuXingClass(e))},{default:s((()=>[u(o(e),1)])),_:2},1032,["class"])))),128))])),_:1}),i(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.day.xk||"",((e,a)=>(n(),t(x,{key:a,class:r(z.getWuXingClass(e))},{default:s((()=>[u(o(e),1)])),_:2},1032,["class"])))),128))])),_:1}),i(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.hour.xk||"",((e,a)=>(n(),t(x,{key:a,class:r(z.getWuXingClass(e))},{default:s((()=>[u(o(e),1)])),_:2},1032,["class"])))),128))])),_:1})])),_:1}),i(p,{class:"bazi-row"},{default:s((()=>[i(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.year.ny)])},{default:s((()=>[u(o(b.result.layout.baziInfo.year.ny),1)])),_:1},8,["class"]),i(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.month.ny)])},{default:s((()=>[u(o(b.result.layout.baziInfo.month.ny),1)])),_:1},8,["class"]),i(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.day.ny)])},{default:s((()=>[u(o(b.result.layout.baziInfo.day.ny),1)])),_:1},8,["class"]),i(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.hour.ny)])},{default:s((()=>[u(o(b.result.layout.baziInfo.hour.ny),1)])),_:1},8,["class"])])),_:1}),i(p,{class:"bazi-row"},{default:s((()=>[i(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.year.gz))])},{default:s((()=>[u(o(z.getDunGan(b.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"]),i(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.month.gz))])},{default:s((()=>[u(o(z.getDunGan(b.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"]),i(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.day.gz))])},{default:s((()=>[u(o(z.getDunGan(b.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"]),i(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.hour.gz))])},{default:s((()=>[u(o(z.getDunGan(b.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"])])),_:1})])),_:1})):f("",!0),b.xingnianBenming?(n(),t(p,{key:1,class:"xingnian-info"},{default:s((()=>[i(x,null,{default:s((()=>[u("本命:")])),_:1}),i(x,{class:r(z.getWuXingClass(b.xingnianBenming.benming.gan))},{default:s((()=>[u(o(b.xingnianBenming.benming.gan),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(b.xingnianBenming.benming.zhi))},{default:s((()=>[u(o(b.xingnianBenming.benming.zhi),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(z.getDunGan(b.xingnianBenming.benming.gan+b.xingnianBenming.benming.zhi)))},{default:s((()=>[u(o(z.getDunGan(b.xingnianBenming.benming.gan+b.xingnianBenming.benming.zhi)),1)])),_:1},8,["class"]),i(x,{class:"xingnian-spacer"},{default:s((()=>[u("行年:")])),_:1}),i(x,{class:r(z.getWuXingClass(b.xingnianBenming.xingnian.gan))},{default:s((()=>[u(o(b.xingnianBenming.xingnian.gan),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(b.xingnianBenming.xingnian.zhi))},{default:s((()=>[u(o(b.xingnianBenming.xingnian.zhi),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(z.getDunGan(b.xingnianBenming.xingnian.gan+b.xingnianBenming.xingnian.zhi)))},{default:s((()=>[u(o(z.getDunGan(b.xingnianBenming.xingnian.gan+b.xingnianBenming.xingnian.zhi)),1)])),_:1},8,["class"]),i(x,{class:"xingnian-spacer"},{default:s((()=>[u(o(b.xingnianBenming.birthYear)+"年",1)])),_:1}),i(x,{class:r(["gender-badge",b.xingnianBenming.isMale?"male":"female"])},{default:s((()=>[u(o(b.xingnianBenming.gender),1)])),_:1},8,["class"])])),_:1})):f("",!0),i(p,{class:"info-row sub-info"},{default:s((()=>[i(p,{class:"info-item"},{default:s((()=>[i(x,null,{default:s((()=>[u("值符:")])),_:1}),i(x,{class:"info-val"},{default:s((()=>[u(o(b.result.zhiFu||"-"),1)])),_:1})])),_:1}),i(p,{class:"info-item"},{default:s((()=>[i(x,null,{default:s((()=>[u("值使:")])),_:1}),i(x,{class:"info-val"},{default:s((()=>[u(o(b.result.zhiShi||"-"),1)])),_:1})])),_:1}),i(p,{class:"info-item"},{default:s((()=>[i(x,null,{default:s((()=>[u("旬首:")])),_:1}),i(x,{class:"info-val"},{default:s((()=>[u(o(b.result.xunShou||"-"),1)])),_:1})])),_:1})])),_:1})])),_:1}),i(p,{class:"outer-ring-container"},{default:s((()=>[i(p,{class:"ring-row ring-top"},{default:s((()=>[i(p,{class:"ring-corner-spacer"}),(n(),c(g,null,d(["巳","午","未"],(e=>i(p,{class:"ring-cell-h",key:e},{default:s((()=>[i(p,{class:"layer-outer h-mode"},{default:s((()=>[i(p,{class:"ring-outer-stars"},{default:s((()=>[i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[e]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[u("命")])),_:1})):f("",!0),(b.result.layout.outer[e]||{}).isXingNian?(n(),t(p,{key:1,class:"marker-badge xingnian"},{default:s((()=>[u("年")])),_:1})):f("",!0)])),_:2},1024),i(p,{class:"layer-liuren h-mode"},{default:s((()=>[i(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[e])])},{default:s((()=>[u(o(b.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[e])])},{default:s((()=>[u(o(b.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[e])])},{default:s((()=>[u(o(b.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(x,{class:"ring-jianchu"},{default:s((()=>[u(o(b.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))),64)),i(p,{class:"ring-corner-spacer"})])),_:1}),i(p,{class:"ring-middle"},{default:s((()=>[i(p,{class:"ring-col ring-left"},{default:s((()=>[(n(),c(g,null,d(["辰","卯","寅"],(e=>i(p,{class:"ring-cell-v",key:e},{default:s((()=>[i(p,{class:"layer-outer v-mode"},{default:s((()=>[i(p,{class:"ring-outer-stars"},{default:s((()=>[i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[e]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[u("命")])),_:1})):f("",!0)])),_:2},1024),i(p,{class:"layer-liuren v-mode"},{default:s((()=>[i(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[e])])},{default:s((()=>[u(o(b.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[e])])},{default:s((()=>[u(o(b.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[e])])},{default:s((()=>[u(o(b.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(x,{class:"ring-jianchu"},{default:s((()=>[u(o(b.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))),64))])),_:1}),i(p,{class:"grid-container"},{default:s((()=>[(n(!0),c(g,null,d(b.gridLayout,((e,a)=>(n(),t(p,{class:"grid-row",key:a},{default:s((()=>[(n(!0),c(g,null,d(e,((e,a)=>(n(),t(p,{class:r(["grid-cell",["gong-"+e,{center:5===e,"bg-inner":z.isInnerPan(e),"bg-outer":!z.isInnerPan(e)&&5!==e}]]),key:a,onClick:a=>z.handleCellClick(e)},{default:s((()=>[i(p,{class:"gong-bg"},{default:s((()=>[u(o(z.getGongName(e)),1)])),_:2},1024),z.isVoidGong(e)?(n(),t(p,{key:0,class:"pos-top-center"},{default:s((()=>[i(p,{class:r(["xunkong-circle",{"xunkong-red":z.isSpecialRedDoor(b.result.layout.doors[e],e)}])},null,8,["class"])])),_:2},1024)):f("",!0),i(p,{class:"pos-left"},{default:s((()=>[i(x,{class:r(["hidden-char",z.getWuXingClass(z.getHiddenGan(b.result.layout.hidden[e])),{"low-opacity":z.isVoidStem(z.getHiddenGan(b.result.layout.hidden[e]))}])},{default:s((()=>[u(o(z.getHiddenGan(b.result.layout.hidden[e])),1)])),_:2},1032,["class"]),i(x,{class:r(["hidden-char",z.getWuXingClass(z.getHiddenZhi(b.result.layout.hidden[e]))])},{default:s((()=>[u(o(z.getHiddenZhi(b.result.layout.hidden[e])),1)])),_:2},1032,["class"]),i(p,{class:"hidden-yao-ci"},{default:s((()=>[(n(!0),c(g,null,d(z.getYaoCi(z.getHiddenGan(b.result.layout.hidden[e]),e),((e,a)=>(n(),t(x,{key:a},{default:s((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),i(p,{class:"pos-right"},{default:s((()=>[i(p,{class:"right-stack"},{default:s((()=>[i(p,{class:"pillar-line"},{default:s((()=>[i(x,{class:r(["gz-h",{"low-opacity":z.isVoidStem(z.getGan(b.result.skyGanZhi[e])),"special-blue":z.isSpecialBlue("skyStem",z.getGan(b.result.skyGanZhi[e]),e),"special-red":z.isSpecialRedStem(z.getGan(b.result.skyGanZhi[e]),e),"boxed-border":(b.result.layout.skyChangSheng[e]||"").includes("墓")}])},{default:s((()=>[u(o(z.getGan(b.result.skyGanZhi[e])),1)])),_:2},1032,["class"]),i(x,{class:"gz-h"},{default:s((()=>[u(o(z.getZhi(b.result.skyGanZhi[e])),1)])),_:2},1024),i(p,{class:"cs-vertical"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.skyChangSheng[e]||"",((e,a)=>(n(),t(x,{class:"cs-char",key:a},{default:s((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),i(p,{class:"info-line top"},{default:s((()=>[i(x,{class:"ten-god-text"},{default:s((()=>[u(o(b.result.layout.skyTenGods[e]),1)])),_:2},1024),b.result.layout.huaYao?(n(),t(x,{key:0,class:"hua-yao-text"},{default:s((()=>[u(o(b.result.layout.huaYao[z.getGan(b.result.skyGanZhi[e])]||""),1)])),_:2},1024)):f("",!0)])),_:2},1024),i(p,{class:"pillar-line"},{default:s((()=>[i(x,{class:r(["gz-h",{"low-opacity":z.isVoidStem(z.getGan(b.result.layout.earthGanZhi[e])),"special-blue":z.isSpecialBlue("earthStem",z.getGan(b.result.layout.earthGanZhi[e]),e),"special-red":z.isSpecialRedStem(z.getGan(b.result.layout.earthGanZhi[e]),e),"boxed-border":(b.result.layout.earthChangSheng[e]||"").includes("墓")}])},{default:s((()=>[u(o(z.getGan(b.result.layout.earthGanZhi[e])),1)])),_:2},1032,["class"]),i(x,{class:"gz-h"},{default:s((()=>[u(o(z.getZhi(b.result.layout.earthGanZhi[e])),1)])),_:2},1024),i(p,{class:"cs-vertical"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.earthChangSheng[e]||"",((e,a)=>(n(),t(x,{class:"cs-char",key:a},{default:s((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),i(p,{class:"info-line bottom"},{default:s((()=>[i(x,{class:"ten-god-text"},{default:s((()=>[u(o(b.result.layout.earthTenGods[e]),1)])),_:2},1024),b.result.layout.huaYao?(n(),t(x,{key:0,class:"hua-yao-text"},{default:s((()=>[u(o(b.result.layout.huaYao[z.getGan(b.result.layout.earthGanZhi[e])]||""),1)])),_:2},1024)):f("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(p,{class:"pos-top-left"},{default:s((()=>[b.result.layout.youDun&&b.result.layout.youDun[e]?(n(),t(p,{key:0,class:"you-dun-row"},{default:s((()=>[i(x,{class:r(["you-dun-char",z.getWuXingClass(z.getGan(b.result.layout.youDun[e]))])},{default:s((()=>[u(o(z.getGan(b.result.layout.youDun[e])),1)])),_:2},1032,["class"]),i(x,{class:r(["you-dun-char",z.getWuXingClass(z.getZhi(b.result.layout.youDun[e]))])},{default:s((()=>[u(o(z.getZhi(b.result.layout.youDun[e])),1)])),_:2},1032,["class"])])),_:2},1024)):f("",!0)])),_:2},1024),i(p,{class:"pos-top-right"},{default:s((()=>[b.result.horses&&b.result.horses.tianMa===e&&b.result.horses.dingMa===e?(n(),t(p,{key:0,class:"horse-row"},{default:s((()=>[i(p,{class:"horse-star tian-ma"},{default:s((()=>[u("天马")])),_:1}),i(p,{class:"ding-ma-text"},{default:s((()=>[u("丁马")])),_:1})])),_:1})):b.result.horses&&b.result.horses.tianMa===e?(n(),t(p,{key:1,class:"horse-star tian-ma"},{default:s((()=>[u("天马")])),_:1})):b.result.horses&&b.result.horses.dingMa===e?(n(),t(p,{key:2,class:"ding-ma-text"},{default:s((()=>[u("丁马")])),_:1})):f("",!0)])),_:2},1024),b.result.horses&&b.result.horses.yiMa===e?(n(),t(p,{key:1,class:"horse-star yi-ma"},{default:s((()=>[u("马")])),_:1})):f("",!0),i(p,{class:"corner-br"},{default:s((()=>[i(x,{class:"gong-ws-text"},{default:s((()=>[u(o(b.result.layout.wangShuai[e]),1)])),_:2},1024)])),_:2},1024),i(p,{class:"yao-ci-container"},{default:s((()=>[i(p,{class:"yao-ci-col sky"},{default:s((()=>[(n(!0),c(g,null,d(z.getYaoCi(z.getGan(b.result.skyGanZhi[e]),e),((e,a)=>(n(),t(x,{key:a},{default:s((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:2},1024),i(p,{class:"yao-ci-col earth"},{default:s((()=>[(n(!0),c(g,null,d(z.getYaoCi(z.getGan(b.result.layout.earthGanZhi[e]),e),((e,a)=>(n(),t(x,{key:a},{default:s((()=>[u(o(e),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),i(p,{class:"pos-center"},{default:s((()=>[i(p,{class:"god-col"},{default:s((()=>[i(x,{class:r(["sky-god",z.getGodColor(b.result.layout.skyGods[e])])},{default:s((()=>[u(o(b.result.layout.skyGods[e]),1)])),_:2},1032,["class"])])),_:2},1024),i(p,{class:"star-group"},{default:s((()=>[i(x,{class:r(["star-text",z.getStarColor(b.result.layout.stars[e]),{"special-blue":z.isSpecialBlue("star",b.result.layout.stars[e],e)}])},{default:s((()=>[u(o(b.result.layout.stars[e]),1)])),_:2},1032,["class"]),b.result.layout.starWangShuai[e]?(n(),t(p,{key:0,class:"ws-col"},{default:s((()=>[i(x,{class:"ws-char"},{default:s((()=>[u(o(b.result.layout.starWangShuai[e].top),1)])),_:2},1024),i(x,{class:"ws-char"},{default:s((()=>[u(o(b.result.layout.starWangShuai[e].bot),1)])),_:2},1024)])),_:2},1024)):f("",!0)])),_:2},1024),i(p,{class:"door-group"},{default:s((()=>[i(x,{class:r(["door-text",z.getDoorColor(b.result.layout.doors[e]),{"special-blue":z.isSpecialBlue("door",b.result.layout.doors[e],e),"special-red":z.isSpecialRedDoor(b.result.layout.doors[e],e)}])},{default:s((()=>[u(o(b.result.layout.doors[e]),1)])),_:2},1032,["class"]),b.result.layout.doorWangShuai[e]?(n(),t(p,{key:0,class:"ws-col"},{default:s((()=>[i(x,{class:"ws-char"},{default:s((()=>[u(o(b.result.layout.doorWangShuai[e].top),1)])),_:2},1024),i(x,{class:"ws-char"},{default:s((()=>[u(o(b.result.layout.doorWangShuai[e].bot),1)])),_:2},1024)])),_:2},1024)):f("",!0)])),_:2},1024),i(x,{class:r(["earth-god",z.getGodColor(b.result.layout.earthGods[e])])},{default:s((()=>[u(o(b.result.layout.earthGods[e]),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)))),128))])),_:1}),i(p,{class:"ring-col ring-right"},{default:s((()=>[(n(),c(g,null,d(["申","酉","戌"],(e=>i(p,{class:"ring-cell-v",key:e},{default:s((()=>[i(p,{class:"layer-liuren v-mode"},{default:s((()=>[i(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[e])])},{default:s((()=>[u(o(b.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[e])])},{default:s((()=>[u(o(b.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[e])])},{default:s((()=>[u(o(b.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(x,{class:"ring-jianchu"},{default:s((()=>[u(o(b.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024),i(p,{class:"layer-outer v-mode"},{default:s((()=>[i(p,{class:"ring-outer-stars"},{default:s((()=>[i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[e]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[u("命")])),_:1})):f("",!0),(b.result.layout.outer[e]||{}).isXingNian?(n(),t(p,{key:1,class:"marker-badge xingnian"},{default:s((()=>[u("年")])),_:1})):f("",!0)])),_:2},1024)])),_:2},1024))),64))])),_:1})])),_:1}),b.showModal?(n(),t(p,{key:0,class:"modal-mask",onClick:z.closeModal},{default:s((()=>[i(p,{class:"modal-content",onClick:a[0]||(a[0]=h((()=>{}),["stop"]))},{default:s((()=>[i(p,{class:"modal-header"},{default:s((()=>[u(o(b.modalTitle),1)])),_:1}),b.modalSkyInfo||b.modalEarthInfo?(n(),t(p,{key:0,class:"modal-info-section"},{default:s((()=>[b.modalSkyInfo?(n(),t(p,{key:0,class:"info-row"},{default:s((()=>[i(x,{class:"info-label"},{default:s((()=>[u("天盘：")])),_:1}),i(p,{class:"ganzhi-row"},{default:s((()=>[i(x,{class:r(z.getWuXingClass(b.modalSkyInfo.gz.charAt(0)))},{default:s((()=>[u(o(b.modalSkyInfo.gz.charAt(0)),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(b.modalSkyInfo.gz.charAt(1)))},{default:s((()=>[u(o(b.modalSkyInfo.gz.charAt(1)),1)])),_:1},8,["class"])])),_:1}),i(x,{class:r(["info-nayin",z.getNaYinColor(b.modalSkyInfo.nayin)])},{default:s((()=>[u(o(b.modalSkyInfo.nayin),1)])),_:1},8,["class"])])),_:1})):f("",!0),b.modalEarthInfo?(n(),t(p,{key:1,class:"info-row"},{default:s((()=>[i(x,{class:"info-label"},{default:s((()=>[u("地盘：")])),_:1}),i(p,{class:"ganzhi-row"},{default:s((()=>[i(x,{class:r(z.getWuXingClass(b.modalEarthInfo.gz.charAt(0)))},{default:s((()=>[u(o(b.modalEarthInfo.gz.charAt(0)),1)])),_:1},8,["class"]),i(x,{class:r(z.getWuXingClass(b.modalEarthInfo.gz.charAt(1)))},{default:s((()=>[u(o(b.modalEarthInfo.gz.charAt(1)),1)])),_:1},8,["class"])])),_:1}),i(x,{class:r(["info-nayin",z.getNaYinColor(b.modalEarthInfo.nayin)])},{default:s((()=>[u(o(b.modalEarthInfo.nayin),1)])),_:1},8,["class"])])),_:1})):f("",!0)])),_:1})):f("",!0),i(p,{class:"modal-grid"},{default:s((()=>[(n(!0),c(g,null,d(b.modalList,((e,a)=>(n(),t(p,{class:"modal-item",key:a},{default:s((()=>[i(p,{class:"ganzhi-row"},{default:s((()=>[i(x,{class:r(z.getWuXingClass(e.charAt(0)))},{default:s((()=>[u(o(e.charAt(0)),1)])),_:2},1032,["class"]),i(x,{class:r(z.getWuXingClass(e.charAt(1)))},{default:s((()=>[u(o(e.charAt(1)),1)])),_:2},1032,["class"])])),_:2},1024),i(x,{class:r(["modal-nayin",z.getNaYinColor(z.getNaYin(e))])},{default:s((()=>[u(o(z.getNaYin(e)),1)])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1}),b.modalGeju&&b.modalGeju.length>0?(n(),t(p,{key:1,class:"geju-section"},{default:s((()=>[i(p,{class:"geju-title"},{default:s((()=>[u("格局")])),_:1}),(n(!0),c(g,null,d(b.modalGeju,((e,a)=>(n(),t(p,{class:"geju-item",key:"geju-"+a},{default:s((()=>[i(p,{class:"geju-header"},{default:s((()=>[i(x,{class:"geju-combo"},{default:s((()=>[u(o(e.combo),1)])),_:2},1024),i(x,{class:"geju-name"},{default:s((()=>[u(o(e.name),1)])),_:2},1024),i(x,{class:"geju-type"},{default:s((()=>[u(o(e.type),1)])),_:2},1024)])),_:2},1024),i(x,{class:"geju-desc"},{default:s((()=>[u(o(e.desc),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):f("",!0)])),_:1})])),_:1},8,["onClick"])):f("",!0),i(p,{class:"ring-row ring-bottom"},{default:s((()=>[i(p,{class:"ring-corner-spacer"}),(n(),c(g,null,d(["丑","子","亥"],(e=>i(p,{class:"ring-cell-h",key:e},{default:s((()=>[i(p,{class:"layer-liuren h-mode"},{default:s((()=>[i(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[e])])},{default:s((()=>[u(o(b.liuRen.xundun[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[e])])},{default:s((()=>[u(o(b.liuRen.tianpan[e]||""),1)])),_:2},1032,["class"]),i(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[e])])},{default:s((()=>[u(o(b.liuRen.guiren[e]||""),1)])),_:2},1032,["class"]),i(x,{class:"ring-jianchu"},{default:s((()=>[u(o(b.liuRen.jianchu[e]||""),1)])),_:2},1024)])),_:2},1024),i(p,{class:"layer-outer h-mode"},{default:s((()=>[i(p,{class:"ring-outer-stars"},{default:s((()=>[i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).wuFu),1)])),_:2},1024),i(x,{class:"outer-star-text user-select"},{default:s((()=>[u(o((b.result.layout.outer[e]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[e]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[u("命")])),_:1})):f("",!0),(b.result.layout.outer[e]||{}).isXingNian?(n(),t(p,{key:1,class:"marker-badge xingnian"},{default:s((()=>[u("年")])),_:1})):f("",!0)])),_:2},1024)])),_:2},1024))),64)),i(p,{class:"ring-corner-spacer"})])),_:1})])),_:1})])),_:1}),i(p,{class:"copyright-info"},{default:s((()=>[i(p,{class:"copyright-line"},{default:s((()=>[u("© Developer: 景川 · Wechat: Im_JingChuang")])),_:1}),i(p,{class:"copyright-line"},{default:s((()=>[u("© Technical supporter: 卿核 · Wechat: qinghe4994")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-28666a3b"]]);export{B as default};
