import{r as a,s as e,n as t,c as s,w as i,i as l,o as n,a as c,b as o,f as u,h as d,F as r,g as h,t as m,l as f,j as g,e as _,k as p,q as z}from"./index-BwOYxwnD.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=b({data:()=>({modes:[{name:"å½“å‰æ—¶é—´",value:"current"},{name:"è‡ªå®šä¹‰æ—¶é—´",value:"custom"},{name:"å››æŸ±é€‰å±€",value:"sizhu"},{name:"æ‰‹å·¥é€‰å±€",value:"manual"}],currentMode:"current",customDate:"",customTime:"",ganList:["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],zhiList:["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],gzList:[],jieQiList:["ç«‹æ˜¥","é›¨æ°´","æƒŠè›°","æ˜¥åˆ†","æ¸…æ˜","è°·é›¨","ç«‹å¤","å°æ»¡","èŠ’ç§","å¤è‡³","å°æš‘","å¤§æš‘","ç«‹ç§‹","å¤„æš‘","ç™½éœ²","ç§‹åˆ†","å¯’éœ²","éœœé™","ç«‹å†¬","å°é›ª","å¤§é›ª","å†¬è‡³","å°å¯’","å¤§å¯’"],baziParams:{year:0,month:0,day:0,hour:0,jieQi:0},manualJuData:{isYang:!0,num:1},showBaziModal:!1,currentBaziType:"year",tempGan:"ç”²",tempZhi:"å­",birthYear:"2000",gender:!0}),onLoad(){const a=new Date;this.customDate=this.formatDate(a),this.customTime=this.formatTime1(a),this.initGzList(),this.baziParams={year:0,month:0,day:0,hour:0,jieQi:0}},methods:{initGzList(){const a=[],e=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],t=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"];for(let s=0;s<60;s++)a.push(e[s%10]+t[s%12]);this.gzList=a},goHome(){a({url:"/pages/index/index"})},formatDate:a=>`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`,formatTime1:a=>`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`,bindDateChange(a){this.customDate=a.detail.value},bindTimeChange(a){this.customTime=a.detail.value},getJuNumText:a=>["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹"][a-1],getBaziText(a){const e=this.baziParams[a];return this.gzList[e]||"ç”²å­"},openBaziModal(a){this.currentBaziType=a;const e=this.gzList[this.baziParams[a]]||"ç”²å­";this.tempGan=e.charAt(0),this.tempZhi=e.charAt(1),this.showBaziModal=!0},closeBaziModal(){this.showBaziModal=!1},getBaziTitle(){return{year:"å¹´æŸ±",month:"æœˆæŸ±",day:"æ—¥æŸ±",hour:"æ—¶æŸ±"}[this.currentBaziType]||""},bindYearChange(a){this.birthYear=a.detail.value},toggleGender(){this.gender=!this.gender},selectGan(a){this.tempGan=a;const e=this.ganList.indexOf(a),t=this.zhiList.indexOf(this.tempZhi);if(e%2!=t%2){let a=t;a=e%2==0?t-1:t+1,a<0&&(a=11),a>11&&(a=0),this.tempZhi=this.zhiList[a]}},selectZhi(a){this.tempZhi=a;const e=this.zhiList.indexOf(a),t=this.ganList.indexOf(this.tempGan);if(t%2!=e%2){let a=t;a=e%2==0?t-1:t+1,a<0&&(a=9),a>9&&(a=0),this.tempGan=this.ganList[a]}},isGanDimmed(a){return this.ganList.indexOf(a)%2!=this.zhiList.indexOf(this.tempZhi)%2},isZhiDimmed(a){return this.zhiList.indexOf(a)%2!=this.ganList.indexOf(this.tempGan)%2},confirmBaziSelection(){const a=this.tempGan+this.tempZhi,t=this.gzList.indexOf(a);-1!==t?(this.baziParams[this.currentBaziType]=t,this.showBaziModal=!1):e({title:"æœªçŸ¥å¹²æ”¯ç»„åˆ",icon:"none"})},submit(){let a=`?mode=${this.currentMode}`;if("custom"===this.currentMode){if(!this.customDate||!this.customTime)return void e({title:"è¯·é€‰æ‹©å®Œæ•´æ—¶é—´",icon:"none"});a+=`&date=${this.customDate}&time=${this.customTime}`}else if("sizhu"===this.currentMode){const e=this.baziParams,t=`${this.gzList[e.year]},${this.gzList[e.month]},${this.gzList[e.day]},${this.gzList[e.hour]}`,s=this.jieQiList[e.jieQi];a+=`&bazi=${encodeURIComponent(t)}&jieqi=${encodeURIComponent(s)}`}else if("manual"===this.currentMode){a+=`&ju=${this.manualJuData.isYang?"yang":"yin"}-${this.manualJuData.num}`}this.birthYear&&(a+=`&birthYear=${this.birthYear}&gender=${this.gender?"1":"0"}`),t({url:"/pages/feipan/display/display"+a})}}},[["render",function(a,e,t,b,k,v){const C=_,y=l,L=p,x=z;return n(),s(y,{class:"container"},{default:i((()=>[c(y,{class:"top-bar"},{default:i((()=>[c(y,{class:"back-btn",onClick:v.goHome},{default:i((()=>[c(C,{class:"back-text"},{default:i((()=>[o("ä¸»é¡µ")])),_:1})])),_:1},8,["onClick"]),c(C,{class:"page-title"},{default:i((()=>[o("é£ç›˜å¥‡é—¨")])),_:1}),c(y,{class:"placeholder"})])),_:1}),c(y,{class:"logo-area"}),c(y,{class:"form-card"},{default:i((()=>[c(y,{class:"tab-card"},{default:i((()=>[(n(!0),u(r,null,d(k.modes,((a,e)=>(n(),s(y,{class:f(["tab-item",{active:k.currentMode===a.value}]),key:e,onClick:e=>k.currentMode=a.value},{default:i((()=>[o(m(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),c(y,{class:"divider"}),"current"===k.currentMode?(n(),s(y,{key:0,class:"info-text"},{default:i((()=>[c(C,null,{default:i((()=>[o("ä½¿ç”¨å½“å‰æ—¶é—´è¿›è¡Œæ’ç›˜ï¼Œå±€æ•°å°†æ ¹æ®èŠ‚æ°”è‡ªåŠ¨è®¡ç®—ã€‚")])),_:1})])),_:1})):h("",!0),"custom"===k.currentMode?(n(),s(y,{key:1,class:"input-section"},{default:i((()=>[c(y,{class:"section-label"},{default:i((()=>[o("é€‰æ‹©æ—¶é—´")])),_:1}),c(y,{class:"picker-row"},{default:i((()=>[c(L,{mode:"date",value:k.customDate,onChange:v.bindDateChange,class:"picker-half"},{default:i((()=>[c(y,{class:"picker-view"},{default:i((()=>[c(C,{class:"picker-val"},{default:i((()=>[o(m(k.customDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),c(C,{class:"icon"},{default:i((()=>[o("ğŸ“…")])),_:1})])),_:1})])),_:1},8,["value","onChange"]),c(L,{mode:"time",value:k.customTime,onChange:v.bindTimeChange,class:"picker-half"},{default:i((()=>[c(y,{class:"picker-view"},{default:i((()=>[c(C,{class:"picker-val"},{default:i((()=>[o(m(k.customTime||"æ—¶ : åˆ†"),1)])),_:1}),c(C,{class:"icon"},{default:i((()=>[o("â°")])),_:1})])),_:1})])),_:1},8,["value","onChange"])])),_:1})])),_:1})):h("",!0),"sizhu"===k.currentMode?(n(),s(y,{key:2,class:"input-section"},{default:i((()=>[c(y,{class:"section-label"},{default:i((()=>[o("å››æŸ±å¹²æ”¯ (å¹´/æœˆ/æ—¥/æ—¶)")])),_:1}),c(y,{class:"bazi-row-manual"},{default:i((()=>[c(y,{class:"bazi-box",onClick:e[0]||(e[0]=a=>v.openBaziModal("year"))},{default:i((()=>[c(C,{class:"bazi-label"},{default:i((()=>[o("å¹´æŸ±")])),_:1}),c(C,{class:"bazi-val"},{default:i((()=>[o(m(v.getBaziText("year")),1)])),_:1})])),_:1}),c(y,{class:"bazi-box",onClick:e[1]||(e[1]=a=>v.openBaziModal("month"))},{default:i((()=>[c(C,{class:"bazi-label"},{default:i((()=>[o("æœˆæŸ±")])),_:1}),c(C,{class:"bazi-val"},{default:i((()=>[o(m(v.getBaziText("month")),1)])),_:1})])),_:1}),c(y,{class:"bazi-box",onClick:e[2]||(e[2]=a=>v.openBaziModal("day"))},{default:i((()=>[c(C,{class:"bazi-label"},{default:i((()=>[o("æ—¥æŸ±")])),_:1}),c(C,{class:"bazi-val"},{default:i((()=>[o(m(v.getBaziText("day")),1)])),_:1})])),_:1}),c(y,{class:"bazi-box",onClick:e[3]||(e[3]=a=>v.openBaziModal("hour"))},{default:i((()=>[c(C,{class:"bazi-label"},{default:i((()=>[o("æ—¶æŸ±")])),_:1}),c(C,{class:"bazi-val"},{default:i((()=>[o(m(v.getBaziText("hour")),1)])),_:1})])),_:1})])),_:1}),c(y,{class:"section-label",style:{"margin-top":"20rpx"}},{default:i((()=>[o("èŠ‚æ°”")])),_:1}),c(L,{mode:"selector",range:k.jieQiList,onChange:e[4]||(e[4]=a=>k.baziParams.jieQi=a.detail.value)},{default:i((()=>[c(y,{class:"picker-view"},{default:i((()=>[c(C,{class:"picker-val"},{default:i((()=>[o(m(k.jieQiList[k.baziParams.jieQi]),1)])),_:1}),c(C,{class:"icon"},{default:i((()=>[o("â–¼")])),_:1})])),_:1})])),_:1},8,["range"])])),_:1})):h("",!0),"manual"===k.currentMode?(n(),s(y,{key:3,class:"input-section"},{default:i((()=>[c(y,{class:"section-label"},{default:i((()=>[o("æŒ‡å®šå±€æ•°")])),_:1}),c(y,{class:"dun-toggle-row"},{default:i((()=>[c(y,{class:f(["dun-item",{active:k.manualJuData.isYang}]),onClick:e[5]||(e[5]=a=>k.manualJuData.isYang=!0)},{default:i((()=>[o("é˜³é")])),_:1},8,["class"]),c(y,{class:f(["dun-item",{active:!k.manualJuData.isYang}]),onClick:e[6]||(e[6]=a=>k.manualJuData.isYang=!1)},{default:i((()=>[o("é˜´é")])),_:1},8,["class"])])),_:1}),c(y,{class:"ju-num-grid"},{default:i((()=>[(n(),u(r,null,d(9,(a=>c(y,{class:f(["ju-num-item",{active:k.manualJuData.num===a}]),key:a,onClick:e=>k.manualJuData.num=a},{default:i((()=>[o(m(v.getJuNumText(a))+"å±€",1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),c(y,{class:"tips"},{default:i((()=>[o(" æ³¨ï¼šæ‰‹å·¥é€‰å±€æ¨¡å¼ä¸‹ï¼Œå°†é»˜è®¤ä½¿ç”¨å½“å‰æ—¶é—´ä½œä¸ºç›˜é¢å››æŸ±ã€‚ ")])),_:1})])),_:1})):h("",!0),c(y,{class:"divider"}),c(y,{class:"input-section"},{default:i((()=>[c(y,{class:"section-label"},{default:i((()=>[o("æœ¬å‘½è¡Œå¹´ (é€‰å¡«)")])),_:1}),c(y,{class:"picker-row"},{default:i((()=>[c(L,{mode:"date",fields:"year",value:k.birthYear,onChange:v.bindYearChange,class:"picker-half"},{default:i((()=>[c(y,{class:"picker-view"},{default:i((()=>[c(C,{class:"picker-val"},{default:i((()=>[o(m(k.birthYear?k.birthYear+"å¹´":"å‡ºç”Ÿå¹´ä»½"),1)])),_:1})])),_:1})])),_:1},8,["value","onChange"]),c(y,{class:"gender-toggle picker-half",onClick:v.toggleGender},{default:i((()=>[c(y,{class:f(["gender-opt",{active:k.gender}])},{default:i((()=>[o("ç”·")])),_:1},8,["class"]),c(y,{class:f(["gender-opt",{active:!k.gender}])},{default:i((()=>[o("å¥³")])),_:1},8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),c(x,{class:"btn-submit",onClick:v.submit,"hover-class":"btn-hover"},{default:i((()=>[o("å¼€å§‹æ’ç›˜")])),_:1},8,["onClick"]),c(y,{class:"copyright-info"},{default:i((()=>[c(y,{class:"copyright-line"},{default:i((()=>[o("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),c(y,{class:"copyright-line"},{default:i((()=>[o("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1})])),_:1}),k.showBaziModal?(n(),s(y,{key:0,class:"modal-mask",onClick:v.closeBaziModal},{default:i((()=>[c(y,{class:"modal-content",onClick:e[7]||(e[7]=g((()=>{}),["stop"]))},{default:i((()=>[c(y,{class:"modal-header"},{default:i((()=>[c(C,null,{default:i((()=>[o("é€‰æ‹©"+m(v.getBaziTitle())+"å¹²æ”¯",1)])),_:1}),c(y,{class:"modal-confirm",onClick:v.confirmBaziSelection},{default:i((()=>[o("ç¡®å®š")])),_:1},8,["onClick"])])),_:1}),c(y,{class:"modal-body"},{default:i((()=>[c(y,{class:"gz-preview"},{default:i((()=>[c(C,{class:"gz-char stem"},{default:i((()=>[o(m(k.tempGan),1)])),_:1}),c(C,{class:"gz-char branch"},{default:i((()=>[o(m(k.tempZhi),1)])),_:1})])),_:1}),c(y,{class:"grid-section"},{default:i((()=>[c(y,{class:"grid-title"},{default:i((()=>[o("å¤©å¹²")])),_:1}),c(y,{class:"grid-row"},{default:i((()=>[(n(!0),u(r,null,d(k.ganList,(a=>(n(),s(y,{class:f(["grid-item stem-item",{active:k.tempGan===a,dimmed:v.isGanDimmed(a)}]),key:a,onClick:e=>v.selectGan(a)},{default:i((()=>[o(m(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),c(y,{class:"grid-section"},{default:i((()=>[c(y,{class:"grid-title"},{default:i((()=>[o("åœ°æ”¯")])),_:1}),c(y,{class:"grid-row"},{default:i((()=>[(n(!0),u(r,null,d(k.zhiList,(a=>(n(),s(y,{class:f(["grid-item branch-item",{active:k.tempZhi===a,dimmed:v.isZhiDimmed(a)}]),key:a,onClick:e=>v.selectZhi(a)},{default:i((()=>[o(m(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):h("",!0)])),_:1})}],["__scopeId","data-v-9b8793ed"]]);export{k as default};
