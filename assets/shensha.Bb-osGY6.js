const n=[{name:"子",start:23,end:1,alias:"子时",description:"夜半"},{name:"丑",start:1,end:3,alias:"丑时",description:"鸡鸣"},{name:"寅",start:3,end:5,alias:"寅时",description:"平旦"},{name:"卯",start:5,end:7,alias:"卯时",description:"日出"},{name:"辰",start:7,end:9,alias:"辰时",description:"食时"},{name:"巳",start:9,end:11,alias:"巳时",description:"隅中"},{name:"午",start:11,end:13,alias:"午时",description:"日中"},{name:"未",start:13,end:15,alias:"未时",description:"日昳"},{name:"申",start:15,end:17,alias:"申时",description:"晡时"},{name:"酉",start:17,end:19,alias:"酉时",description:"日入"},{name:"戌",start:19,end:21,alias:"戌时",description:"黄昏"},{name:"亥",start:21,end:23,alias:"亥时",description:"人定"}];function s(s){const u=s.getHours();if(u>=23||u<1)return{...n[0],index:0};for(let e=1;e<n.length;e++){const s=n[e];if(u>=s.start&&u<s.end)return{...s,index:e}}return{...n[0],index:0}}function u(n){return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}:${String(n.getSeconds()).padStart(2,"0")}`}function e(){return n.map(((n,s)=>({...n,index:s})))}function t(n){return["卯","辰","巳","午","未","申"].includes(n)}const i=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],r={"贵":"贵人","蛇":"螣蛇","朱":"朱雀","合":"六合","勾":"勾陈","龙":"青龙","空":"天空","虎":"白虎","常":"太常","玄":"玄武","阴":"太阴","后":"天后"},h={"甲":{day:"丑",night:"未"},"戊":{day:"丑",night:"未"},"庚":{day:"丑",night:"未"},"乙":{day:"子",night:"申"},"己":{day:"子",night:"申"},"丙":{day:"亥",night:"酉"},"丁":{day:"亥",night:"酉"},"壬":{day:"巳",night:"卯"},"癸":{day:"巳",night:"卯"},"辛":{day:"寅",night:"午"}};const c=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],p=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"];function a(n,s,u){const e=t(s),r=function(n,s){const u=h[n];return u?s?u.day:u.night:"丑"}(n,e),a=function(n,s){for(let u in s)if(s[u]===n)return u;return n}(r,u),l=["亥","子","丑","寅","卯","辰"].includes(a),d=function(n,s){const u={},e=i.indexOf(n),t=s?c:p;for(let r=0;r<12;r++)u[i[(e+r)%12]]=t[r];return u}(a,l);return{layout:d,isDay:e,dayNight:e?"昼":"夜",guirenPosition:a,guirenBenwei:r,isShunbu:l}}function l(n){return r[n]||n}const d=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],o={};d.forEach(((n,s)=>o[n]=s));const f={};["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].forEach(((n,s)=>f[n]=s));const g={"甲子":"甲子","乙丑":"甲子","丙寅":"甲子","丁卯":"甲子","戊辰":"甲子","己巳":"甲子","庚午":"甲子","辛未":"甲子","壬申":"甲子","癸酉":"甲子","甲戌":"甲戌","乙亥":"甲戌","丙子":"甲戌","丁丑":"甲戌","戊寅":"甲戌","己卯":"甲戌","庚辰":"甲戌","辛巳":"甲戌","壬午":"甲戌","癸未":"甲戌","甲申":"甲申","乙酉":"甲申","丙戌":"甲申","丁亥":"甲申","戊子":"甲申","己丑":"甲申","庚寅":"甲申","辛卯":"甲申","壬辰":"甲申","癸巳":"甲申","甲午":"甲午","乙未":"甲午","丙申":"甲午","丁酉":"甲午","戊戌":"甲午","己亥":"甲午","庚子":"甲午","辛丑":"甲午","壬寅":"甲午","癸卯":"甲午","甲辰":"甲辰","乙巳":"甲辰","丙午":"甲辰","丁未":"甲辰","戊申":"甲辰","己酉":"甲辰","庚戌":"甲辰","辛亥":"甲辰","壬子":"甲辰","癸丑":"甲辰","甲寅":"甲寅","乙卯":"甲寅","丙辰":"甲寅","丁巳":"甲寅","戊午":"甲寅","己未":"甲寅","庚申":"甲寅","辛酉":"甲寅","壬戌":"甲寅","癸亥":"甲寅"};function y(n){switch(n){case"甲":case"己":default:return"甲";case"乙":case"庚":return"丙";case"丙":case"辛":return"戊";case"丁":case"壬":return"庚";case"戊":case"癸":return"壬"}}function m(n,s,u){const e=function(n,s){return g[n+s]||"甲子"}(s,u),t=e.charAt(0),i=e.charAt(1),r=o[t],h=f[i],c=(f[n]-h+12)%12,p=c>=10;return{gan:d[(r+c)%10],isXunkong:p}}function x(n,s,u,e){if(!e)return{gan:"",isXunkong:!1};const t=function(n,s){return g[n+s]||"甲子"}(s,u),i=t.charAt(1);let r=null;for(let a in e)if(e[a]===i){r=a;break}if(!r)return{gan:"",isXunkong:!1};const h=f[r],c=(f[n]-h+12)%12,p=c>=10;return{gan:d[c%10],isXunkong:p}}function S(n,s,u){if(!s||!u)return"";const e=y(s),t=o[e];let i=null;for(let c in u)if("子"===u[c]){i=c;break}if(!i)return"";const r=f[i],h=f[n];return d[(t+(h-r+12)%12)%10]}function v(n,s,u){if(!n||!s||!u)return"";return m(n,s,u).gan}function k(n,s){const{dayStem:u,dayBranch:e,timeStem:t,timeBranch:i,tianpan:r,guirenPosition:h}=s,c=m(r?r[n]:n,u,e),p=x(n,t,i,r),a=v(n,u,e),l=S(n,u,r),g=function(n,s,u){if(!s||!u)return"";const e=y(s),t=o[e];let i=null;for(let c in u)if("子"===u[c]){i=c;break}if(!i)return"";const r=f[i],h=f[n];return d[(t+(h-r+12)%12)%10]}(n,t,r),k=function(n,s,u,e){if(!s||!e||!u)return"";if(!e[s])return"";const t=s;let i=null;for(let d in e)if(e[d]===t){i=d;break}if(!i)return"";const r=S(i,u,e);if(!r)return"";const h=y(r),c=o[h];let p=null;for(let d in e)if("子"===e[d]){p=d;break}if(!p)return"";const a=e[n];if(!a)return"";const l=(f[a]-f["子"]+12)%12;return d[(c+l)%10]}(n,h,u,r);return{xundun:c,tiandun:p,didun:a,jiangan:l,fujian:g,rendun:k}}const b=["建","除","满","平","定","执","破","危","成","收","开","闭"],O=["长","沐","冠","临","旺","衰","病","死","墓","绝","胎","养"],w={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["午","巳","辰","卯","寅","丑","子","亥","戌","酉","申","未"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["子","亥","戌","酉","申","未","午","巳","辰","卯","寅","丑"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["卯","寅","丑","子","亥","戌","酉","申","未","午","巳","辰"]},z={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"]},M={"甲":"木","乙":"木","寅":"木","卯":"木","丙":"火","丁":"火","巳":"火","午":"火","戊":"土","己":"土","辰":"土","戌":"土","丑":"土","未":"土","庚":"金","辛":"金","申":"金","酉":"金","壬":"水","癸":"水","亥":"水","子":"水"};function Z(n,s,u){if(!n||!s||!u)return"";let e=null;for(let c in u)if(u[c]===n){e=c;break}if(!e)return"";const t=["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],i=t.indexOf(e);if(-1===i)return"";const r=[...t.slice(i),...t.slice(0,i)],h={};return r.forEach(((n,s)=>{h[n]=b[s]})),h[s]||""}function $(n,s){if(!n||!s)return"";const u=M[n],e=M[s];if(!u||!e)return"";const t={"木":"火","火":"土","土":"金","金":"水","水":"木"},i={"木":"土","火":"金","土":"水","金":"木","水":"火"};return u===e?"旺":t[u]===e?"相":t[e]===u?"休":i[e]===u?"囚":i[u]===e?"死":""}function A(n,s){if(!n||!s)return"";const u=w[n];if(!u)return"";const e=u.indexOf(s);return-1===e?"":O[e]}function B(n,s){if(!n||!s)return"";const u=z[n];if(!u)return"";const e=u.indexOf(s);return-1===e?"":O[e]}function j(n,s){const{monthBranch:u,dayStem:e,tianpan:t}=s,i=t[n];return{jianchu:Z(u,n,t),wangshuai:$(u,i),shiganChangsheng:A(e,i),wuxingChangsheng:B(e,i)}}const E=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],G=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],X={1924:"甲子",1925:"乙丑",1926:"丙寅",1927:"丁卯",1928:"戊辰",1929:"己巳",1930:"庚午",1931:"辛未",1932:"壬申",1933:"癸酉",1934:"甲戌",1935:"乙亥",1936:"丙子",1937:"丁丑",1938:"戊寅",1939:"己卯",1940:"庚辰",1941:"辛巳",1942:"壬午",1943:"癸未",1944:"甲申",1945:"乙酉",1946:"丙戌",1947:"丁亥",1948:"戊子",1949:"己丑",1950:"庚寅",1951:"辛卯",1952:"壬辰",1953:"癸巳",1954:"甲午",1955:"乙未",1956:"丙申",1957:"丁酉",1958:"戊戌",1959:"己亥",1960:"庚子",1961:"辛丑",1962:"壬寅",1963:"癸卯",1964:"甲辰",1965:"乙巳",1966:"丙午",1967:"丁未",1968:"戊申",1969:"己酉",1970:"庚戌",1971:"辛亥",1972:"壬子",1973:"癸丑",1974:"甲寅",1975:"乙卯",1976:"丙辰",1977:"丁巳",1978:"戊午",1979:"己未",1980:"庚申",1981:"辛酉",1982:"壬戌",1983:"癸亥",1984:"甲子",1985:"乙丑",1986:"丙寅",1987:"丁卯",1988:"戊辰",1989:"己巳",1990:"庚午",1991:"辛未",1992:"壬申",1993:"癸酉",1994:"甲戌",1995:"乙亥",1996:"丙子",1997:"丁丑",1998:"戊寅",1999:"己卯",2e3:"庚辰",2001:"辛巳",2002:"壬午",2003:"癸未",2004:"甲申",2005:"乙酉",2006:"丙戌",2007:"丁亥",2008:"戊子",2009:"己丑",2010:"庚寅",2011:"辛卯",2012:"壬辰",2013:"癸巳",2014:"甲午",2015:"乙未",2016:"丙申",2017:"丁酉",2018:"戊戌",2019:"己亥",2020:"庚子",2021:"辛丑",2022:"壬寅",2023:"癸卯",2024:"甲辰",2025:"乙巳",2026:"丙午",2027:"丁未",2028:"戊申",2029:"己酉",2030:"庚戌",2031:"辛亥",2032:"壬子",2033:"癸丑",2034:"甲寅",2035:"乙卯",2036:"丙辰",2037:"丁巳",2038:"戊午",2039:"己未",2040:"庚申",2041:"辛酉",2042:"壬戌",2043:"癸亥",2044:"甲子",2045:"乙丑",2046:"丙寅",2047:"丁卯",2048:"戊辰",2049:"己巳",2050:"庚午"};function D(n,s,u=null){const e=function(n){const s=X[n];return s?{gan:s.charAt(0),zhi:s.charAt(1)}:{gan:"",zhi:""}}(n),t=function(n,s,u=null){u||(u=(new Date).getFullYear());const e=u-n;if(e<0)return{gan:"",zhi:""};const t=E.indexOf("丙"),i=G.indexOf("寅"),r=E.indexOf("壬"),h=G.indexOf("申");let c,p;return s?(c=(t+e)%10,p=(i+e)%12):(c=(r-e+1e3)%10,p=(h-e+1200)%12),{gan:E[c],zhi:G[p]}}(n,s,u);return{benming:e,xingnian:t,birthYear:n,isMale:s,gender:s?"男":"女"}}const Y=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],C=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],F=n=>C.indexOf(n),H=(n,s)=>{const u=(e=n,Y.indexOf(e));var e;const t=F(s);if(-1===u||-1===t)return"";return{0:"甲子",10:"甲戌",8:"甲申",6:"甲午",4:"甲辰",2:"甲寅"}[(t-u+12)%12]||""},P=(n,s,u,e)=>{const t=((n,s,u)=>{const e=[];if(!n)return e;if(u&&s){const n=u+s;["甲子","己卯","甲午","己酉"].includes(n)&&e.push("进神"),["丁丑","丁未","壬辰","壬戌"].includes(n)&&e.push("退神")}const t={"甲":"卯","乙":"寅","丙":"午","戊":"午","丁":"巳","己":"巳","庚":"酉","辛":"申","壬":"子","癸":"亥"};t[n]===s&&e.push("羊刃"),{"甲":"寅","己":"寅","乙":"申","庚":"申","丙":"巳","辛":"巳","戊":"巳","癸":"巳","壬":"亥","丁":"亥"}[n]===s&&e.push("日德"),{"甲":"巳","乙":"午","丙":"申","戊":"申","庚":"亥","辛":"子","丁":"酉","己":"酉","壬":"寅","癸":"卯"}[n]===s&&e.push("文昌"),{"甲":"亥","乙":"午","丙":"寅","丁":"酉","戊":"寅","己":"酉","庚":"巳","辛":"子","壬":"申","癸":"卯"}[n]===s&&e.push("学堂"),{"甲":"丑","己":"丑","乙":"子","庚":"子","丙":"寅","辛":"寅","丁":"巳","壬":"巳","戊":"申","癸":"申"}[n]===s&&e.push("游都"),{"甲":"未","己":"未","乙":"午","庚":"午","丙":"申","辛":"申","丁":"亥","壬":"亥","戊":"寅","癸":"寅"}[n]===s&&e.push("鲁都"),{"甲":"亥","己":"亥","乙":"申","庚":"申","丙":"未","辛":"未","丁":"丑","壬":"丑","戊":"酉","癸":"酉"}[n]===s&&e.push("日解"),{"甲":"卯","己":"卯","乙":"亥","庚":"亥","丙":"丑","辛":"丑","丁":"未","壬":"未","戊":"巳","癸":"巳"}[n]===s&&e.push("日医");const i=t[n];i&&(F(i)+6)%12===F(s)&&e.push("飞符");const r={"甲":["丑","未"],"戊":["丑","未"],"庚":["丑","未"],"乙":["子","申"],"己":["子","申"],"丙":["亥","酉"],"丁":["亥","酉"],"壬":["巳","卯"],"癸":["巳","卯"],"辛":["午","寅"]};return r[n]&&r[n].includes(s)&&e.push("贵人"),e})(n,s,u);if(e){const u={"甲":"未","戊":"未","庚":"未","乙":"申","己":"申","丙":"酉","丁":"酉","壬":"卯","癸":"卯","辛":"寅"},i={"甲":"丑","戊":"丑","庚":"丑","乙":"子","己":"子","丙":"亥","丁":"亥","壬":"巳","癸":"巳","辛":"午"};(["卯","辰","巳","午","未","申"].includes(e)?i[n]:u[n])===s&&t.push("帘幕贵人")}return t},N=(n,s,u)=>{if(!n||!s)return[];const e=[];return e.push(...((n,s,u)=>{const e=[],t=F(s),i=F(n);if(-1===t||-1===i)return e;u&&s&&{"甲":"丑","乙":"寅","丙":"辰","丁":"巳","戊":"辰","己":"巳","庚":"未","辛":"申","壬":"戌","癸":"亥"}[u]===s&&e.push("天廷");let r,h,c;s===n&&e.push("太岁"),(i+6)%12===t&&e.push("岁破"),(i-1+12)%12===t&&e.push("病符"),(i+2)%12===t&&e.push("丧门"),(i-2+12)%12===t&&e.push("吊客"),(i+4)%12===t&&e.push("官符"),(i-4+12)%12===t&&e.push("白虎"),{"子":"丑","丑":"子","寅":"亥","亥":"寅","卯":"戌","戌":"卯","辰":"酉","酉":"辰","巳":"申","申":"巳","午":"未","未":"午"}[n]===s&&e.push("岁合"),"申子辰".includes(n)?(r="巳",h="午",c="未"):"寅午戌".includes(n)?(r="亥",h="子",c="丑"):"亥卯未".includes(n)?(r="申",h="酉",c="戌"):"巳酉丑".includes(n)&&(r="寅",h="卯",c="辰"),s===r&&e.push("劫煞"),s===h&&e.push("灾煞"),s===c&&e.push("岁煞");let p=!1;return("子"===n&&"卯"===s||"卯"===n&&"子"===s)&&(p=!0),"寅"===n&&"巳"===s&&(p=!0),"巳"===n&&"申"===s&&(p=!0),"申"===n&&"寅"===s&&(p=!0),"丑"===n&&"戌"===s&&(p=!0),"戌"===n&&"未"===s&&(p=!0),"未"===n&&"丑"===s&&(p=!0),"辰午酉亥".includes(n)&&s===n&&(p=!0),(i+6)%12===t&&e.push("大耗"),((i+6)%12-1+12)%12===t&&e.push("小耗"),p&&e.push("岁刑"),e})(s.yearZhi,n,s.yearGan)),e.push(...((n,s,u,e)=>{const t=[];let i="";if("寅卯辰".includes(n)?i="spring":"巳午未".includes(n)?i="summer":"申酉戌".includes(n)?i="autumn":"亥子丑".includes(n)&&(i="winter"),u&&e){const n=["乙","丁","己","辛","癸"],s={"乙":"庚","丁":"壬","己":"甲","辛":"丙","癸":"戊"};let i="";["甲","丙","戊","庚","壬"].includes(u)?i=u:n.includes(u)&&(i=s[u]),i===e&&t.push("岁德");const r={"甲":"己","己":"甲","乙":"庚","庚":"乙","丙":"辛","辛":"丙","丁":"壬","壬":"丁","戊":"癸","癸":"戊"};i&&e===r[i]&&t.push("岁德合")}if(!i)return t;const r={spring:"丑",summer:"辰",autumn:"未",winter:"戌"};s===r[i]&&t.push("三丘"),(F(r[i])+6)%12===F(s)&&(t.push("五墓"),t.push("哭神"));const h={spring:{"乙卯":"天转","辛卯":"地转","戊寅":"天赦","丑":"游神","巳":"戏神/孤辰","酉":"四废/丧车/天盗","寅":"皇书/奸神","戌":"钥神/浴盆/天喜","辰":"寡宿/浴盆/天目","午":"火鬼"},summer:{"丙午":"天转","戊午":"地转","甲午":"天赦","子":"游神/戏神/四废/丧车/天盗","亥":"皇书/奸神","丑":"钥神/浴盆/天喜/寡宿/天目","酉":"火鬼/管神","申":"孤辰","未":"浴盆/天目","辰":"寡宿/管神/关神"},autumn:{"辛酉":"天转","癸酉":"地转","戊申":"天赦","亥":"游神","酉":"戏神","卯":"四废/丧车/天盗","申":"皇书/奸神","辰":"钥神/浴盆/天喜","未":"寡宿/天目","戌":"浴盆/天目","子":"火鬼","亥":"孤辰"},winter:{"壬子":"天转","丙子":"地转","甲子":"天赦","戌":"游神/寡宿/浴盆/天喜/三丘","辰":"戏神/五墓/哭神","午":"四废/丧车","亥":"皇书","子":"天盗","未":"钥神/浴盆/天目","巳":"奸神","寅":"孤辰/天耳","卯":"火鬼","丑":"天目/浴盆"}}[i];h&&h[s]&&h[s].split("/").forEach((n=>t.push(n)));return t})(s.monthZhi,n,s.yearGan,u)),e.push(...((n,s,u)=>{const e=[],t=F(n),i=F(s);if(-1===t||-1===i)return e;const r=(t-2+12)%12,h=(n=>({0:{type:"gan",val:"丁"},1:{type:"zhi",val:"申"},2:{type:"gan",val:"壬"},3:{type:"gan",val:"辛"},4:{type:"zhi",val:"亥"},5:{type:"gan",val:"甲"},6:{type:"gan",val:"癸"},7:{type:"zhi",val:"寅"},8:{type:"gan",val:"丙"},9:{type:"gan",val:"乙"},10:{type:"zhi",val:"巳"},11:{type:"gan",val:"庚"}}[n]))(r);h&&("gan"===h.type&&u===h.val&&e.push("天德"),"zhi"===h.type&&s===h.val&&e.push("天德"));let c="";"寅午戌".includes(n)?c="丙":"亥卯未".includes(n)?c="甲":"申子辰".includes(n)?c="壬":"巳酉丑".includes(n)&&(c="庚"),c&&u===c&&e.push("月德"),c&&u==={"丙":"辛","甲":"己","壬":"丁","庚":"乙"}[c]&&e.push("月德合"),s===n&&e.push("月建"),(t+6)%12===i&&e.push("月破"),(t-2+12)%12===i&&e.push("生气"),(t-2+12+6)%12===i&&(e.push("死气"),e.push("小耗"),e.push("谩语"),e.push("孝服"),e.push("官符")),(t+3)%12===i&&e.push("死神"),(t+2)%12===i&&e.push("天医");let p=(10-(t-2)+12)%12;p===i&&e.push("地医"),(9-(t-2)+12)%12===i&&e.push("天鸡"),p===i&&e.push("月厌"),(1+(t-2+12)%12*3)%12===i&&e.push("天车"),"寅卯辰".includes(n)&&"巳"===s&&e.push("天城"),"巳午未".includes(n)&&"申"===s&&e.push("天城"),"申酉戌".includes(n)&&"亥"===s&&e.push("天城"),"亥子丑".includes(n)&&"寅"===s&&e.push("天城"),(9-3*r+48)%12===i&&e.push("天吏"),"寅午戌".includes(n)&&"巳"===s&&e.push("成神"),"亥卯未".includes(n)&&"申"===s&&e.push("成神"),"巳酉丑".includes(n)&&"寅"===s&&e.push("成神"),"申子辰".includes(n)&&"亥"===s&&e.push("成神"),(6+2*r)%12===i&&e.push("天财"),(11+r)%12===i&&e.push("天诏"),(7+2*r)%12===i&&e.push("皇恩"),(10-r+12)%12===i&&e.push("华盖"),(0+r)%12===i&&e.push("天鼠"),(4+r)%12===i&&e.push("天巫"),(8+2*Math.floor(r/2))%12===i&&(e.push("天解"),e.push("地解")),["巳","子","辰","申","午","丑","寅","酉","未","亥","卯","戌"][r]===s&&e.push("月刑"),"寅午戌".includes(n)&&"午"===s&&e.push("大煞"),"亥卯未".includes(n)&&"卯"===s&&e.push("大煞"),"申子辰".includes(n)&&"子"===s&&e.push("大煞"),"巳酉丑".includes(n)&&"酉"===s&&e.push("大煞"),["戌","巳","午","未","申","酉","辰","亥","子","丑","寅","卯"][r]===s&&e.push("飞廉"),(t-4+12)%12===i&&e.push("岁虎");let a=(r+1)%4;return a=(r+1)%4,i==={1:9,2:6,3:3,0:0}[a]&&e.push("长绳"),i==={1:3,2:0,3:9,0:6}[a]&&e.push("悬索"),"寅卯辰".includes(n)&&"丑"===s&&e.push("迷惑"),"巳午未".includes(n)&&"戌"===s&&e.push("迷惑"),"申酉戌".includes(n)&&"未"===s&&e.push("迷惑"),"亥子丑".includes(n)&&"辰"===s&&e.push("迷惑"),"寅卯辰".includes(n)&&"酉"===s&&(e.push("丧车"),e.push("枯骨")),"巳午未".includes(n)&&"子"===s&&(e.push("丧车"),e.push("枯骨")),"申酉戌".includes(n)&&"卯"===s&&(e.push("丧车"),e.push("枯骨")),"亥子丑".includes(n)&&"午"===s&&(e.push("丧车"),e.push("枯骨")),(t-1+12)%12===i&&e.push("血支"),r%2==0?Math.floor(1+r/2)%12===i&&e.push("血忌"):Math.floor(7+(r-1)/2)%12===i&&e.push("血忌"),(9-r+12)%12===i&&e.push("雌虎煞"),"寅午戌".includes(n)&&"寅"===s&&e.push("产煞"),"亥卯未".includes(n)&&"巳"===s&&e.push("产煞"),"巳酉丑".includes(n)&&"申"===s&&e.push("产煞"),"申子辰".includes(n)&&"亥"===s&&e.push("产煞"),"寅午戌".includes(n)&&"卯"===s&&e.push("咸池"),"亥卯未".includes(n)&&"子"===s&&e.push("咸池"),"巳酉丑".includes(n)&&"酉"===s&&e.push("咸池"),"申子辰".includes(n)&&"午"===s&&e.push("咸池"),"寅午戌".includes(n)&&"申"===s&&e.push("奸门"),"亥卯未".includes(n)&&"亥"===s&&e.push("奸门"),"巳酉丑".includes(n)&&"寅"===s&&e.push("奸门"),"申子辰".includes(n)&&"巳"===s&&e.push("奸门"),(t+3)%12===i&&e.push("火烛"),"寅午戌".includes(n)&&"酉"===s&&e.push("天鬼"),"亥卯未".includes(n)&&"午"===s&&e.push("天鬼"),"巳酉丑".includes(n)&&"卯"===s&&e.push("天鬼"),"申子辰".includes(n)&&"子"===s&&e.push("天鬼"),(6-r+12)%12===i&&e.push("天怪"),(11+r)%12===i&&e.push("飞魂"),(2-3*r+48)%12===i&&e.push("雷公"),"寅午戌".includes(n)&&"亥"===s&&e.push("雷煞"),"亥卯未".includes(n)&&"申"===s&&e.push("雷煞"),"申子辰".includes(n)&&"巳"===s&&e.push("雷煞"),"巳酉丑".includes(n)&&"寅"===s&&e.push("雷煞"),(8-r+12)%12===i&&e.push("风伯"),(2-r+12)%12===i&&e.push("风煞"),(t-2+12)%12===i&&e.push("雨煞"),(t-1+12)%12===i&&e.push("月病符"),e})(s.monthZhi,n,u)),e.push(...P(s.dayGan,n,u,s.hourZhi)),e.push(...((n,s)=>{const u=[];return"申子辰".includes(n)&&"寅"===s&&u.push("驿马"),"寅午戌".includes(n)&&"申"===s&&u.push("驿马"),"亥卯未".includes(n)&&"巳"===s&&u.push("驿马"),"巳酉丑".includes(n)&&"亥"===s&&u.push("驿马"),"寅午戌".includes(n)&&"亥"===s&&u.push("劫煞"),"亥卯未".includes(n)&&"申"===s&&u.push("劫煞"),"申子辰".includes(n)&&"巳"===s&&u.push("劫煞"),"巳酉丑".includes(n)&&"寅"===s&&u.push("劫煞"),"寅午戌".includes(n)&&"巳"===s&&u.push("亡神"),"亥卯未".includes(n)&&"寅"===s&&u.push("亡神"),"申子辰".includes(n)&&"亥"===s&&u.push("亡神"),"巳酉丑".includes(n)&&"申"===s&&u.push("亡神"),"寅午戌".includes(n)&&"卯"===s&&u.push("桃花"),"亥卯未".includes(n)&&"子"===s&&u.push("桃花"),"申子辰".includes(n)&&"酉"===s&&u.push("桃花"),"巳酉丑".includes(n)&&"午"===s&&u.push("桃花"),"寅午戌".includes(n)&&"戌"===s&&u.push("华盖"),"亥卯未".includes(n)&&"未"===s&&u.push("华盖"),"申子辰".includes(n)&&"辰"===s&&u.push("华盖"),"巳酉丑".includes(n)&&"丑"===s&&u.push("华盖"),"寅申巳亥".includes(n)&&"酉"===s&&u.push("破碎"),"子午卯酉".includes(n)&&"巳"===s&&u.push("破碎"),"辰戌丑未".includes(n)&&"丑"===s&&u.push("破碎"),u})(s.dayZhi,n)),e.push(...((n,s,u)=>{const e=[],t=H(n,s);if(!t)return e;["甲子","甲戌"].includes(t)&&"亥"===u&&e.push("旬奇"),["甲申","甲午"].includes(t)&&"子"===u&&e.push("旬奇"),["甲辰","甲寅"].includes(t)&&"丑"===u&&e.push("旬奇");const i={"甲子":"子","甲戌":"戌","甲申":"申","甲午":"午","甲辰":"辰","甲寅":"寅"}[t],r=F(i),h=(r+3)%12;F(u)===h&&e.push("丁马");const c=(r-2+12)%12,p=(r-1+12)%12;return F(u)!==c&&F(u)!==p||e.push("空亡"),u===i&&e.push("旬仪"),F(u)===(r+1)%12&&e.push("旬乙"),F(u)===(r+6)%12&&e.push("旬庚"),F(u)===(r+7)%12&&e.push("旬辛"),F(u)===(r+9)%12&&(e.push("旬癸"),e.push("闭口")),e})(s.dayGan,s.dayZhi,n)),[...new Set(e)].filter(Boolean)};export{D as a,s as b,a as c,k as d,j as e,u as f,e as g,N as h,l as i,t as j,v as k,Z as l,m};
