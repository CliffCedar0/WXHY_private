import{r as a,s as e,n as s,f as t,c as i,w as l,i as o,o as n,a as c,b as r,g as d,k as u,F as h,h as m,t as f,l as p,j as g,e as _,q as k,u as z,I as b}from"./index-Dtz7cTtJ.js";import{D as w}from"./DatePickerWheel.DR9MZ4U5.js";import{T as C}from"./TimePickerWheel.DiM3_rMF.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=v({components:{DatePickerWheel:w,TimePickerWheel:C},data:()=>({modes:[{name:"å½“å‰æ—¶é—´",value:"current"},{name:"è‡ªå®šä¹‰æ—¶é—´",value:"custom"},{name:"å››æŸ±é€‰å±€",value:"sizhu"},{name:"æ‰‹å·¥é€‰å±€",value:"manual"}],currentMode:"current",customDate:"",customTime:"",ganList:["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],zhiList:["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],gzList:[],jieQiList:["ç«‹æ˜¥","é›¨æ°´","æƒŠè›°","æ˜¥åˆ†","æ¸…æ˜","è°·é›¨","ç«‹å¤","å°æ»¡","èŠ’ç§","å¤è‡³","å°æš‘","å¤§æš‘","ç«‹ç§‹","å¤„æš‘","ç™½éœ²","ç§‹åˆ†","å¯’éœ²","éœœé™","ç«‹å†¬","å°é›ª","å¤§é›ª","å†¬è‡³","å°å¯’","å¤§å¯’"],baziParams:{year:0,month:0,day:0,hour:0,jieQi:0},manualJuData:{isYang:!0,num:1},showBaziModal:!1,currentBaziType:"year",tempGan:"ç”²",tempZhi:"å­",birthYear:"2000",gender:!0,showDatePicker:!1,showTimePicker:!1,showPasswordModal:!1,inputPassword:"",passwordError:!1}),onLoad(){const a=new Date;this.customDate=this.formatDate(a),this.customTime=this.formatTime1(a),this.initGzList(),this.baziParams={year:0,month:0,day:0,hour:0,jieQi:0}},methods:{initGzList(){const a=[],e=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],s=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"];for(let t=0;t<60;t++)a.push(e[t%10]+s[t%12]);this.gzList=a},goHome(){a({url:"/pages/index/index"})},formatDate:a=>`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`,formatTime1:a=>`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`,bindDateChange(a){this.customDate=a.detail.value},bindTimeChange(a){this.customTime=a.detail.value},onDateChange(a){this.customDate=a},onTimeChange(a){this.customTime=a},getJuNumText:a=>["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹"][a-1],getBaziText(a){const e=this.baziParams[a];return this.gzList[e]||"ç”²å­"},openBaziModal(a){this.currentBaziType=a;const e=this.gzList[this.baziParams[a]]||"ç”²å­";this.tempGan=e.charAt(0),this.tempZhi=e.charAt(1),this.showBaziModal=!0},closeBaziModal(){this.showBaziModal=!1},getBaziTitle(){return{year:"å¹´æŸ±",month:"æœˆæŸ±",day:"æ—¥æŸ±",hour:"æ—¶æŸ±"}[this.currentBaziType]||""},bindYearChange(a){this.birthYear=a.detail.value},toggleGender(){this.gender=!this.gender},selectGan(a){this.tempGan=a;const e=this.ganList.indexOf(a),s=this.zhiList.indexOf(this.tempZhi);if(e%2!=s%2){let a=s;a=e%2==0?s-1:s+1,a<0&&(a=11),a>11&&(a=0),this.tempZhi=this.zhiList[a]}},selectZhi(a){this.tempZhi=a;const e=this.zhiList.indexOf(a),s=this.ganList.indexOf(this.tempGan);if(s%2!=e%2){let a=s;a=e%2==0?s-1:s+1,a<0&&(a=9),a>9&&(a=0),this.tempGan=this.ganList[a]}},isGanDimmed(a){return this.ganList.indexOf(a)%2!=this.zhiList.indexOf(this.tempZhi)%2},isZhiDimmed(a){return this.zhiList.indexOf(a)%2!=this.ganList.indexOf(this.tempGan)%2},confirmBaziSelection(){const a=this.tempGan+this.tempZhi,s=this.gzList.indexOf(a);-1!==s?(this.baziParams[this.currentBaziType]=s,this.showBaziModal=!1):e({title:"æœªçŸ¥å¹²æ”¯ç»„åˆ",icon:"none"})},submit(){this.showPasswordModal=!0,this.inputPassword="",this.passwordError=!1},verifyPassword(){["030923","963258"].includes(this.inputPassword)||["050311","1261461831","112233"].includes(this.inputPassword)?(this.showPasswordModal=!1,this.passwordError=!1,this.doSubmit()):(this.passwordError=!0,this.inputPassword="")},doSubmit(){let a=`?mode=${this.currentMode}`;if("custom"===this.currentMode){if(!this.customDate||!this.customTime)return void e({title:"è¯·é€‰æŠ˜å®Œæ•´æ—¶é—´",icon:"none"});a+=`&date=${this.customDate}&time=${this.customTime}`}else if("sizhu"===this.currentMode){const e=this.baziParams,s=`${this.gzList[e.year]},${this.gzList[e.month]},${this.gzList[e.day]},${this.gzList[e.hour]}`,t=this.jieQiList[e.jieQi];a+=`&bazi=${encodeURIComponent(s)}&jieqi=${encodeURIComponent(t)}`}else if("manual"===this.currentMode){a+=`&ju=${this.manualJuData.isYang?"yang":"yin"}-${this.manualJuData.num}`}this.birthYear&&(a+=`&birthYear=${this.birthYear}&gender=${this.gender?"1":"0"}`),s({url:"/pages/feipan/display/display"+a})}}},[["render",function(a,e,s,w,C,v){const y=_,D=o,P=k,T=z,L=t("DatePickerWheel"),M=t("TimePickerWheel"),x=b;return n(),i(D,{class:"container"},{default:l((()=>[c(D,{class:"top-bar"},{default:l((()=>[c(D,{class:"back-btn",onClick:v.goHome},{default:l((()=>[c(y,{class:"back-text"},{default:l((()=>[r("ä¸»é¡µ")])),_:1})])),_:1},8,["onClick"]),c(y,{class:"page-title"},{default:l((()=>[r("é£ç›˜å¥‡é—¨")])),_:1}),c(D,{class:"placeholder"})])),_:1}),c(D,{class:"logo-area"}),c(D,{class:"form-card"},{default:l((()=>[c(D,{class:"tab-card"},{default:l((()=>[(n(!0),d(h,null,u(C.modes,((a,e)=>(n(),i(D,{class:p(["tab-item",{active:C.currentMode===a.value}]),key:e,onClick:e=>C.currentMode=a.value},{default:l((()=>[r(f(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),c(D,{class:"divider"}),"current"===C.currentMode?(n(),i(D,{key:0,class:"info-text"},{default:l((()=>[c(y,null,{default:l((()=>[r("ä½¿ç”¨å½“å‰æ—¶é—´è¿›è¡Œæ’ç›˜ï¼Œå±€æ•°å°†æ ¹æ®èŠ‚æ°”è‡ªåŠ¨è®¡ç®—ã€‚")])),_:1})])),_:1})):m("",!0),"custom"===C.currentMode?(n(),i(D,{key:1,class:"input-section"},{default:l((()=>[c(D,{class:"section-label"},{default:l((()=>[r("é€‰æŠ˜æ—¶é—´")])),_:1}),c(D,{class:"picker-row"},{default:l((()=>[c(D,{class:"picker-half",onClick:e[0]||(e[0]=a=>C.showDatePicker=!0)},{default:l((()=>[c(D,{class:"picker-view"},{default:l((()=>[c(y,{class:"picker-val"},{default:l((()=>[r(f(C.customDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),c(y,{class:"icon"},{default:l((()=>[r("ğŸ“…")])),_:1})])),_:1})])),_:1}),c(D,{class:"picker-half",onClick:e[1]||(e[1]=a=>C.showTimePicker=!0)},{default:l((()=>[c(D,{class:"picker-view"},{default:l((()=>[c(y,{class:"picker-val"},{default:l((()=>[r(f(C.customTime||"æ—¶ : åˆ†"),1)])),_:1}),c(y,{class:"icon"},{default:l((()=>[r("â°")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0),"sizhu"===C.currentMode?(n(),i(D,{key:2,class:"input-section"},{default:l((()=>[c(D,{class:"section-label"},{default:l((()=>[r("å››æŸ±å¹²æ”¯ (å¹´/æœˆ/æ—¥/æ—¶)")])),_:1}),c(D,{class:"bazi-row-manual"},{default:l((()=>[c(D,{class:"bazi-box",onClick:e[2]||(e[2]=a=>v.openBaziModal("year"))},{default:l((()=>[c(y,{class:"bazi-label"},{default:l((()=>[r("å¹´æŸ±")])),_:1}),c(y,{class:"bazi-val"},{default:l((()=>[r(f(v.getBaziText("year")),1)])),_:1})])),_:1}),c(D,{class:"bazi-box",onClick:e[3]||(e[3]=a=>v.openBaziModal("month"))},{default:l((()=>[c(y,{class:"bazi-label"},{default:l((()=>[r("æœˆæŸ±")])),_:1}),c(y,{class:"bazi-val"},{default:l((()=>[r(f(v.getBaziText("month")),1)])),_:1})])),_:1}),c(D,{class:"bazi-box",onClick:e[4]||(e[4]=a=>v.openBaziModal("day"))},{default:l((()=>[c(y,{class:"bazi-label"},{default:l((()=>[r("æ—¥æŸ±")])),_:1}),c(y,{class:"bazi-val"},{default:l((()=>[r(f(v.getBaziText("day")),1)])),_:1})])),_:1}),c(D,{class:"bazi-box",onClick:e[5]||(e[5]=a=>v.openBaziModal("hour"))},{default:l((()=>[c(y,{class:"bazi-label"},{default:l((()=>[r("æ—¶æŸ±")])),_:1}),c(y,{class:"bazi-val"},{default:l((()=>[r(f(v.getBaziText("hour")),1)])),_:1})])),_:1})])),_:1}),c(D,{class:"section-label",style:{"margin-top":"20rpx"}},{default:l((()=>[r("èŠ‚æ°”")])),_:1}),c(P,{mode:"selector",range:C.jieQiList,onChange:e[6]||(e[6]=a=>C.baziParams.jieQi=a.detail.value)},{default:l((()=>[c(D,{class:"picker-view"},{default:l((()=>[c(y,{class:"picker-val"},{default:l((()=>[r(f(C.jieQiList[C.baziParams.jieQi]),1)])),_:1}),c(y,{class:"icon"},{default:l((()=>[r("â–¼")])),_:1})])),_:1})])),_:1},8,["range"])])),_:1})):m("",!0),"manual"===C.currentMode?(n(),i(D,{key:3,class:"input-section"},{default:l((()=>[c(D,{class:"section-label"},{default:l((()=>[r("æŒ‡å®šå±€æ•°")])),_:1}),c(D,{class:"dun-toggle-row"},{default:l((()=>[c(D,{class:p(["dun-item",{active:C.manualJuData.isYang}]),onClick:e[7]||(e[7]=a=>C.manualJuData.isYang=!0)},{default:l((()=>[r("é˜³é")])),_:1},8,["class"]),c(D,{class:p(["dun-item",{active:!C.manualJuData.isYang}]),onClick:e[8]||(e[8]=a=>C.manualJuData.isYang=!1)},{default:l((()=>[r("é˜´é")])),_:1},8,["class"])])),_:1}),c(D,{class:"ju-num-grid"},{default:l((()=>[(n(),d(h,null,u(9,(a=>c(D,{class:p(["ju-num-item",{active:C.manualJuData.num===a}]),key:a,onClick:e=>C.manualJuData.num=a},{default:l((()=>[r(f(v.getJuNumText(a))+"å±€",1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),c(D,{class:"tips"},{default:l((()=>[r(" æ³¨ï¼šæ‰‹å·¥é€‰å±€æ¨¡å¼ä¸‹ï¼Œå°†é»˜è®¤ä½¿ç”¨å½“å‰æ—¶é—´ä½œä¸ºç›˜é¢å››æŸ±ã€‚ ")])),_:1})])),_:1})):m("",!0),c(D,{class:"divider"}),c(D,{class:"input-section"},{default:l((()=>[c(D,{class:"section-label"},{default:l((()=>[r("æœ¬å‘½è¡Œå¹´ (é€‰å¡«)")])),_:1}),c(D,{class:"picker-row"},{default:l((()=>[c(P,{mode:"date",fields:"year",value:C.birthYear,onChange:v.bindYearChange,class:"picker-half"},{default:l((()=>[c(D,{class:"picker-view"},{default:l((()=>[c(y,{class:"picker-val"},{default:l((()=>[r(f(C.birthYear?C.birthYear+"å¹´":"å‡ºç”Ÿå¹´ä»½"),1)])),_:1})])),_:1})])),_:1},8,["value","onChange"]),c(D,{class:"gender-toggle picker-half",onClick:v.toggleGender},{default:l((()=>[c(D,{class:p(["gender-opt",{active:C.gender}])},{default:l((()=>[r("ç”·")])),_:1},8,["class"]),c(D,{class:p(["gender-opt",{active:!C.gender}])},{default:l((()=>[r("å¥³")])),_:1},8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),c(T,{class:"btn-submit",onClick:v.submit,"hover-class":"btn-hover"},{default:l((()=>[r("å¼€å§‹æ’ç›˜")])),_:1},8,["onClick"]),c(D,{class:"copyright-info"},{default:l((()=>[c(D,{class:"copyright-line"},{default:l((()=>[r("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),c(D,{class:"copyright-line"},{default:l((()=>[r("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1})])),_:1}),C.showBaziModal?(n(),i(D,{key:0,class:"modal-mask",onClick:v.closeBaziModal},{default:l((()=>[c(D,{class:"modal-content",onClick:e[9]||(e[9]=g((()=>{}),["stop"]))},{default:l((()=>[c(D,{class:"modal-header"},{default:l((()=>[c(y,null,{default:l((()=>[r("é€‰æŠ˜"+f(v.getBaziTitle())+"å¹²æ”¯",1)])),_:1}),c(D,{class:"modal-confirm",onClick:v.confirmBaziSelection},{default:l((()=>[r("ç¡®å®š")])),_:1},8,["onClick"])])),_:1}),c(D,{class:"modal-body"},{default:l((()=>[c(D,{class:"gz-preview"},{default:l((()=>[c(y,{class:"gz-char stem"},{default:l((()=>[r(f(C.tempGan),1)])),_:1}),c(y,{class:"gz-char branch"},{default:l((()=>[r(f(C.tempZhi),1)])),_:1})])),_:1}),c(D,{class:"grid-section"},{default:l((()=>[c(D,{class:"grid-title"},{default:l((()=>[r("å¤©å¹²")])),_:1}),c(D,{class:"grid-row"},{default:l((()=>[(n(!0),d(h,null,u(C.ganList,(a=>(n(),i(D,{class:p(["grid-item stem-item",{active:C.tempGan===a,dimmed:v.isGanDimmed(a)}]),key:a,onClick:e=>v.selectGan(a)},{default:l((()=>[r(f(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),c(D,{class:"grid-section"},{default:l((()=>[c(D,{class:"grid-title"},{default:l((()=>[r("åœ°æ”¯")])),_:1}),c(D,{class:"grid-row"},{default:l((()=>[(n(!0),d(h,null,u(C.zhiList,(a=>(n(),i(D,{class:p(["grid-item branch-item",{active:C.tempZhi===a,dimmed:v.isZhiDimmed(a)}]),key:a,onClick:e=>v.selectZhi(a)},{default:l((()=>[r(f(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):m("",!0),c(L,{show:C.showDatePicker,value:C.customDate,onChange:v.onDateChange,onClose:e[10]||(e[10]=a=>C.showDatePicker=!1)},null,8,["show","value","onChange"]),c(M,{show:C.showTimePicker,value:C.customTime,onChange:v.onTimeChange,onClose:e[11]||(e[11]=a=>C.showTimePicker=!1)},null,8,["show","value","onChange"]),C.showPasswordModal?(n(),i(D,{key:1,class:"password-modal"},{default:l((()=>[c(D,{class:"password-content"},{default:l((()=>[c(D,{class:"password-header"},{default:l((()=>[c(y,null,{default:l((()=>[r("è¯·è¾“å…¥è®¿é—®å¯†ç ")])),_:1})])),_:1}),c(D,{class:"password-body"},{default:l((()=>[c(x,{type:"text",class:"password-input",modelValue:C.inputPassword,"onUpdate:modelValue":e[12]||(e[12]=a=>C.inputPassword=a),placeholder:"è¯·è¾“å…¥å¯†ç ",password:"",onConfirm:v.verifyPassword},null,8,["modelValue","onConfirm"]),C.passwordError?(n(),i(y,{key:0,class:"password-error"},{default:l((()=>[r("å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•")])),_:1})):m("",!0),c(D,{class:"password-btns"},{default:l((()=>[c(D,{class:"password-confirm-btn",onClick:v.verifyPassword},{default:l((()=>[c(y,null,{default:l((()=>[r("ç¡®è®¤")])),_:1})])),_:1},8,["onClick"]),c(D,{class:"password-cancel-btn",onClick:e[13]||(e[13]=a=>C.showPasswordModal=!1)},{default:l((()=>[c(y,null,{default:l((()=>[r("å–æ¶ˆ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0)])),_:1})}],["__scopeId","data-v-a5195aee"]]);export{y as default};
