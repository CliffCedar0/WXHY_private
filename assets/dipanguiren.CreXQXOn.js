const n=[{name:"子",start:23,end:1,alias:"子时",description:"夜半"},{name:"丑",start:1,end:3,alias:"丑时",description:"鸡鸣"},{name:"寅",start:3,end:5,alias:"寅时",description:"平旦"},{name:"卯",start:5,end:7,alias:"卯时",description:"日出"},{name:"辰",start:7,end:9,alias:"辰时",description:"食时"},{name:"巳",start:9,end:11,alias:"巳时",description:"隅中"},{name:"午",start:11,end:13,alias:"午时",description:"日中"},{name:"未",start:13,end:15,alias:"未时",description:"日昳"},{name:"申",start:15,end:17,alias:"申时",description:"晡时"},{name:"酉",start:17,end:19,alias:"酉时",description:"日入"},{name:"戌",start:19,end:21,alias:"戌时",description:"黄昏"},{name:"亥",start:21,end:23,alias:"亥时",description:"人定"}];function e(e){const t=e.getHours();if(t>=23||t<1)return{...n[0],index:0};for(let a=1;a<n.length;a++){const e=n[a];if(t>=e.start&&t<e.end)return{...e,index:a}}return{...n[0],index:0}}function t(n){return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}:${String(n.getSeconds()).padStart(2,"0")}`}function a(){return n.map(((n,e)=>({...n,index:e})))}function s(n){return["卯","辰","巳","午","未","申"].includes(n)}const c=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],i={"贵":"贵人","蛇":"螣蛇","朱":"朱雀","合":"六合","勾":"勾陈","龙":"青龙","空":"天空","虎":"白虎","常":"太常","玄":"玄武","阴":"太阴","后":"天后"},r={"甲":{day:"丑",night:"未"},"戊":{day:"丑",night:"未"},"庚":{day:"丑",night:"未"},"乙":{day:"子",night:"申"},"己":{day:"子",night:"申"},"丙":{day:"亥",night:"酉"},"丁":{day:"亥",night:"酉"},"壬":{day:"巳",night:"卯"},"癸":{day:"巳",night:"卯"},"辛":{day:"寅",night:"午"}};const u=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],o=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"];function d(n,e,t){const a=s(e),i=function(n,e){const t=r[n];return t?e?t.day:t.night:"丑"}(n,a),d=function(n,e){for(let t in e)if(e[t]===n)return t;return n}(i,t),h=["亥","子","丑","寅","卯","辰"].includes(d),m=function(n,e){const t={},a=c.indexOf(n),s=e?u:o;for(let i=0;i<12;i++)t[c[(a+i)%12]]=s[i];return t}(d,h);return{layout:m,isDay:a,dayNight:a?"昼":"夜",guirenPosition:d,guirenBenwei:i,isShunbu:h}}function h(n){return i[n]||n}const m=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],f=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],g={"甲":"寅","乙":"辰","丙":"巳","丁":"未","戊":"巳","己":"未","庚":"申","辛":"戌","壬":"亥","癸":"丑"},l={"甲子":["戌","亥"],"甲戌":["申","酉"],"甲申":["午","未"],"甲午":["辰","巳"],"甲辰":["寅","卯"],"甲寅":["子","丑"]};function p(n,e){const t=m.indexOf(n),a=f.indexOf(e);return"甲"+f[(a-t+12)%12]}function k(n,e,t){const a=function(n,e){const t={},a=m.indexOf(n),s=g[n],c=f.indexOf(s);for(let i=0;i<12;i++){const n=f[(c+i)%12];if(i<10){const e=(a+i)%10;t[n]=m[e]}else t[n]=""}return t}(n),s=function(n,e){const t=p(n,e);return l[t]||[]}(n,e),c=function(n,e){const t=[];for(const a in e)n.includes(e[a])&&t.push(a);return t}(s,t);return{layout:a,xunKong:s,tianpanXunKong:c,dipanXunKong:s,xunShou:p(n,e)}}const x={"甲":"寅","乙":"辰","丙":"巳","丁":"未","戊":"巳","己":"未","庚":"申","辛":"戌","壬":"亥","癸":"丑"};function y(n,e,t){const a=x[n]||"";const s=t[a]||"",c=n,i=t[s]||"",r=s,u=t[e]||"";return{yike:{shang:s,xia:c},erke:{shang:i,xia:r},sanke:{shang:u,xia:e},sike:{shang:t[u]||"",xia:u},ganJigong:a}}const z=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],b=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],S={"甲":"寅","乙":"辰","丙":"巳","丁":"未","戊":"巳","己":"未","庚":"申","辛":"戌","壬":"亥","癸":"丑"},O=["甲寅","乙辰","丙巳","丁未","戊巳","己未","庚申","辛戌","壬亥","癸丑"],j={"金":"木","木":"土","土":"水","水":"火","火":"金"},$={"子":"水","丑":"土","寅":"木","卯":"木","辰":"土","巳":"火","午":"火","未":"土","申":"金","酉":"金","戌":"土","亥":"水"},w={"甲":"木","乙":"木","丙":"火","丁":"火","戊":"土","己":"土","庚":"金","辛":"金","壬":"水","癸":"水"},K={"子":"午","午":"子","丑":"未","未":"丑","寅":"申","申":"寅","卯":"酉","酉":"卯","辰":"戌","戌":"辰","巳":"亥","亥":"巳"},X={"子":"卯","卯":"子","丑":"戌","戌":"未","未":"丑","寅":"巳","巳":"申","申":"寅","辰":"辰","午":"午","酉":"酉","亥":"亥"},A={"申":"寅","子":"寅","辰":"寅","寅":"申","午":"申","戌":"申","巳":"亥","酉":"亥","丑":"亥","亥":"巳","卯":"巳","未":"巳"};function B(n){return w[n]||$[n]||""}function D(n){return["甲","丙","戊","庚","壬"].includes(n)||["子","寅","辰","午","申","戌"].includes(n)}function E(n,e){return j[n]===e}function M(n,e){return E(B(n),B(e))}function P(n,e){const t=B(n);return E(B(e),t)}function R(n){const e=[],t=[],a=[{index:1,name:"yike",...n.yike},{index:2,name:"erke",...n.erke},{index:3,name:"sanke",...n.sanke},{index:4,name:"sike",...n.sike}];for(const s of a)M(s.shang,s.xia)&&e.push({index:s.index,tianpan:s.shang,dipan:s.xia,name:s.name}),P(s.shang,s.xia)&&t.push({index:s.index,tianpan:s.shang,dipan:s.xia,name:s.name});return{shangke:e,xiazei:t}}function Y(n,e,t){let a=null;for(let r in e)if(e[r]===n){a=r;break}if(!a)return 0;const s=function(n,e){const t=z.indexOf(n),a=z.indexOf(e),s=[n];let c=t;for(;c!==a;)c=(c+1)%12,s.push(z[c]);return s}(a,n);let c=0;const i=B(n);for(let r=0;r<s.length;r++){const n=s[r];c+=C(i,n,!t)}return c}function C(n,e,t){let a=0;const s=B(e);if(t){E(n,s)&&a++;const t=F(e);for(const e of t){E(n,B(e))&&a++}}else{E(s,n)&&a++;const t=F(e);for(const e of t){E(B(e),n)&&a++}}return a}function F(n){return{"寅":["甲"],"辰":["乙"],"巳":["丙","戊"],"未":["丁","己"],"申":["庚"],"戌":["辛","戊"],"亥":["壬"],"丑":["癸","己"]}[n]||[]}function H(n,e){const t=[e.erke,e.sanke,e.sike],a=[],s=[];for(let c=0;c<t.length;c++){const e=t[c];M(e.shang,n)&&a.push({index:c+2,tianpan:e.shang}),M(n,e.shang)&&s.push({index:c+2,tianpan:e.shang})}return{keRigan:a,riganKe:s}}function N(n,e,t,a){if(!function(n){let e=0;for(let t in n)K[t]===n[t]&&e++;return e>=6}(a))return null;const s=R(t);if(s.shangke.length>0||s.xiazei.length>0){const n=(s.xiazei.length>0?s.xiazei[0]:s.shangke[0]).tianpan,e=a[n]||"";return{chuchuan:n,zhongchuan:e,mochuan:a[e]||"",method:"反吟有克",reason:"反吟课有贼克"}}const c=A[e];return c?{chuchuan:c,zhongchuan:t.sanke.shang,mochuan:t.yike.shang,method:"反吟驿马",reason:"无克取日支驿马"}:null}function q(n,e,t,a){const s=R(n),c=s.shangke.length>0||s.xiazei.length>0,i=H(e,n),r=i.keRigan.length>0||i.riganKe.length>0,u=function(n,e,t,a){const s=n+e;if(!O.includes(s))return null;if(D(n))return{chuchuan:t.yike.shang,zhongchuan:t.sanke.shang,mochuan:S[n]||e,method:"八专课（阳）",reason:"日干寄宫与日支相同"};return{chuchuan:t.sanke.shang,zhongchuan:t.yike.shang,mochuan:e,method:"八专课（阴）",reason:"日干寄宫与日支相同"}}(e,t,n);if(u)return u;const o=function(n,e,t,a){if(!function(n){let e=0;for(let t in n)t===n[t]&&e++;return e>=6}(a))return null;const s=R(t),c=D(n);let i,r;if(s.xiazei.length>0){const n=s.xiazei[0].dipan;i=b.includes(n)&&S[n]||n,r="不虞"}else if(s.shangke.length>0){const n=s.shangke[0].dipan;i=b.includes(n)&&S[n]||n,r="不虞"}else c?(i=t.yike.shang,r="自任"):(i=t.sanke.shang,r="自信");z.includes(i)||(i=S[i]||"辰");let u=["辰","午","酉","亥"].includes(i)?c?t.yike.shang:t.sanke.shang:X[i]||i;z.includes(u)||(u=S[u]||i);let o=["辰","午","酉","亥"].includes(u)?c?t.sanke.shang:t.yike.shang:X[u]||u;return z.includes(o)||(o=S[o]||u),{chuchuan:i,zhongchuan:u,mochuan:o,method:"伏吟课",reason:r}}(e,0,n,a);if(o)return o;const d=N(0,t,n,a);if(d)return d;const h=function(n,e){if(1===n.xiazei.length&&0===n.shangke.length){const t=n.xiazei[0].tianpan;return{chuchuan:t,zhongchuan:e[t]||"",mochuan:e[e[t]]||"",method:"始入课",reason:"一贼取贼"}}if(0===n.xiazei.length&&1===n.shangke.length){const t=n.shangke[0].tianpan;return{chuchuan:t,zhongchuan:e[t]||"",mochuan:e[e[t]]||"",method:"元首课",reason:"一克取克"}}if(1===n.xiazei.length&&n.shangke.length>0){const t=n.xiazei[0].tianpan;return{chuchuan:t,zhongchuan:e[t]||"",mochuan:e[e[t]]||"",method:"重审课",reason:"有贼有克取贼"}}return null}(s,a);if(h)return h;const m=function(n,e,t){const a=D(n);let s=[],c="";if(e.xiazei.length>=2)s=e.xiazei,c="贼";else{if(!(e.shangke.length>=2))return null;s=e.shangke,c="克"}const i=s.filter((n=>D(n.tianpan)===a));if(1===i.length){const n=i[0].tianpan;return{chuchuan:n,zhongchuan:t[n]||"",mochuan:t[t[n]]||"",method:"比用课",reason:"阴阳相比唯一"}}const r=(i.length>=2?i:s).map((n=>{return{...n,depth:Y(n.tianpan,t,"贼"===c),mengzhongji:(e=n.tianpan,["寅","巳","申","亥"].includes(e)?3:["子","卯","午","酉"].includes(e)?2:["丑","辰","未","戌"].includes(e)?1:0)};var e}));r.sort(((n,e)=>e.depth!==n.depth?e.depth-n.depth:e.mengzhongji!==n.mengzhongji?e.mengzhongji-n.mengzhongji:a?n.index-e.index:e.index-n.index));const u=r[0].tianpan;return{chuchuan:u,zhongchuan:t[u]||"",mochuan:t[t[u]]||"",method:"涉害课",reason:"涉害深浅取最深"}}(e,s,a);if(m)return m;if(!c){const t=function(n,e,t){const{keRigan:a,riganKe:s}=H(n,e),c=D(n);if(a.length>0){let n;if(1===a.length)n=a[0];else{const e=a.filter((n=>D(n.tianpan)===c));n=e.length>0?e[0]:a[0]}const e=n.tianpan;return{chuchuan:e,zhongchuan:t[e]||"",mochuan:t[t[e]]||"",method:"蒿矢",reason:"课克日干"}}if(s.length>0){let n;if(1===s.length)n=s[0];else{const e=s.filter((n=>D(n.tianpan)===c));n=e.length>0?e[0]:s[0]}const e=n.tianpan;return{chuchuan:e,zhongchuan:t[e]||"",mochuan:t[t[e]]||"",method:"弹射",reason:"日干克课"}}return null}(e,n,a);if(t)return t}if(!c&&!r){const t=function(n,e,t){if(D(n)){const n=t["酉"];return n?{chuchuan:n,zhongchuan:e.sanke.shang,mochuan:e.yike.shang,method:"虎视（昴星）",reason:"阳日：地盘酉上神为初传"}:null}{let n=null;for(let e in t)if("酉"===t[e]){n=e;break}return n?{chuchuan:n,zhongchuan:e.yike.shang,mochuan:e.sanke.shang,method:"冬蛇掩目（昴星）",reason:"阴日：天盘酉下神为初传"}:null}}(e,n,a);if(t)return t}const f=function(n,e,t,a){let s;return s=D(n)?a[S[n]]||t.yike.shang:a[e]||t.sanke.shang,{chuchuan:s,zhongchuan:a[s]||"",mochuan:a[a[s]]||"",method:"别责课",reason:"四课不全或无法确定"}}(e,t,n,a);return f||{chuchuan:n.yike.shang,zhongchuan:a[n.yike.shang]||"",mochuan:a[a[n.yike.shang]]||"",method:"默认",reason:"无法确定课格"}}const v=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],G={};v.forEach(((n,e)=>G[n]=e));const J={};["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].forEach(((n,e)=>J[n]=e));const Z={"甲子":"甲子","乙丑":"甲子","丙寅":"甲子","丁卯":"甲子","戊辰":"甲子","己巳":"甲子","庚午":"甲子","辛未":"甲子","壬申":"甲子","癸酉":"甲子","甲戌":"甲戌","乙亥":"甲戌","丙子":"甲戌","丁丑":"甲戌","戊寅":"甲戌","己卯":"甲戌","庚辰":"甲戌","辛巳":"甲戌","壬午":"甲戌","癸未":"甲戌","甲申":"甲申","乙酉":"甲申","丙戌":"甲申","丁亥":"甲申","戊子":"甲申","己丑":"甲申","庚寅":"甲申","辛卯":"甲申","壬辰":"甲申","癸巳":"甲申","甲午":"甲午","乙未":"甲午","丙申":"甲午","丁酉":"甲午","戊戌":"甲午","己亥":"甲午","庚子":"甲午","辛丑":"甲午","壬寅":"甲午","癸卯":"甲午","甲辰":"甲辰","乙巳":"甲辰","丙午":"甲辰","丁未":"甲辰","戊申":"甲辰","己酉":"甲辰","庚戌":"甲辰","辛亥":"甲辰","壬子":"甲辰","癸丑":"甲辰","甲寅":"甲寅","乙卯":"甲寅","丙辰":"甲寅","丁巳":"甲寅","戊午":"甲寅","己未":"甲寅","庚申":"甲寅","辛酉":"甲寅","壬戌":"甲寅","癸亥":"甲寅"};function I(n){switch(n){case"甲":case"己":default:return"甲";case"乙":case"庚":return"丙";case"丙":case"辛":return"戊";case"丁":case"壬":return"庚";case"戊":case"癸":return"壬"}}function L(n,e,t){const a=function(n,e){return Z[n+e]||"甲子"}(e,t),s=a.charAt(0),c=a.charAt(1),i=G[s],r=J[c],u=(J[n]-r+12)%12,o=u>=10;return{gan:v[(i+u)%10],isXunkong:o}}function Q(n,e,t,a){if(!a)return{gan:"",isXunkong:!1};const s=function(n,e){return Z[n+e]||"甲子"}(e,t),c=s.charAt(1);let i=null;for(let d in a)if(a[d]===c){i=d;break}if(!i)return{gan:"",isXunkong:!1};const r=J[i],u=(J[n]-r+12)%12,o=u>=10;return{gan:v[u%10],isXunkong:o}}function T(n,e,t){if(!e||!t)return"";const a=I(e),s=G[a];let c=null;for(let u in t)if("子"===t[u]){c=u;break}if(!c)return"";const i=J[c],r=J[n];return v[(s+(r-i+12)%12)%10]}function U(n,e,t){if(!n||!e||!t)return"";return L(n,e,t).gan}function V(n,e){const{dayStem:t,dayBranch:a,timeStem:s,timeBranch:c,tianpan:i,guirenPosition:r}=e,u=L(i?i[n]:n,t,a),o=Q(n,s,c,i),d=U(n,t,a),h=T(n,t,i),m=function(n,e,t){if(!e||!t)return"";const a=I(e),s=G[a];let c=null;for(let u in t)if("子"===t[u]){c=u;break}if(!c)return"";const i=J[c],r=J[n];return v[(s+(r-i+12)%12)%10]}(n,s,i),f=function(n,e,t,a){if(!e||!a||!t)return"";if(!a[e])return"";const s=e;let c=null;for(let m in a)if(a[m]===s){c=m;break}if(!c)return"";const i=T(c,t,a);if(!i)return"";const r=I(i),u=G[r];let o=null;for(let m in a)if("子"===a[m]){o=m;break}if(!o)return"";const d=a[n];if(!d)return"";const h=(J[d]-J["子"]+12)%12;return v[(u+h)%10]}(n,r,t,i);return{xundun:u,tiandun:o,didun:d,jiangan:h,fujian:m,rendun:f}}const W={"甲":"木","乙":"木","丙":"火","丁":"火","戊":"土","己":"土","庚":"金","辛":"金","壬":"水","癸":"水","寅":"木","卯":"木","巳":"火","午":"火","辰":"土","戌":"土","丑":"土","未":"土","申":"金","酉":"金","亥":"水","子":"水"},_=["甲","丙","戊","庚","壬","子","寅","辰","午","申","戌"];function nn(n){return W[n]||""}function en(n){return _.includes(n)}function tn(n,e){return{"木":"火","火":"土","土":"金","金":"水","水":"木"}[n]===e}function an(n,e){return{"木":"土","火":"金","土":"水","金":"木","水":"火"}[n]===e}function sn(n,e){if(!n||!e)return"";const t=nn(n),a=nn(e);return t===a?"兄弟":tn(a,t)?"父母":tn(t,a)?"子孙":an(a,t)?"官鬼":an(t,a)?"妻财":""}function cn(n,e){if(!n||!e)return"";const t=nn(n),a=nn(e),s=en(n)===en(e);return t===a?s?"比肩":"劫财":tn(a,t)?s?"偏印":"正印":tn(t,a)?s?"食神":"伤官":an(t,a)?s?"偏财":"正财":an(a,t)?s?"七杀":"正官":""}const rn=["建","除","满","平","定","执","破","危","成","收","开","闭"],un=["长","沐","冠","临","旺","衰","病","死","墓","绝","胎","养"],on={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["午","巳","辰","卯","寅","丑","子","亥","戌","酉","申","未"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["子","亥","戌","酉","申","未","午","巳","辰","卯","寅","丑"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["卯","寅","丑","子","亥","戌","酉","申","未","午","巳","辰"]},dn={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"]},hn={"甲":"木","乙":"木","寅":"木","卯":"木","丙":"火","丁":"火","巳":"火","午":"火","戊":"土","己":"土","辰":"土","戌":"土","丑":"土","未":"土","庚":"金","辛":"金","申":"金","酉":"金","壬":"水","癸":"水","亥":"水","子":"水"};function mn(n,e,t){if(!n||!e||!t)return"";let a=null;for(let u in t)if(t[u]===n){a=u;break}if(!a)return"";const s=["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],c=s.indexOf(a);if(-1===c)return"";const i=[...s.slice(c),...s.slice(0,c)],r={};return i.forEach(((n,e)=>{r[n]=rn[e]})),r[e]||""}function fn(n,e){if(!n||!e)return"";const t=hn[n],a=hn[e];if(!t||!a)return"";const s={"木":"火","火":"土","土":"金","金":"水","水":"木"},c={"木":"土","火":"金","土":"水","金":"木","水":"火"};return t===a?"旺":s[t]===a?"相":s[a]===t?"休":c[a]===t?"囚":c[t]===a?"死":""}function gn(n,e){if(!n||!e)return"";const t=on[n];if(!t)return"";const a=t.indexOf(e);return-1===a?"":un[a]}function ln(n,e){if(!n||!e)return"";const t=dn[n];if(!t)return"";const a=t.indexOf(e);return-1===a?"":un[a]}function pn(n,e){const{monthBranch:t,dayStem:a,tianpan:s}=e,c=s[n];return{jianchu:mn(t,n,s),wangshuai:fn(t,c),shiganChangsheng:gn(a,c),wuxingChangsheng:ln(a,c)}}const kn={"甲子":"海中金","乙丑":"海中金","丙寅":"炉中火","丁卯":"炉中火","戊辰":"大林木","己巳":"大林木","庚午":"路旁土","辛未":"路旁土","壬申":"剑锋金","癸酉":"剑锋金","甲戌":"山头火","乙亥":"山头火","丙子":"涧下水","丁丑":"涧下水","戊寅":"城头土","己卯":"城头土","庚辰":"白蜡金","辛巳":"白蜡金","壬午":"杨柳木","癸未":"杨柳木","甲申":"泉中水","乙酉":"泉中水","丙戌":"屋上土","丁亥":"屋上土","戊子":"霹雳火","己丑":"霹雳火","庚寅":"松柏木","辛卯":"松柏木","壬辰":"长流水","癸巳":"长流水","甲午":"沙中金","乙未":"沙中金","丙申":"山下火","丁酉":"山下火","戊戌":"平地木","己亥":"平地木","庚子":"壁上土","辛丑":"壁上土","壬寅":"金箔金","癸卯":"金箔金","甲辰":"覆灯火","乙巳":"覆灯火","丙午":"天河水","丁未":"天河水","戊申":"大驿土","己酉":"大驿土","庚戌":"钗钏金","辛亥":"钗钏金","壬子":"桑柘木","癸丑":"桑柘木","甲寅":"大溪水","乙卯":"大溪水","丙辰":"沙中土","丁巳":"沙中土","戊午":"天上火","己未":"天上火","庚申":"石榴木","辛酉":"石榴木","壬戌":"大海水","癸亥":"大海水"},xn={"海中金":"金","炉中火":"火","大林木":"木","路旁土":"土","剑锋金":"金","山头火":"火","涧下水":"水","城头土":"土","白蜡金":"金","杨柳木":"木","泉中水":"水","屋上土":"土","霹雳火":"火","松柏木":"木","长流水":"水","沙中金":"金","山下火":"火","平地木":"木","壁上土":"土","金箔金":"金","覆灯火":"火","天河水":"水","大驿土":"土","钗钏金":"金","桑柘木":"木","大溪水":"水","沙中土":"土","天上火":"火","石榴木":"木","大海水":"水"},yn={"金":"#e08433","木":"#317023","水":"#0803a8","火":"#ce2d20","土":"#98511e"};function zn(n){return xn[n]||""}function bn(n,e){const t=n+e,a=function(n,e){return n&&e&&kn[n+e]||""}(n,e),s=zn(a),c=function(n){const e=zn(n);return yn[e]||"#666"}(a);return{ganZhi:t,nayin:a,wuxing:s,color:c}}const Sn=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],On=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],jn={1924:"甲子",1925:"乙丑",1926:"丙寅",1927:"丁卯",1928:"戊辰",1929:"己巳",1930:"庚午",1931:"辛未",1932:"壬申",1933:"癸酉",1934:"甲戌",1935:"乙亥",1936:"丙子",1937:"丁丑",1938:"戊寅",1939:"己卯",1940:"庚辰",1941:"辛巳",1942:"壬午",1943:"癸未",1944:"甲申",1945:"乙酉",1946:"丙戌",1947:"丁亥",1948:"戊子",1949:"己丑",1950:"庚寅",1951:"辛卯",1952:"壬辰",1953:"癸巳",1954:"甲午",1955:"乙未",1956:"丙申",1957:"丁酉",1958:"戊戌",1959:"己亥",1960:"庚子",1961:"辛丑",1962:"壬寅",1963:"癸卯",1964:"甲辰",1965:"乙巳",1966:"丙午",1967:"丁未",1968:"戊申",1969:"己酉",1970:"庚戌",1971:"辛亥",1972:"壬子",1973:"癸丑",1974:"甲寅",1975:"乙卯",1976:"丙辰",1977:"丁巳",1978:"戊午",1979:"己未",1980:"庚申",1981:"辛酉",1982:"壬戌",1983:"癸亥",1984:"甲子",1985:"乙丑",1986:"丙寅",1987:"丁卯",1988:"戊辰",1989:"己巳",1990:"庚午",1991:"辛未",1992:"壬申",1993:"癸酉",1994:"甲戌",1995:"乙亥",1996:"丙子",1997:"丁丑",1998:"戊寅",1999:"己卯",2e3:"庚辰",2001:"辛巳",2002:"壬午",2003:"癸未",2004:"甲申",2005:"乙酉",2006:"丙戌",2007:"丁亥",2008:"戊子",2009:"己丑",2010:"庚寅",2011:"辛卯",2012:"壬辰",2013:"癸巳",2014:"甲午",2015:"乙未",2016:"丙申",2017:"丁酉",2018:"戊戌",2019:"己亥",2020:"庚子",2021:"辛丑",2022:"壬寅",2023:"癸卯",2024:"甲辰",2025:"乙巳",2026:"丙午",2027:"丁未",2028:"戊申",2029:"己酉",2030:"庚戌",2031:"辛亥",2032:"壬子",2033:"癸丑",2034:"甲寅",2035:"乙卯",2036:"丙辰",2037:"丁巳",2038:"戊午",2039:"己未",2040:"庚申",2041:"辛酉",2042:"壬戌",2043:"癸亥",2044:"甲子",2045:"乙丑",2046:"丙寅",2047:"丁卯",2048:"戊辰",2049:"己巳",2050:"庚午"};function $n(n,e,t=null){const a=function(n){const e=jn[n];return e?{gan:e.charAt(0),zhi:e.charAt(1)}:{gan:"",zhi:""}}(n),s=function(n,e,t=null){t||(t=(new Date).getFullYear());const a=t-n;if(a<0)return{gan:"",zhi:""};const s=Sn.indexOf("丙"),c=On.indexOf("寅"),i=Sn.indexOf("壬"),r=On.indexOf("申");let u,o;return e?(u=(s+a)%10,o=(c+a)%12):(u=(i-a+1e3)%10,o=(r-a+1200)%12),{gan:Sn[u],zhi:On[o]}}(n,e,t);return{benming:a,xingnian:s,birthYear:n,isMale:e,gender:e?"男":"女"}}const wn={"贵人":{"子":{name:"贵人加子曰解纷",desc:"找贵人帮忙解决麻烦，多见于司法诉讼或托人办事"},"丑":{name:"贵人居丑曰升堂",desc:"告状、对峙、打官司"},"寅":{name:"贵人居寅曰凭几",desc:"贵人坐书案前，对应文职、老师等行业"},"卯":{name:"贵人居卯曰登车",desc:"出行、大客户上门、豪车"},"辰":{name:"贵人居辰曰天牢",desc:"贵人自身难保，无法发挥作用"},"巳":{name:"贵人居巳曰受贡",desc:"求人办事、送礼、尊敬有加"},"午":{name:"贵人居午曰受贡",desc:"求人办事、送礼、尊敬有加"},"未":{name:"贵人居未曰列席",desc:"请贵人吃饭，含入座、录取等意"},"申":{name:"贵人居申曰移途",desc:"在路上，动中吉"},"酉":{name:"贵人居酉入私门",desc:"走后门、包养、受贿等"},"戌":{name:"贵人居戌曰地狱",desc:"贵人自身难保，不能发挥作用"},"亥":{name:"贵人加亥登天门",desc:"指政府公务人员或关系强大的达官贵人"}},"螣蛇":{"子":{name:"螣蛇加子曰掩目",desc:"遗漏、疏忽、逃避、头疼"},"丑":{name:"螣蛇居丑曰蟠龟",desc:"转危为安，宜静不宜动"},"寅":{name:"螣蛇居寅曰生角",desc:"事情耗时久、钻牛角尖"},"卯":{name:"螣蛇居卯曰当门",desc:"家里有糟心事、事到临头"},"辰":{name:"螣蛇居辰曰象龙",desc:"自信心爆棚、狂妄、虚假广告等"},"巳":{name:"螣蛇居巳曰乘雾",desc:"烟雾弹、假话、虚实难辨"},"午":{name:"螣蛇居午曰飞空",desc:"想法不切实际"},"未":{name:"螣蛇居未曰入林",desc:"心思深、隐藏"},"申":{name:"螣蛇居申曰衔剑",desc:"隐患大、精神紧张"},"酉":{name:"螣蛇居酉曰露齿",desc:"有毒、想害人、骂人难听等"},"戌":{name:"螣蛇居戌曰入冢",desc:"多余担心、自闭症"},"亥":{name:"螣蛇加亥曰坠水",desc:"测走失大凶，担心、后怕"}},"朱雀":{"子":{name:"朱雀加子曰损羽",desc:"考试成绩差、收不到信息文书"},"丑":{name:"朱雀居丑曰掩目",desc:"争论休止、文书信息不来等"},"寅":{name:"朱雀居寅曰安巢",desc:"真消息、文书状态好、分数高"},"卯":{name:"朱雀居卯曰安巢",desc:"真消息、文书状态好、分数高"},"辰":{name:"朱雀居辰曰投网",desc:"投标、上传、信息录入、没消息"},"巳":{name:"朱雀居巳曰昼翔",desc:"信息即将到来"},"午":{name:"朱雀居午曰衔符",desc:"真消息、文书状态好、分数高、白热化"},"未":{name:"朱雀居未曰临坟",desc:"没消息、不联系、逃避"},"申":{name:"朱雀居申曰厉嘴",desc:"口才好、争论强胜"},"酉":{name:"朱雀居酉曰夜噪",desc:"吵架、辩论、官非"},"戌":{name:"朱雀居戌曰投网",desc:"投标、上传、信息录入、没消息"},"亥":{name:"朱雀加亥曰入水",desc:"文书信息因问题不来、停滞"}},"六合":{"子":{name:"六合加子曰反目",desc:"翻脸、关系恶化，测感情不佳"},"丑":{name:"六合居丑曰妆严",desc:"谄媚、有心机、谨慎"},"寅":{name:"六合居寅曰乘轩",desc:"相亲介绍、测感情吉"},"卯":{name:"六合居卯曰入室",desc:"上门、同居、室内会谈"},"辰":{name:"六合居辰曰违理",desc:"违背常规，合作走后门、感情关系非正常"},"巳":{name:"六合居巳曰不谐",desc:"感情不合、三观不合"},"午":{name:"六合居午曰升堂",desc:"对峙、走法律途径，问感情见父母"},"未":{name:"六合居未曰纳采",desc:"结婚、宴请吃饭"},"申":{name:"六合居申曰结发",desc:"感情稳定、相濡以沫"},"酉":{name:"六合居酉曰私窜",desc:"托关系走后门、男女关系混乱"},"戌":{name:"六合居戌曰亡羞",desc:"恼羞成怒、后悔"},"亥":{name:"六合加亥曰待命",desc:"等待指示、录取"}},"勾陈":{"子":{name:"勾陈加子曰投机",desc:"侥幸、坏心思、想坑人"},"丑":{name:"勾陈居丑曰受越",desc:"利益纷争、不顾劝阻强行而为"},"寅":{name:"勾陈居寅曰遭囚",desc:"被官方制止"},"卯":{name:"勾陈居卯曰临门",desc:"家庭不和、家暴、警察上门"},"辰":{name:"勾陈居辰曰升堂",desc:"上法庭、向领导坦白"},"巳":{name:"勾陈居巳曰铸印",desc:"测文书吉，合同录取等事成"},"午":{name:"勾陈居午曰反目",desc:"翻脸、关系恶化，多遭公检法严查"},"未":{name:"勾陈居未曰入驿",desc:"出门、出差、在路上"},"申":{name:"勾陈居申曰趋户",desc:"上门、约好去某地"},"酉":{name:"勾陈居酉曰披刃",desc:"手术、刀伤、打架、情绪暴戾"},"戌":{name:"勾陈居戌曰落井",desc:"坐牢、被孤立、无晋升希望"},"亥":{name:"勾陈加亥曰寨裳",desc:"心惊肉跳、失眠多梦"}},"青龙":{"子":{name:"青龙加子曰入海",desc:"青龙状态好，有钱、大钱"},"丑":{name:"青龙居丑曰蟠泥",desc:"状态不好，财务问题、被拖欠"},"寅":{name:"青龙居寅曰乘云",desc:"状态好，利经商"},"卯":{name:"青龙居卯曰驱雷",desc:"状态好，有钱"},"辰":{name:"青龙居辰曰飞天",desc:"状态好，有钱、大钱，适合大生意合作"},"巳":{name:"青龙居巳曰掩目",desc:"损财、财物失窃"},"午":{name:"青龙居午曰烧身",desc:"损财、经济压力大"},"未":{name:"青龙居未曰在陆",desc:"财务有问题但有转机"},"申":{name:"青龙居申曰临鳞",desc:"损财、破财较大"},"酉":{name:"青龙居酉曰摧角",desc:"损财、破财更大"},"戌":{name:"青龙居戌曰登魁",desc:"考试学业吉，中标、拔得头筹"},"亥":{name:"青龙加亥曰游江",desc:'青龙状态好，有钱、大钱但不如"入海"'}},"天空":{"子":{name:"天空加子曰伏室",desc:"宅家不出、多因女人起祸"},"丑":{name:"天空居丑曰侍侧",desc:"身边有小人、背后举报等"},"寅":{name:"天空居寅曰乘侮",desc:"上当受骗、见小人"},"卯":{name:"天空居卯曰乘侮",desc:"上当受骗、见小人"},"辰":{name:"天空居辰曰凶恶",desc:"报官无用、狼狈为奸"},"巳":{name:"天空居巳曰受辱",desc:"被辱骂欺凌"},"午":{name:"天空居午曰识字",desc:"暴露、测文书利"},"未":{name:"天空居未曰趋进",desc:"图财、贪财"},"申":{name:"天空居申曰鼓舌",desc:"说话多、哄骗、费口舌"},"酉":{name:"天空居酉曰巧说",desc:"花言巧语、哄骗、销售"},"戌":{name:"天空居戌曰居家",desc:"宅家不出、小人得志"},"亥":{name:"天空加亥曰诬词",desc:"诽谤、有心机"}},"白虎":{"子":{name:"白虎加子曰溺水",desc:"绝望、道路受阻，寻人忌得"},"丑":{name:"白虎居丑曰在野",desc:"出行在外"},"寅":{name:"白虎居寅曰登山",desc:"气势强、来势汹汹"},"卯":{name:"白虎居卯曰临门",desc:"祸乱临头"},"辰":{name:"白虎居辰曰咥人",desc:"气愤、大怒"},"巳":{name:"白虎居巳曰焚身",desc:"焦急"},"午":{name:"白虎居午曰焚身",desc:"焦急"},"未":{name:"白虎居未曰在野",desc:"出行在外"},"申":{name:"白虎居申曰衔牒",desc:"信息传送"},"酉":{name:"白虎居酉曰临门",desc:"祸乱临头"},"戌":{name:"白虎居戌曰落井",desc:"绝望、掉坑"},"亥":{name:"白虎加亥曰溺水",desc:"绝望、道路受阻，寻人忌得"}},"太常":{"子":{name:"太常加子曰遭枷",desc:"受制、背债务、受罚，问官司忌得"},"丑":{name:"太常居丑曰受爵",desc:"升官晋爵、利升迁比赛卦"},"寅":{name:"太常居寅曰侧目",desc:"敢怒不敢言、受关注"},"卯":{name:"太常居卯曰掩冠",desc:"意外之财、财物有失、奸情"},"辰":{name:"太常居辰曰佩印",desc:"获证书、新官上任，利升迁考试等"},"巳":{name:"太常居巳曰铸印",desc:"喜事、测文书吉，合同录取事成"},"午":{name:"太常居午曰乘轩",desc:"测官运吉，升职加薪"},"未":{name:"太常居未曰捧觞",desc:"喝酒、喜庆、谈生意"},"申":{name:"太常居申曰衔杯",desc:"喝酒、谈生意"},"酉":{name:"太常居酉曰券书",desc:"文书合同、学习，刚愎自用"},"戌":{name:"太常居戌曰逆命",desc:"反悔、跑路、不服气"},"亥":{name:"太常加亥曰征召",desc:"找人、叫人、通知"}},"玄武":{"子":{name:"玄武加子曰散发",desc:"失眠、惊惶、担惊受怕"},"丑":{name:"玄武居丑曰升堂",desc:"报警、对簿公堂、以权谋私"},"寅":{name:"玄武居寅曰入林",desc:"无影无踪"},"卯":{name:"玄武居卯曰窥户",desc:"家中失窃、暗昧之事"},"辰":{name:"玄武居辰曰失路",desc:"失踪、迷路"},"巳":{name:"玄武居巳曰反顾",desc:"惶恐、虚惊"},"午":{name:"玄武居午曰截路",desc:"道路不通、测病凶"},"未":{name:"玄武居未曰不成",desc:"失物不失、诸事难成"},"申":{name:"玄武居申曰折足",desc:"半途而废、腿脚不便"},"酉":{name:"玄武居酉曰拔剑",desc:"剑拔弩张、形势严峻"},"戌":{name:"玄武居戌曰遭囚",desc:"身处困境、利捕盗"},"亥":{name:"玄武加亥曰伏藏",desc:"躲起来、逃避"}},"太阴":{"子":{name:"太阴加子曰垂帘",desc:"背后交易、睡觉"},"丑":{name:"太阴居丑曰入内",desc:"钱财入账"},"寅":{name:"太阴居寅曰踯躅",desc:"文书财物动作、男女共寝"},"卯":{name:"太阴居卯曰微行",desc:"谨慎行事、怕被抓把柄"},"辰":{name:"太阴居辰曰造庭",desc:"谄媚、游龙戏凤"},"巳":{name:"太阴居巳曰伏枕",desc:"精神不济、卧病在床"},"午":{name:"太阴居午曰脱巾",desc:"文书财物动作、脱衣服遗失"},"未":{name:"太阴居未曰观书",desc:"文书相关、看书"},"申":{name:"太阴居申曰执政",desc:"执行计划、女人管事"},"酉":{name:"太阴居酉曰闭户",desc:"闭门不出"},"戌":{name:"太阴居戌曰被察",desc:"被发现、露端倪"},"亥":{name:"太阴加亥曰裸形",desc:"情色暧昧、卧床、惊疑"}},"天后":{"子":{name:"天后加子曰守闺",desc:"居家不出"},"丑":{name:"天后居丑曰偷窥",desc:"惊恐、打探消息"},"寅":{name:"天后居寅曰理发",desc:"悠游闲暇"},"卯":{name:"天后居卯曰临门",desc:"女人上门、走后门"},"辰":{name:"天后居辰曰毁妆",desc:"羞愤、悔恨，测寻人凶"},"巳":{name:"天后居巳曰裸体",desc:"坦诚、测寻人凶"},"午":{name:"天后居午曰伏枕",desc:"卧床不起、事情难遂"},"未":{name:"天后居未曰沐浴",desc:"惊惶，课内见青龙有男女情色象，寻人在水里"},"申":{name:"天后居申曰整容",desc:"穿衣打扮、医美、悠闲"},"酉":{name:"天后居酉曰倚户",desc:"家中有女人、涉色情美容业"},"戌":{name:"天后居戌曰褰帷",desc:"卧病、事情受阻"},"亥":{name:"天后加亥曰治事",desc:"持家管理有方、采取行动"}}};function Kn(n,e){if(!n||!e)return null;const t=wn[n];return t&&t[e]?t[e]:null}function Xn(n,e){const t=Kn(n,e);if(!t||!t.name)return"";const a=t.name.match(/曰(.+)$/);return a&&a[1]?a[1]:""}function An(n,e,t,a){const s={tianpan:[],dipan:[]};if(n){const e=Kn(n,a);e&&s.tianpan.push({type:"天将临天盘",tianjiang:n,branch:a,...e});const c=Kn(n,t);c&&s.tianpan.push({type:"天将临地盘",tianjiang:n,branch:t,...c})}if(e){const n=Kn(e,a);n&&s.dipan.push({type:"地将临天盘",tianjiang:e,branch:a,...n});const c=Kn(e,t);c&&s.dipan.push({type:"地将临地盘",tianjiang:e,branch:t,...c})}return s}const Bn=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Dn=["亥","子","丑","寅","卯","辰"],En=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],Mn=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"],Pn={"子":{day:"己",night:"乙"},"丑":{day:"庚",night:"甲"},"寅":{day:"辛",night:"辛"},"卯":{day:"壬",night:"癸"},"辰":{day:"戊",night:"己"},"巳":{day:"癸",night:"壬"},"午":{day:"辛",night:"辛"},"未":{day:"甲",night:"庚"},"申":{day:"乙",night:"己"},"酉":{day:"丙",night:"丁"},"戌":{day:"己",night:"戊"},"亥":{day:"丁",night:"丙"}};function Rn(n,e,t,a,c){const i=s(a),r=function(n,e){const t=Pn[n];return t?e?t.day:t.night:"甲"}(n,i),u={};for(const s of Bn)u[s]=U(s,e,t);let o=null;for(const s of Bn)if(u[s]===r){o=s;break}o||(o=n);const d=function(n){const e={},t=Bn.indexOf(n),a=Dn.includes(n)?En:Mn;for(let s=0;s<12;s++)e[Bn[(t+s)%12]]=a[s];return e}(o);return{layout:d,isDay:i,dayNight:i?"昼":"夜",startGan:r,guirenPosition:o}}export{$n as a,e as b,d as c,k as d,y as e,t as f,a as g,q as h,Rn as i,V as j,pn as k,Xn as l,An as m,bn as n,sn as o,cn as p,h as q};
