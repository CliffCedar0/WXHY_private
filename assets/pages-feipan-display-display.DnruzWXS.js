import{s as a,u as e,c as t,w as s,i as l,o as n,a as u,b as i,t as o,l as r,f as c,h as d,F as g,g as f,j as h,e as y}from"./index-BwOYxwnD.js";import{l as _,a as m,d as b,e as z}from"./sizhu.j5o8EW_k.js";import{a as x,c as p,k,l as G}from"./xingnian.Dxsv8OuA.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C={"冬至":[1,7,4],"小寒":[2,8,5],"大寒":[3,9,6],"立春":[8,5,2],"雨水":[9,6,3],"惊蛰":[1,7,4],"春分":[3,9,6],"清明":[4,1,7],"谷雨":[5,2,8],"立夏":[4,1,7],"小满":[5,2,8],"芒种":[6,3,9],"夏至":[9,3,6],"小暑":[8,2,5],"大暑":[7,1,4],"立秋":[2,5,8],"处暑":[1,4,7],"白露":[9,3,6],"秋分":[7,1,4],"寒露":[6,3,9],"霜降":[5,2,8],"立冬":[6,3,9],"小雪":[5,2,8],"大雪":[4,1,7]},S=["冬至","小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种"],I=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],A=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],j=["","天蓬","天芮","天冲","天辅","天禽","天心","天柱","天任","天英"],W=["","休门","死门","伤门","杜门","中门","开门","惊门","生门","景门"],X={"甲子":"海中金","乙丑":"海中金","丙寅":"炉中火","丁卯":"炉中火","戊辰":"大林木","己巳":"大林木","庚午":"路旁土","辛未":"路旁土","壬申":"剑锋金","癸酉":"剑锋金","甲戌":"山头火","乙亥":"山头火","丙子":"涧下水","丁丑":"涧下水","戊寅":"城头土","己卯":"城头土","庚辰":"白蜡金","辛巳":"白蜡金","壬午":"杨柳木","癸未":"杨柳木","甲申":"泉中水","乙酉":"泉中水","丙戌":"屋上土","丁亥":"屋上土","戊子":"霹雳火","己丑":"霹雳火","庚寅":"松柏木","辛卯":"松柏木","壬辰":"长流水","癸巳":"长流水","甲午":"沙中金","乙未":"沙中金","丙申":"山下火","丁酉":"山下火","戊戌":"平地木","己亥":"平地木","庚子":"壁上土","辛丑":"壁上土","壬寅":"金箔金","癸卯":"金箔金","甲辰":"佛灯火","乙巳":"佛灯火","丙午":"天河水","丁未":"天河水","戊申":"大驿土","己酉":"大驿土","庚戌":"钗钏金","辛亥":"钗钏金","壬子":"桑柘木","癸丑":"桑柘木","甲寅":"大溪水","乙卯":"大溪水","丙辰":"沙中土","丁巳":"沙中土","戊午":"天上火","己未":"天上火","庚申":"石榴木","辛酉":"石榴木","壬戌":"大海水","癸亥":"大海水"},R=a=>X[a]||"";function D(a,e,t={}){const s=new Date(`${a}T${e}:00`),l=_.Solar.fromDate(s);let n={};if(t&&t.bazi)n=t.bazi;else{const a=m(s);if(!a)return{error:"Bazi calculation failed"};n={year:a.year,month:a.month,day:a.day,hour:a.hour}}const u=n.hour.charAt(0),i=n.hour.charAt(1);let o="",r=0,c=!1;if(t&&t.jieqi&&t.bazi){o=t.jieqi,c=S.includes(o);const a=t.bazi.day,e=a.charAt(0),s=a.charAt(1),l=I.indexOf(e),n=A.indexOf(s),u=A[(n-l%5+12)%12];r=["子","午","卯","酉"].includes(u)?0:["寅","申","巳","亥"].includes(u)?1:2}else{let a=l.getLunar().getPrevJieQi(!0);if(!a)return{error:"Date out of range"};o=a.getName();const e=a.getSolar(),t=(s.getTime()-new Date(e.toYmdHms()).getTime())/36e5,n=Math.floor(t/120);r=n>=2?2:n,c=S.includes(o)}let d=0;if(t&&t.ju)c=t.ju.isYang,d=t.ju.juNum,o||(o="手工");else{const a=C[o];if(!a)return{error:"Unknown JieQi: "+o};d=a[r]}const g=["戊","己","庚","辛","壬","癸","丁","丙","乙"],f=new Array(10).fill("");for(let _=0;_<9;_++){let a=0;if(c)a=(d+_-1)%9+1;else{let e=d-_;for(;e<=0;)e+=9;for(;e>9;)e-=9;a=e}f[a]=g[_]}const h=I.indexOf(u),y=(A.indexOf(i)-h+12)%12,b={0:"戊",10:"己",8:"庚",6:"辛",4:"壬",2:"癸"}[y];let z=0;for(let _=1;_<=9;_++)if(f[_]===b){z=_;break}const x=j[z],p=W[z];let k=u;"甲"===k&&(k="戊");let G=0;for(let _=1;_<=9;_++)if(f[_]===k){G=_;break}const w=new Array(10).fill(""),X=G-z;for(let _=1;_<=9;_++){let a=_+X;for(;a<=0;)a+=9;for(;a>9;)a-=9;w[a]=j[_]}let D=0;if(c)for(D=z+h;D>9;)D-=9;else for(D=z-h;D<=0;)D+=9;const B=new Array(10).fill(""),Z=D-z;for(let _=1;_<=9;_++){let a=_+Z;for(;a<=0;)a+=9;for(;a>9;)a-=9;B[a]=W[_]}const Y=new Array(10).fill(""),N=c?["值符","螣蛇","太阴","六合","勾陈","太常","朱雀","九地","九天"]:["值符","螣蛇","太阴","六合","白虎","太常","玄武","九地","九天"];for(let _=0;_<9;_++){let a=0;if(c)for(a=G+_;a>9;)a-=9;else for(a=G-_;a<=0;)a+=9;Y[a]=N[_]}const M=new Array(10).fill("");for(let _=0;_<9;_++){let a=0;if(c)for(a=z+_;a>9;)a-=9;else for(a=z-_;a<=0;)a+=9;M[a]=N[_]}const O={};let v=(A.indexOf(i)-I.indexOf(u)+12)%12;for(let _=0;_<10;_++){if(0===_)continue;let a=I[_],e=A[(v+_)%12],t=a+e;"甲"===a&&(t=b+e);let s=0;if(c)for(s=z+_;s>9;)s-=9;else for(s=z-_;s<=0;)s+=9;O[s]?O[s]+="/"+t:O[s]=t}const E={};for(let _=0;_<10;_++){const a=I[_],e=A[(v+_)%12];"甲"===a?E[b]=b+e:E[a]=a+e}const T=new Array(10).fill(""),F=new Array(10).fill(""),L=function(a,e){const t=new Array(10).fill("");for(let s=1;s<=9;s++){const l=e[s],n=j.indexOf(l);n>0&&(t[s]=a[n])}return t}(f,w);for(let _=1;_<=9;_++){const a=f[_],e=L[_];T[_]=E[a]||a,F[_]=E[e]||e}const H=A[(y+10)%12],$=A[(y+11)%12],K=b,Q=a=>"子".includes(a)?1:"丑寅".includes(a)?8:"卯".includes(a)?3:"辰巳".includes(a)?4:"午".includes(a)?9:"未申".includes(a)?2:"酉".includes(a)?7:"戌亥".includes(a)?6:0,V=Q({"巳":"亥","酉":"亥","丑":"亥","寅":"申","午":"申","戌":"申","申":"寅","子":"寅","辰":"寅","亥":"巳","卯":"巳","未":"巳"}[i]),q=Q({"子":"卯","戌":"丑","申":"亥","午":"酉","辰":"未","寅":"巳"}[A[v]]),P=Q({"寅":"午","申":"午","卯":"申","酉":"申","辰":"戌","戌":"戌","巳":"子","亥":"子","午":"寅","子":"寅","未":"辰","丑":"辰"}[n.month.charAt(1)]),J={},U=(a=>{const e=[],t=I.indexOf(a.charAt(0)),s=A.indexOf(a.charAt(1));for(let l=0;l<10;l++){const a=I[(t+l)%10],n=A[(s+l)%12];e.push(a+n)}return e})("甲"+A[v]);for(let _=0;_<10;_++){const a=U[_];if(0===_)continue;let e=0;if(c)e=(G+_-1)%9+1;else{let a=G-_;for(;a<=0;)a+=9;e=a}J[e]=a}const aa=a=>{if(!a||a.length<2)return"";const e=a.charAt(0),t=a.charAt(1),s=I.indexOf(e),l=A.indexOf(t);if(-1===s||-1===l)return"";const n=(l-s+12)%12;return A[(n+10)%12]+A[(n+11)%12]},ea={year:{gz:n.year,xk:aa(n.year),ny:R(n.year)},month:{gz:n.month,xk:aa(n.month),ny:R(n.month)},day:{gz:n.day,xk:aa(n.day),ny:R(n.day)},hour:{gz:n.hour,xk:aa(n.hour),ny:R(n.hour)}},ta={"甲":{e:0,p:0},"乙":{e:0,p:1},"丙":{e:1,p:0},"丁":{e:1,p:1},"戊":{e:2,p:0},"己":{e:2,p:1},"庚":{e:3,p:0},"辛":{e:3,p:1},"壬":{e:4,p:0},"癸":{e:4,p:1}},sa=[["比肩","劫财"],["食神","伤官"],["偏财","正财"],["七杀","正官"],["偏印","正印"]],la=(a,e)=>{if(!a||!e)return"";const t=ta[a],s=ta[e];if(!t||!s)return"";const l=(s.e-t.e+5)%5,n=Math.abs(t.p-s.p);return sa[l][n]},na=["长","沐","冠","临","帝","衰","病","死","墓","绝","胎","养"],ua={"子":0,"丑":1,"寅":2,"卯":3,"辰":4,"巳":5,"午":6,"未":7,"申":8,"酉":9,"戌":10,"亥":11},ia={"甲":{start:11,dir:1},"乙":{start:6,dir:-1},"丙":{start:2,dir:1},"戊":{start:2,dir:1},"丁":{start:9,dir:-1},"己":{start:9,dir:-1},"庚":{start:5,dir:1},"辛":{start:0,dir:-1},"壬":{start:8,dir:1},"癸":{start:3,dir:-1}},oa={1:["子"],8:["寅","丑"],3:["卯"],4:["巳","辰"],9:["午"],2:["申","未"],7:["酉"],6:["亥","戌"]},ra=(a,e)=>{if(!a||!e||!ia[a])return"";const{start:t,dir:s}=ia[a],l=ua[e];let n=0;return n=1===s?(l-t+12)%12:(t-l+12)%12,na[n]},ca=new Array(10).fill(""),da=new Array(10).fill(""),ga=new Array(10).fill(""),fa=new Array(10).fill("");for(let _=1;_<=9;_++){const a=oa[_]||[],e=F[_],t=e?e.charAt(0):"";ca[_]=la(u,t);let s="";a.forEach((a=>{s+=ra(t,a)})),ga[_]=s;const l=T[_],n=l?l.charAt(0):"";da[_]=la(u,n);let i="";a.forEach((a=>{i+=ra(n,a)})),fa[_]=i}const ha={"立冬":6,"小雪":6,"大雪":6,"冬至":1,"小寒":1,"大寒":1,"立春":8,"雨水":8,"惊蛰":8,"春分":3,"清明":3,"谷雨":3,"立夏":4,"小满":4,"芒种":4,"夏至":9,"小暑":9,"大暑":9,"立秋":2,"处暑":2,"白露":2,"秋分":7,"寒露":7,"霜降":7}[o]||1,ya=[6,1,8,3,4,9,2,7],_a=["旺","相","胎","没","死","囚","废","休"],ma=ya.indexOf(ha),ba=new Array(10).fill("");for(let _=0;_<8;_++){const a=ya[(ma+_)%8],e=_a[_];ba[a]=e}ba[5]=ba[2];const za=a=>[0,1,2,3,3,2,4,4,2,5][a]||0,xa=(a,e)=>{if(!a||!e)return"";if(a===e)return"旺";const t=(a,e)=>1===a&&3===e||3===a&&5===e||5===a&&2===e||2===a&&4===e||4===a&&1===e;if(t(e,a))return"相";if(t(a,e))return"休";const s=(a,e)=>1===a&&5===e||5===a&&4===e||4===a&&3===e||3===a&&2===e||2===a&&1===e;return s(a,e)?"囚":s(e,a)?"死":""},pa=new Array(10).fill(null),ka=new Array(10).fill(null),Ga=n.month.charAt(1),wa=A.indexOf(Ga);let Ca=0;Ca=[11,0].includes(wa)?1:[2,3].includes(wa)?3:[5,6].includes(wa)?5:[8,9].includes(wa)?4:2;const Sa={"甲":3,"乙":3,"丙":5,"丁":5,"戊":2,"己":2,"庚":4,"辛":4,"壬":1,"癸":1},Ia=new Array(10).fill("");for(let _=1;_<=9;_++){const a=w[_],e=j.indexOf(a);if(e>0){const a=ba[e],t=xa(za(e),Ca);pa[_]={top:a,bot:t}}const t=B[_],s=W.indexOf(t);if(s>0){const a=ba[s],e=xa(za(s),za(_));ka[_]={top:a,bot:e}}const l=F[_];if(l){const a=Sa[l.charAt(0)];a&&(Ia[_]=xa(a,Ca))}}const Aa=["太岁","太阳","丧门","太阴","五鬼","小耗","大耗","龙德","白虎","福德","吊客","病符"],ja=["五符","天曹","地符","风伯","雷公","雨师","风云","唐符","国印","天关","地轴","天贼"],Wa={},Xa=A.indexOf(n.year.charAt(1)),Ra={0:2,1:3,2:5,3:6,4:5,5:6,6:8,7:9,8:11,9:0}[I.indexOf(n.day.charAt(0))];A.forEach((a=>{Wa[a]={suiSha:"",wuFu:""}}));for(let _=0;_<12;_++){Wa[A[(Xa+_)%12]].suiSha=Aa[_];Wa[A[(Ra+_)%12]].wuFu=ja[_]}const Da=["天禄","天暗","天福","天耗","天荫","天贵","天刑","天印","天囚","天权"],Ba=n.day.charAt(0),Za=I.indexOf(Ba),Ya={};if(-1!==Za)for(let _=0;_<10;_++){const a=(_-Za+10)%10;Ya[I[_]]=Da[a]}return{jieQi:o,yuan:["上元","中元","下元"][r],juName:(c?"阳遁":"阴遁")+["一","二","三","四","五","六","七","八","九"][d-1]+"局",bazi:n,zhiFu:x,zhiShi:p,xunShou:"甲"+A[v]+b,xunKong:{branches:[H,$],stem:K},horses:{yiMa:V,dingMa:q,tianMa:P},layout:{baziInfo:ea,youDun:J,earth:f,earthGanZhi:T,stars:w,doors:B,skyGods:Y,earthGods:M,hidden:O,skyTenGods:ca,earthTenGods:da,skyChangSheng:ga,earthChangSheng:fa,wangShuai:ba,skyWangShuai:Ia,starWangShuai:pa,doorWangShuai:ka,outer:Wa,huaYao:Ya},skyStem:L,skyGanZhi:F}}const B={"戊":{1:"归海",2:"见田",3:"登殿",4:"乘风",5:"居都",6:"受困",7:"剝鱗",8:"化蛟",9:"脱骨"},"己":{1:"闭户",2:"掩扉",3:"破门",4:"交冲",5:"守靜",6:"封户",7:"敛户",8:"开户",9:"亨通"},"庚":{1:"不芒",2:"渐明",3:"光辉",4:"渐晦",5:"守中",6:"兴武",7:"芒角",8:"养玉",9:"灭光"},"辛":{1:"忍饥",2:"伸爪",3:"食素",4:"啖斋",5:"伏穴",6:"抻腿",7:"杨威",8:"跳涧",9:"脱毛"},"壬":{1:"结群",2:"被蔽",3:"散伙",4:"变民",5:"耕耘",6:"撒马",7:"练武",8:"缧绁",9:"煴蒸"},"癸":{1:"变龙",2:"脱角",3:"受惊",4:"失洞",5:"挨餓",6:"足食",7:"腾跃",8:"受困",9:"形灭"},"乙":{1:"反阳",2:"灭辉",3:"升殿",4:"全阳",5:"养心",6:"分尸",7:"灭光",8:"现仪",9:"腾辉"},"丙":{1:"灭光",2:"值晦",3:"体圆",4:"阴吉",5:"失光",6:"入墓",7:"亏气",8:"脱弦",9:"明照"},"丁":{1:"投江",2:"欠康",3:"谋起",4:"御风",5:"入狱",6:"亡命",7:"偷私",8:"当宝",9:"耀明"}};const Z=w({data:()=>({showModal:!1,modalTitle:"",modalList:[],modalSkyInfo:null,modalEarthInfo:null,modalGeju:[],options:{},result:{jieQi:"",yuan:"",juName:"",bazi:{year:"",month:"",day:"",hour:""},zhiFu:"",zhiShi:"",xunShou:"",layout:{earth:[],earthGanZhi:[],stars:[],doors:[],skyGods:[],earthGods:[],hidden:{},skyGods:[],earthGods:[],hidden:{},youDun:{},outer:{}},skyStem:[],skyGanZhi:[]},liuRen:{tianpan:{},guiren:{},jianchu:{},xundun:{}},gridLayout:[[4,9,2],[3,5,7],[8,1,6]],xingnianBenming:null}),onLoad(e){this.options=e;try{this.calc()}catch(t){console.error("onLoad Error:",t),a({title:"加载出错",icon:"none"})}},methods:{handleCellClick(a){const e=this.result.skyGanZhi[a],t=this.result.layout.earthGanZhi[a],s=this.getGan(t);this.modalSkyInfo={gz:e,nayin:this.getNaYin(e)},this.modalEarthInfo={gz:t,nayin:this.getNaYin(t)};const l={"戊":["甲子","癸酉","壬午","辛卯","庚子","己酉","戊午"],"己":["乙丑","甲戌","癸未","壬辰","辛丑","庚戌","己未"],"庚":["丙寅","乙亥","甲申","癸巳","壬寅","辛亥","庚申"],"辛":["丁卯","丙子","乙酉","甲午","癸卯","壬子","辛酉"],"壬":["戊辰","丁丑","丙戌","乙未","甲辰","癸丑","壬戌"],"癸":["己巳","戊寅","丁亥","丙申","乙巳","甲寅","癸亥"],"丁":["庚午","己卯","戊子","丁酉","丙午","乙卯"],"丙":["辛未","庚辰","己丑","戊戌","丁未","丙辰"],"乙":["壬申","辛巳","庚寅","己亥","戊申","丁巳"]}[s],n=this.getGan(e),u=this.getDunGan(t);this.modalGeju=this.getGeju(n,s,u),l&&l.length>0?(this.modalTitle="地盘"+s+"遁干",this.modalList=l,this.showModal=!0):(e||t)&&(this.modalTitle="地盘"+(s||"")+"信息",this.modalList=[],this.showModal=!0)},closeModal(){this.showModal=!1},goBack(){e()},calc(){try{let t,s,l={};if("current"!==this.options.mode&&"current-time"!==this.options.mode&&this.options.mode){if("custom"===this.options.mode)t=this.options.date,s=this.options.time;else if("sizhu"===this.options.mode){if(t="2000-01-01",s="12:00",this.options.bazi){const a=decodeURIComponent(this.options.bazi).split(","),e=decodeURIComponent(this.options.jieqi);l.bazi={year:a[0],month:a[1],day:a[2],hour:a[3]},l.jieqi=e}}else if("manual"===this.options.mode){const a=new Date;t=this.formatDate(a),s=this.formatTime(a)}}else{const a=new Date;t=this.formatDate(a),s=this.formatTime(a)}if(this.options.ju){const a=this.options.ju.split("-");2===a.length&&(l.ju={isYang:"yang"===a[0],juNum:parseInt(a[1])})}const n=D(t,s,l);if(n.error)return void a({title:n.error,icon:"none"});if(this.result={...this.result,...n,layout:{...this.result.layout,...n.layout}},this.options.birthYear)try{const a=parseInt(this.options.birthYear),e="1"===this.options.gender,s=new Date(t).getFullYear(),l=x(a,e,s);if(this.xingnianBenming=l,l.benming&&l.xingnian){const a=l.benming.zhi,e=l.xingnian.zhi;this.result.layout.outer[a]&&this.$set(this.result.layout.outer[a],"isBenMing",!0),this.result.layout.outer[e]&&this.$set(this.result.layout.outer[e],"isXingNian",!0)}}catch(e){console.error("XingNian Calc Error",e)}try{this.calculateLiuRen(t,s,n)}catch(e){console.error("Liu Ren calculation error:",e),this.liuRen={tianpan:{},guiren:{},jianchu:{},xundun:{}}}}catch(e){console.error("Top Level Calc Error:",e),a({title:"排盘计算出错",icon:"none"})}},calculateLiuRen(a,e,t){const s=(t.bazi.hour?t.bazi.hour.charAt(1):"子")||"子",l=(t.bazi.day?t.bazi.day.charAt(0):"甲")||"甲",n=(t.bazi.month?t.bazi.month.charAt(1):"寅")||"寅",u=t.jieQi||"立春",i=z(u),o=b(i,s);this.liuRen.tianpan=o||{};const r=p(l,s,o);this.liuRen.guiren=r&&r.layout?r.layout:{};const c=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],d={};c.forEach((a=>{d[a]=k(n,a,o)})),this.liuRen.jianchu=d;const g=(t.bazi.day?t.bazi.day.charAt(1):"寅")||"寅",f={};c.forEach((a=>{const e=G(a,l,g);f[a]=e.gan})),this.liuRen.xundun=f},formatDate:a=>`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`,formatTime(a){if(!a||isNaN(a.getTime()))return"00:00";return`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`},getGongName:a=>["","坎","坤","震","巽","中","乾","兑","艮","离"][a],getGodColor:a=>"值符"===a?"god-zhifu":"",getStarColor:a=>"star-color",getDoorColor:a=>["开门","休门","生门"].includes(a)?"door-good":"door-bad",getGan:a=>!a||a.length<1?"":a.charAt(0),getYaoCi:(a,e)=>a&&B[a]&&B[a][e]||"",getZhi:a=>!a||a.length<2?"":a.charAt(1),getHiddenGan(a){if(!a)return"";return a.split("/")[0].charAt(0)||""},getHiddenZhi(a){if(!a)return"";return a.split("/")[0].charAt(1)||""},getGuirenShort:a=>a||"",getGuirenColor(a){if(!a)return"";return{"贵":"wx-earth","蛇":"wx-fire","朱":"wx-fire","合":"wx-wood","勾":"wx-earth","龙":"wx-wood","空":"wx-earth","虎":"wx-metal","常":"wx-earth","玄":"wx-water","阴":"wx-metal","后":"wx-water"}[a]||""},getWuXingClass:a=>a?"甲乙寅卯".includes(a)?"wx-wood":"丙丁巳午".includes(a)?"wx-fire":"戊己辰戌丑未".includes(a)?"wx-earth":"庚辛申酉".includes(a)?"wx-metal":"壬癸亥子".includes(a)?"wx-water":"木".includes(a)?"wx-wood":"火".includes(a)?"wx-fire":"土".includes(a)?"wx-earth":"金".includes(a)?"wx-metal":"水".includes(a)?"wx-water":"":"",getNaYinColor(a){if(!a)return"";const e=a.slice(-1);return this.getWuXingClass(e)},isVoidGong(a){if(!this.result.xunKong||!this.result.xunKong.branches)return!1;const e=this.result.xunKong.branches,t={1:["子"],8:["丑","寅"],3:["卯"],4:["辰","巳"],9:["午"],2:["未","申"],7:["酉"],6:["戌","亥"]}[a];return!!t&&t.some((a=>e.includes(a)))},isVoidStem(a){return!!(a&&this.result.xunKong&&this.result.xunKong.stem)&&a===this.result.xunKong.stem},isSpecialBlue(a,e,t){if(!e)return!1;const s=this.result,l=s.bazi.hour.charAt(0),n=s.bazi.year.charAt(0);if("star"===a)return e===s.zhiFu;if("door"===a)return e===s.zhiShi;if("skyStem"===a){if(e===l)return!0;if(e===n)return!0}if("earthStem"===a){let a=0;for(let e=1;e<=9;e++)if(this.getGan(s.skyGanZhi[e])===l){a=e;break}if(t===a)return!0;if(e===n)return!0}return!1},isSpecialRedDoor:(a,e)=>!!a&&(!(!["惊门","开门"].includes(a)||![3,4].includes(e))||("休门"===a&&9===e||(!(!["伤门","杜门"].includes(a)||![2,8,5].includes(e))||(!(!["景门"].includes(a)||![6,7].includes(e))||!(!["生门","死门","中门"].includes(a)||1!==e))))),isSpecialRedStem:(a,e)=>!!a&&(3===e&&"戊"===a||(8===e&&"庚"===a||(9===e&&"辛"===a||(!(4!==e||!["壬","癸"].includes(a))||2===e&&"己"===a)))),getNaYin:a=>R(a),isInnerPan(a){if(5===a)return!1;return(this.result.juName||"").includes("阳")?[1,8,3,4].includes(a):[9,2,7,6].includes(a)},getDunGan(a){if(!a||a.length<2)return"";const e={"戊":["甲子","癸酉","壬午","辛卯","庚子","己酉","戊午"],"己":["乙丑","甲戌","癸未","壬辰","辛丑","庚戌","己未"],"庚":["丙寅","乙亥","甲申","癸巳","壬寅","辛亥","庚申"],"辛":["丁卯","丙子","乙酉","甲午","癸卯","壬子","辛酉"],"壬":["戊辰","丁丑","丙戌","乙未","甲辰","癸丑","壬戌"],"癸":["己巳","戊寅","丁亥","丙申","乙巳","甲寅","癸亥"],"丁":["庚午","己卯","戊子","丁酉","丙午","乙卯"],"丙":["辛未","庚辰","己丑","戊戌","丁未","丙辰"],"乙":["壬申","辛巳","庚寅","己亥","戊申","丁巳"]};for(const[t,s]of Object.entries(e))if(s.includes(a))return t;return""},getGeju(a,e,t){const s={"耗气格":{combos:["丙戊","戊庚","庚壬"],desc:"主耗我之元阳而伤我之财物也"},"夺权格":{combos:["乙丁","丁己","己辛","辛癸","癸乙"],desc:"被人夺我之权衡也"},"交阴格":{combos:["丙己","戊辛","甲丁","壬乙","庚癸"],desc:"利于妇女淫邪之事 并有隐匿阴私之象"},"交阳格":{combos:["丁戊","己庚","乙丙","辛壬"],desc:"事虽主进 未免有伤我之精血也"},"得母格":{combos:["庚己","戊丁","壬辛","丙乙"],desc:"事虽属退 然家中之和顺 大人之庇荫 亦必所不免也"},"获父格":{combos:["己丙","辛戊","癸庚","乙壬"],desc:"主得大人之助父老之获也"},"乘权格":{combos:["庚戊","戊丙","壬庚"],desc:"虽属后间 但以进步而威扬之也"},"倚势格":{combos:["丁乙","乙癸","癸辛","辛己","己丁"],desc:"主赖他人制辖家里纷扰 而我之志不能伸也"},"外侵格":{combos:["庚乙","壬丁","丙辛","戊癸"],desc:"外人欺我要提防"},"内侵格":{combos:["乙庚","丁壬","辛丙","癸戊"],desc:"家中欺我意不良"},"外害格":{combos:["乙戊","丁庚","己壬","癸丙"],desc:"灾殃陡起在他乡"},"内害格":{combos:["丙癸","戊乙","庚丁","壬己"],desc:"是非口舌家淫猖"},"外制格":{combos:["丙庚","戊壬","壬丙","戊壬"],desc:"他人欺辖隐钩铓"},"内制格":{combos:["庚丙","壬戊","丙壬"],desc:"家里翻腾欲寻殃"},"外乱格":{combos:["乙己","丁辛","己癸","辛乙","癸丁"],desc:"外国来兵要侵疆"},"内乱格":{combos:["己乙","乙辛","辛丁","丁癸","癸己"],desc:"家里纷纷无主张"}},l=[],n=[];a&&e&&n.push({combo:a+e,type:"天+地"}),a&&t&&n.push({combo:a+t,type:"天+暗"}),t&&e&&n.push({combo:t+e,type:"暗+地"});for(const[u,i]of Object.entries(s))for(const a of n)i.combos.includes(a.combo)&&l.push({name:u,combo:a.combo.charAt(0)+"+"+a.combo.charAt(1),type:a.type,desc:i.desc});return l}}},[["render",function(a,e,_,m,b,z){const x=y,p=l;return n(),t(p,{class:"container"},{default:s((()=>[u(p,{class:"nav-bar"},{default:s((()=>[u(p,{class:"back-btn",onClick:z.goBack},{default:s((()=>[u(x,{class:"back-icon"},{default:s((()=>[i("←")])),_:1}),u(x,{class:"back-text"},{default:s((()=>[i("返回")])),_:1})])),_:1},8,["onClick"]),u(x,{class:"nav-title"},{default:s((()=>[i("飞盘奇门")])),_:1}),u(p,{class:"placeholder"})])),_:1}),u(p,{class:"content"},{default:s((()=>[u(p,{class:"info-card"},{default:s((()=>[u(p,{class:"info-row main-title"},{default:s((()=>[u(x,{class:"info-text"},{default:s((()=>[i(o(b.result.jieQi)+" "+o(b.result.yuan),1)])),_:1}),u(x,{class:"info-text highlight"},{default:s((()=>[i(o(b.result.juName),1)])),_:1})])),_:1}),b.result.layout.baziInfo?(n(),t(p,{key:0,class:"bazi-grid"},{default:s((()=>[u(p,{class:"bazi-row header-row"},{default:s((()=>[u(p,{class:"bazi-cell header-cell"},{default:s((()=>[u(x,null,{default:s((()=>[i("年")])),_:1})])),_:1}),u(p,{class:"bazi-cell header-cell"},{default:s((()=>[u(x,null,{default:s((()=>[i("月")])),_:1})])),_:1}),u(p,{class:"bazi-cell header-cell"},{default:s((()=>[u(x,null,{default:s((()=>[i("日")])),_:1})])),_:1}),u(p,{class:"bazi-cell header-cell"},{default:s((()=>[u(x,null,{default:s((()=>[i("时")])),_:1})])),_:1})])),_:1}),u(p,{class:"bazi-row"},{default:s((()=>[u(p,{class:"bazi-cell"},{default:s((()=>[u(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.year.gz)))},{default:s((()=>[i(o(z.getGan(b.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.year.gz)))},{default:s((()=>[i(o(z.getZhi(b.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"])])),_:1}),u(p,{class:"bazi-cell"},{default:s((()=>[u(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.month.gz)))},{default:s((()=>[i(o(z.getGan(b.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.month.gz)))},{default:s((()=>[i(o(z.getZhi(b.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"])])),_:1}),u(p,{class:"bazi-cell"},{default:s((()=>[u(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.day.gz)))},{default:s((()=>[i(o(z.getGan(b.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.day.gz)))},{default:s((()=>[i(o(z.getZhi(b.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"])])),_:1}),u(p,{class:"bazi-cell"},{default:s((()=>[u(x,{class:r(z.getWuXingClass(z.getGan(b.result.layout.baziInfo.hour.gz)))},{default:s((()=>[i(o(z.getGan(b.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(z.getZhi(b.result.layout.baziInfo.hour.gz)))},{default:s((()=>[i(o(z.getZhi(b.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"])])),_:1})])),_:1}),u(p,{class:"bazi-row"},{default:s((()=>[u(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.year.xk||"",((a,e)=>(n(),t(x,{key:e,class:r(z.getWuXingClass(a))},{default:s((()=>[i(o(a),1)])),_:2},1032,["class"])))),128))])),_:1}),u(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.month.xk||"",((a,e)=>(n(),t(x,{key:e,class:r(z.getWuXingClass(a))},{default:s((()=>[i(o(a),1)])),_:2},1032,["class"])))),128))])),_:1}),u(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.day.xk||"",((a,e)=>(n(),t(x,{key:e,class:r(z.getWuXingClass(a))},{default:s((()=>[i(o(a),1)])),_:2},1032,["class"])))),128))])),_:1}),u(p,{class:"bazi-cell"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.baziInfo.hour.xk||"",((a,e)=>(n(),t(x,{key:e,class:r(z.getWuXingClass(a))},{default:s((()=>[i(o(a),1)])),_:2},1032,["class"])))),128))])),_:1})])),_:1}),u(p,{class:"bazi-row"},{default:s((()=>[u(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.year.ny)])},{default:s((()=>[i(o(b.result.layout.baziInfo.year.ny),1)])),_:1},8,["class"]),u(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.month.ny)])},{default:s((()=>[i(o(b.result.layout.baziInfo.month.ny),1)])),_:1},8,["class"]),u(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.day.ny)])},{default:s((()=>[i(o(b.result.layout.baziInfo.day.ny),1)])),_:1},8,["class"]),u(x,{class:r(["bazi-cell",z.getNaYinColor(b.result.layout.baziInfo.hour.ny)])},{default:s((()=>[i(o(b.result.layout.baziInfo.hour.ny),1)])),_:1},8,["class"])])),_:1}),u(p,{class:"bazi-row"},{default:s((()=>[u(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.year.gz))])},{default:s((()=>[i(o(z.getDunGan(b.result.layout.baziInfo.year.gz)),1)])),_:1},8,["class"]),u(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.month.gz))])},{default:s((()=>[i(o(z.getDunGan(b.result.layout.baziInfo.month.gz)),1)])),_:1},8,["class"]),u(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.day.gz))])},{default:s((()=>[i(o(z.getDunGan(b.result.layout.baziInfo.day.gz)),1)])),_:1},8,["class"]),u(x,{class:r(["bazi-cell",z.getWuXingClass(z.getDunGan(b.result.layout.baziInfo.hour.gz))])},{default:s((()=>[i(o(z.getDunGan(b.result.layout.baziInfo.hour.gz)),1)])),_:1},8,["class"])])),_:1})])),_:1})):f("",!0),b.xingnianBenming?(n(),t(p,{key:1,class:"xingnian-info"},{default:s((()=>[u(x,null,{default:s((()=>[i("本命:")])),_:1}),u(x,{class:r(z.getWuXingClass(b.xingnianBenming.benming.gan))},{default:s((()=>[i(o(b.xingnianBenming.benming.gan),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(b.xingnianBenming.benming.zhi))},{default:s((()=>[i(o(b.xingnianBenming.benming.zhi),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(z.getDunGan(b.xingnianBenming.benming.gan+b.xingnianBenming.benming.zhi)))},{default:s((()=>[i(o(z.getDunGan(b.xingnianBenming.benming.gan+b.xingnianBenming.benming.zhi)),1)])),_:1},8,["class"]),u(x,{class:"xingnian-spacer"},{default:s((()=>[i("行年:")])),_:1}),u(x,{class:r(z.getWuXingClass(b.xingnianBenming.xingnian.gan))},{default:s((()=>[i(o(b.xingnianBenming.xingnian.gan),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(b.xingnianBenming.xingnian.zhi))},{default:s((()=>[i(o(b.xingnianBenming.xingnian.zhi),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(z.getDunGan(b.xingnianBenming.xingnian.gan+b.xingnianBenming.xingnian.zhi)))},{default:s((()=>[i(o(z.getDunGan(b.xingnianBenming.xingnian.gan+b.xingnianBenming.xingnian.zhi)),1)])),_:1},8,["class"]),u(x,{class:"xingnian-spacer"},{default:s((()=>[i(o(b.xingnianBenming.birthYear)+"年",1)])),_:1}),u(x,{class:r(["gender-badge",b.xingnianBenming.isMale?"male":"female"])},{default:s((()=>[i(o(b.xingnianBenming.gender),1)])),_:1},8,["class"])])),_:1})):f("",!0),u(p,{class:"info-row sub-info"},{default:s((()=>[u(p,{class:"info-item"},{default:s((()=>[u(x,null,{default:s((()=>[i("值符:")])),_:1}),u(x,{class:"info-val"},{default:s((()=>[i(o(b.result.zhiFu||"-"),1)])),_:1})])),_:1}),u(p,{class:"info-item"},{default:s((()=>[u(x,null,{default:s((()=>[i("值使:")])),_:1}),u(x,{class:"info-val"},{default:s((()=>[i(o(b.result.zhiShi||"-"),1)])),_:1})])),_:1}),u(p,{class:"info-item"},{default:s((()=>[u(x,null,{default:s((()=>[i("旬首:")])),_:1}),u(x,{class:"info-val"},{default:s((()=>[i(o(b.result.xunShou||"-"),1)])),_:1})])),_:1})])),_:1})])),_:1}),u(p,{class:"outer-ring-container"},{default:s((()=>[u(p,{class:"ring-row ring-top"},{default:s((()=>[u(p,{class:"ring-corner-spacer"}),(n(),c(g,null,d(["巳","午","未"],(a=>u(p,{class:"ring-cell-h",key:a},{default:s((()=>[u(p,{class:"layer-outer h-mode"},{default:s((()=>[u(p,{class:"ring-outer-stars"},{default:s((()=>[u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).wuFu),1)])),_:2},1024),u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[a]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[i("命")])),_:1})):f("",!0),(b.result.layout.outer[a]||{}).isXingNian?(n(),t(p,{key:1,class:"marker-badge xingnian"},{default:s((()=>[i("年")])),_:1})):f("",!0)])),_:2},1024),u(p,{class:"layer-liuren h-mode"},{default:s((()=>[u(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[a])])},{default:s((()=>[i(o(b.liuRen.xundun[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[a])])},{default:s((()=>[i(o(b.liuRen.tianpan[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[a])])},{default:s((()=>[i(o(b.liuRen.guiren[a]||""),1)])),_:2},1032,["class"]),u(x,{class:"ring-jianchu"},{default:s((()=>[i(o(b.liuRen.jianchu[a]||""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))),64)),u(p,{class:"ring-corner-spacer"})])),_:1}),u(p,{class:"ring-middle"},{default:s((()=>[u(p,{class:"ring-col ring-left"},{default:s((()=>[(n(),c(g,null,d(["辰","卯","寅"],(a=>u(p,{class:"ring-cell-v",key:a},{default:s((()=>[u(p,{class:"layer-outer v-mode"},{default:s((()=>[u(p,{class:"ring-outer-stars"},{default:s((()=>[u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).wuFu),1)])),_:2},1024),u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[a]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[i("命")])),_:1})):f("",!0)])),_:2},1024),u(p,{class:"layer-liuren v-mode"},{default:s((()=>[u(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[a])])},{default:s((()=>[i(o(b.liuRen.xundun[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[a])])},{default:s((()=>[i(o(b.liuRen.tianpan[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[a])])},{default:s((()=>[i(o(b.liuRen.guiren[a]||""),1)])),_:2},1032,["class"]),u(x,{class:"ring-jianchu"},{default:s((()=>[i(o(b.liuRen.jianchu[a]||""),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))),64))])),_:1}),u(p,{class:"grid-container"},{default:s((()=>[(n(!0),c(g,null,d(b.gridLayout,((a,e)=>(n(),t(p,{class:"grid-row",key:e},{default:s((()=>[(n(!0),c(g,null,d(a,((a,e)=>(n(),t(p,{class:r(["grid-cell",["gong-"+a,{center:5===a,"bg-inner":z.isInnerPan(a),"bg-outer":!z.isInnerPan(a)&&5!==a}]]),key:e,onClick:e=>z.handleCellClick(a)},{default:s((()=>[u(p,{class:"gong-bg"},{default:s((()=>[i(o(z.getGongName(a)),1)])),_:2},1024),z.isVoidGong(a)?(n(),t(p,{key:0,class:"pos-top-center"},{default:s((()=>[u(p,{class:r(["xunkong-circle",{"xunkong-red":z.isSpecialRedDoor(b.result.layout.doors[a],a)}])},null,8,["class"])])),_:2},1024)):f("",!0),u(p,{class:"pos-left"},{default:s((()=>[u(x,{class:r(["hidden-char",z.getWuXingClass(z.getHiddenGan(b.result.layout.hidden[a])),{"low-opacity":z.isVoidStem(z.getHiddenGan(b.result.layout.hidden[a]))}])},{default:s((()=>[i(o(z.getHiddenGan(b.result.layout.hidden[a])),1)])),_:2},1032,["class"]),u(x,{class:r(["hidden-char",z.getWuXingClass(z.getHiddenZhi(b.result.layout.hidden[a]))])},{default:s((()=>[i(o(z.getHiddenZhi(b.result.layout.hidden[a])),1)])),_:2},1032,["class"]),u(p,{class:"hidden-yao-ci"},{default:s((()=>[(n(!0),c(g,null,d(z.getYaoCi(z.getHiddenGan(b.result.layout.hidden[a]),a),((a,e)=>(n(),t(x,{key:e},{default:s((()=>[i(o(a),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),u(p,{class:"pos-right"},{default:s((()=>[u(p,{class:"gz-group"},{default:s((()=>[u(p,{class:"gz-content"},{default:s((()=>[b.result.layout.huaYao?(n(),t(x,{key:0,class:"hua-yao-text"},{default:s((()=>[i(o(b.result.layout.huaYao[z.getGan(b.result.skyGanZhi[a])]||""),1)])),_:2},1024)):f("",!0),u(p,{class:"gz-pair"},{default:s((()=>[u(x,{class:r(["gz-h",{"low-opacity":z.isVoidGong(a),"special-blue":z.isSpecialBlue("skyStem",z.getGan(b.result.skyGanZhi[a]),a),"special-red":z.isSpecialRedStem(z.getGan(b.result.skyGanZhi[a]),a),"boxed-border":(b.result.layout.skyChangSheng[a]||"").includes("墓")}])},{default:s((()=>[i(o(z.getGan(b.result.skyGanZhi[a])),1)])),_:2},1032,["class"]),u(x,{class:"gz-h"},{default:s((()=>[i(o(z.getZhi(b.result.skyGanZhi[a])),1)])),_:2},1024)])),_:2},1024),u(x,{class:"ten-god-text"},{default:s((()=>[i(o(b.result.layout.skyTenGods[a]),1)])),_:2},1024)])),_:2},1024),u(p,{class:"cs-vertical"},{default:s((()=>[b.result.layout.huaYao?(n(),t(p,{key:0,class:"cs-spacer"})):f("",!0),(n(!0),c(g,null,d(b.result.layout.skyChangSheng[a]||"",((a,e)=>(n(),t(x,{class:"cs-char",key:e},{default:s((()=>[i(o(a),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),u(p,{class:"gz-group"},{default:s((()=>[u(p,{class:"gz-content"},{default:s((()=>[u(p,{class:"gz-pair"},{default:s((()=>[u(x,{class:r(["gz-h",{"low-opacity":z.isVoidGong(a),"special-blue":z.isSpecialBlue("earthStem",z.getGan(b.result.layout.earthGanZhi[a]),a),"special-red":z.isSpecialRedStem(z.getGan(b.result.layout.earthGanZhi[a]),a),"boxed-border":(b.result.layout.earthChangSheng[a]||"").includes("墓")}])},{default:s((()=>[i(o(z.getGan(b.result.layout.earthGanZhi[a])),1)])),_:2},1032,["class"]),u(x,{class:"gz-h"},{default:s((()=>[i(o(z.getZhi(b.result.layout.earthGanZhi[a])),1)])),_:2},1024)])),_:2},1024),u(x,{class:"ten-god-text"},{default:s((()=>[i(o(b.result.layout.earthTenGods[a]),1)])),_:2},1024),b.result.layout.huaYao?(n(),t(x,{key:0,class:"hua-yao-text"},{default:s((()=>[i(o(b.result.layout.huaYao[z.getGan(b.result.layout.earthGanZhi[a])]||""),1)])),_:2},1024)):f("",!0)])),_:2},1024),u(p,{class:"cs-vertical"},{default:s((()=>[(n(!0),c(g,null,d(b.result.layout.earthChangSheng[a]||"",((a,e)=>(n(),t(x,{class:"cs-char",key:e},{default:s((()=>[i(o(a),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024),u(p,{class:"pos-top-left"},{default:s((()=>[b.result.layout.youDun&&b.result.layout.youDun[a]?(n(),t(p,{key:0,class:"you-dun-row"},{default:s((()=>[u(x,{class:r(["you-dun-char",z.getWuXingClass(z.getGan(b.result.layout.youDun[a]))])},{default:s((()=>[i(o(z.getGan(b.result.layout.youDun[a])),1)])),_:2},1032,["class"]),u(x,{class:r(["you-dun-char",z.getWuXingClass(z.getZhi(b.result.layout.youDun[a]))])},{default:s((()=>[i(o(z.getZhi(b.result.layout.youDun[a])),1)])),_:2},1032,["class"])])),_:2},1024)):f("",!0)])),_:2},1024),u(p,{class:"pos-top-right"},{default:s((()=>[b.result.horses&&b.result.horses.tianMa===a&&b.result.horses.dingMa===a?(n(),t(p,{key:0,class:"horse-row"},{default:s((()=>[u(p,{class:"horse-star tian-ma"},{default:s((()=>[i("天马")])),_:1}),u(p,{class:"ding-ma-text"},{default:s((()=>[i("丁马")])),_:1})])),_:1})):b.result.horses&&b.result.horses.tianMa===a?(n(),t(p,{key:1,class:"horse-star tian-ma"},{default:s((()=>[i("天马")])),_:1})):b.result.horses&&b.result.horses.dingMa===a?(n(),t(p,{key:2,class:"ding-ma-text"},{default:s((()=>[i("丁马")])),_:1})):f("",!0)])),_:2},1024),b.result.horses&&b.result.horses.yiMa===a?(n(),t(p,{key:1,class:"horse-star yi-ma"},{default:s((()=>[i("马")])),_:1})):f("",!0),u(p,{class:"corner-br"},{default:s((()=>[u(x,{class:"gong-ws-text"},{default:s((()=>[i(o(b.result.layout.wangShuai[a]),1)])),_:2},1024)])),_:2},1024),u(p,{class:"yao-ci-container"},{default:s((()=>[u(p,{class:"yao-ci-col sky"},{default:s((()=>[(n(!0),c(g,null,d(z.getYaoCi(z.getGan(b.result.skyGanZhi[a]),a),((a,e)=>(n(),t(x,{key:e},{default:s((()=>[i(o(a),1)])),_:2},1024)))),128))])),_:2},1024),u(p,{class:"yao-ci-col earth"},{default:s((()=>[(n(!0),c(g,null,d(z.getYaoCi(z.getGan(b.result.layout.earthGanZhi[a]),a),((a,e)=>(n(),t(x,{key:e},{default:s((()=>[i(o(a),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),u(p,{class:"pos-center"},{default:s((()=>[u(p,{class:"god-col"},{default:s((()=>[u(x,{class:r(["sky-god",z.getGodColor(b.result.layout.skyGods[a])])},{default:s((()=>[i(o(b.result.layout.skyGods[a]),1)])),_:2},1032,["class"])])),_:2},1024),u(p,{class:"star-group"},{default:s((()=>[u(x,{class:r(["star-text",z.getStarColor(b.result.layout.stars[a]),{"special-blue":z.isSpecialBlue("star",b.result.layout.stars[a],a)}])},{default:s((()=>[i(o(b.result.layout.stars[a]),1)])),_:2},1032,["class"]),b.result.layout.starWangShuai[a]?(n(),t(p,{key:0,class:"ws-col"},{default:s((()=>[u(x,{class:"ws-char"},{default:s((()=>[i(o(b.result.layout.starWangShuai[a].top),1)])),_:2},1024),u(x,{class:"ws-char"},{default:s((()=>[i(o(b.result.layout.starWangShuai[a].bot),1)])),_:2},1024)])),_:2},1024)):f("",!0)])),_:2},1024),u(p,{class:"door-group"},{default:s((()=>[u(x,{class:r(["door-text",z.getDoorColor(b.result.layout.doors[a]),{"special-blue":z.isSpecialBlue("door",b.result.layout.doors[a],a),"special-red":z.isSpecialRedDoor(b.result.layout.doors[a],a)}])},{default:s((()=>[i(o(b.result.layout.doors[a]),1)])),_:2},1032,["class"]),b.result.layout.doorWangShuai[a]?(n(),t(p,{key:0,class:"ws-col"},{default:s((()=>[u(x,{class:"ws-char"},{default:s((()=>[i(o(b.result.layout.doorWangShuai[a].top),1)])),_:2},1024),u(x,{class:"ws-char"},{default:s((()=>[i(o(b.result.layout.doorWangShuai[a].bot),1)])),_:2},1024)])),_:2},1024)):f("",!0)])),_:2},1024),u(x,{class:r(["earth-god",z.getGodColor(b.result.layout.earthGods[a])])},{default:s((()=>[i(o(b.result.layout.earthGods[a]),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)))),128))])),_:1}),u(p,{class:"ring-col ring-right"},{default:s((()=>[(n(),c(g,null,d(["申","酉","戌"],(a=>u(p,{class:"ring-cell-v",key:a},{default:s((()=>[u(p,{class:"layer-liuren v-mode"},{default:s((()=>[u(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[a])])},{default:s((()=>[i(o(b.liuRen.xundun[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[a])])},{default:s((()=>[i(o(b.liuRen.tianpan[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[a])])},{default:s((()=>[i(o(b.liuRen.guiren[a]||""),1)])),_:2},1032,["class"]),u(x,{class:"ring-jianchu"},{default:s((()=>[i(o(b.liuRen.jianchu[a]||""),1)])),_:2},1024)])),_:2},1024),u(p,{class:"layer-outer v-mode"},{default:s((()=>[u(p,{class:"ring-outer-stars"},{default:s((()=>[u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).wuFu),1)])),_:2},1024),u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[a]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[i("命")])),_:1})):f("",!0),(b.result.layout.outer[a]||{}).isXingNian?(n(),t(p,{key:1,class:"marker-badge xingnian"},{default:s((()=>[i("年")])),_:1})):f("",!0)])),_:2},1024)])),_:2},1024))),64))])),_:1})])),_:1}),b.showModal?(n(),t(p,{key:0,class:"modal-mask",onClick:z.closeModal},{default:s((()=>[u(p,{class:"modal-content",onClick:e[0]||(e[0]=h((()=>{}),["stop"]))},{default:s((()=>[u(p,{class:"modal-header"},{default:s((()=>[i(o(b.modalTitle),1)])),_:1}),b.modalSkyInfo||b.modalEarthInfo?(n(),t(p,{key:0,class:"modal-info-section"},{default:s((()=>[b.modalSkyInfo?(n(),t(p,{key:0,class:"info-row"},{default:s((()=>[u(x,{class:"info-label"},{default:s((()=>[i("天盘：")])),_:1}),u(p,{class:"ganzhi-row"},{default:s((()=>[u(x,{class:r(z.getWuXingClass(b.modalSkyInfo.gz.charAt(0)))},{default:s((()=>[i(o(b.modalSkyInfo.gz.charAt(0)),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(b.modalSkyInfo.gz.charAt(1)))},{default:s((()=>[i(o(b.modalSkyInfo.gz.charAt(1)),1)])),_:1},8,["class"])])),_:1}),u(x,{class:r(["info-nayin",z.getNaYinColor(b.modalSkyInfo.nayin)])},{default:s((()=>[i(o(b.modalSkyInfo.nayin),1)])),_:1},8,["class"])])),_:1})):f("",!0),b.modalEarthInfo?(n(),t(p,{key:1,class:"info-row"},{default:s((()=>[u(x,{class:"info-label"},{default:s((()=>[i("地盘：")])),_:1}),u(p,{class:"ganzhi-row"},{default:s((()=>[u(x,{class:r(z.getWuXingClass(b.modalEarthInfo.gz.charAt(0)))},{default:s((()=>[i(o(b.modalEarthInfo.gz.charAt(0)),1)])),_:1},8,["class"]),u(x,{class:r(z.getWuXingClass(b.modalEarthInfo.gz.charAt(1)))},{default:s((()=>[i(o(b.modalEarthInfo.gz.charAt(1)),1)])),_:1},8,["class"])])),_:1}),u(x,{class:r(["info-nayin",z.getNaYinColor(b.modalEarthInfo.nayin)])},{default:s((()=>[i(o(b.modalEarthInfo.nayin),1)])),_:1},8,["class"])])),_:1})):f("",!0)])),_:1})):f("",!0),u(p,{class:"modal-grid"},{default:s((()=>[(n(!0),c(g,null,d(b.modalList,((a,e)=>(n(),t(p,{class:"modal-item",key:e},{default:s((()=>[u(p,{class:"ganzhi-row"},{default:s((()=>[u(x,{class:r(z.getWuXingClass(a.charAt(0)))},{default:s((()=>[i(o(a.charAt(0)),1)])),_:2},1032,["class"]),u(x,{class:r(z.getWuXingClass(a.charAt(1)))},{default:s((()=>[i(o(a.charAt(1)),1)])),_:2},1032,["class"])])),_:2},1024),u(x,{class:r(["modal-nayin",z.getNaYinColor(z.getNaYin(a))])},{default:s((()=>[i(o(z.getNaYin(a)),1)])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1}),b.modalGeju&&b.modalGeju.length>0?(n(),t(p,{key:1,class:"geju-section"},{default:s((()=>[u(p,{class:"geju-title"},{default:s((()=>[i("格局")])),_:1}),(n(!0),c(g,null,d(b.modalGeju,((a,e)=>(n(),t(p,{class:"geju-item",key:"geju-"+e},{default:s((()=>[u(p,{class:"geju-header"},{default:s((()=>[u(x,{class:"geju-combo"},{default:s((()=>[i(o(a.combo),1)])),_:2},1024),u(x,{class:"geju-name"},{default:s((()=>[i(o(a.name),1)])),_:2},1024),u(x,{class:"geju-type"},{default:s((()=>[i(o(a.type),1)])),_:2},1024)])),_:2},1024),u(x,{class:"geju-desc"},{default:s((()=>[i(o(a.desc),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):f("",!0)])),_:1})])),_:1},8,["onClick"])):f("",!0),u(p,{class:"ring-row ring-bottom"},{default:s((()=>[u(p,{class:"ring-corner-spacer"}),(n(),c(g,null,d(["丑","子","亥"],(a=>u(p,{class:"ring-cell-h",key:a},{default:s((()=>[u(p,{class:"layer-liuren h-mode"},{default:s((()=>[u(x,{class:r(["ring-xundun-gan",z.getWuXingClass(b.liuRen.xundun[a])])},{default:s((()=>[i(o(b.liuRen.xundun[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-dipan",z.getWuXingClass(b.liuRen.tianpan[a])])},{default:s((()=>[i(o(b.liuRen.tianpan[a]||""),1)])),_:2},1032,["class"]),u(x,{class:r(["ring-guiren",z.getGuirenColor(b.liuRen.guiren[a])])},{default:s((()=>[i(o(b.liuRen.guiren[a]||""),1)])),_:2},1032,["class"]),u(x,{class:"ring-jianchu"},{default:s((()=>[i(o(b.liuRen.jianchu[a]||""),1)])),_:2},1024)])),_:2},1024),u(p,{class:"layer-outer h-mode"},{default:s((()=>[u(p,{class:"ring-outer-stars"},{default:s((()=>[u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).wuFu),1)])),_:2},1024),u(x,{class:"outer-star-text user-select"},{default:s((()=>[i(o((b.result.layout.outer[a]||{}).suiSha),1)])),_:2},1024)])),_:2},1024),(b.result.layout.outer[a]||{}).isBenMing?(n(),t(p,{key:0,class:"marker-badge benming"},{default:s((()=>[i("命")])),_:1})):f("",!0),(b.result.layout.outer[a]||{}).isXingNian?(n(),t(p,{key:1,class:"marker-badge xingnian"},{default:s((()=>[i("年")])),_:1})):f("",!0)])),_:2},1024)])),_:2},1024))),64)),u(p,{class:"ring-corner-spacer"})])),_:1})])),_:1})])),_:1}),u(p,{class:"copyright-info"},{default:s((()=>[u(p,{class:"copyright-line"},{default:s((()=>[i("© Developer: 景川 · Wechat: Im_JingChuang")])),_:1}),u(p,{class:"copyright-line"},{default:s((()=>[i("© Technical supporter: 卿核 · Wechat: qinghe4994")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-b9bad43e"]]);export{Z as default};
