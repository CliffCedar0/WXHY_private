import{r as e,s as a,n as s,f as t,c as l,w as i,i as n,o as c,a as r,b as o,g as u,h as d,F as h,t as f,j as m,u as p,l as g,e as _,I as k,m as w,k as b}from"./index-DKirGtms.js";import{b as P}from"./sizhu.j5o8EW_k.js";import{D as C}from"./DatePickerWheel.CeBV5Him.js";import{T as D}from"./TimePickerWheel.BiEVS00d.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T={0:1,1:8,2:3,3:6,4:4,5:2,6:5,7:7},S={1:[1,1,1],2:[1,1,0],3:[1,0,1],4:[1,0,0],5:[0,1,1],6:[0,1,0],7:[0,0,1],8:[0,0,0]};const y=v({components:{DatePickerWheel:C,TimePickerWheel:D},data:()=>({modes:[{name:"æ—¶é—´",value:"time"},{name:"æ•°å­—",value:"digits"},{name:"éšæœº",value:"random"},{name:"æŒ‡å®š",value:"gua"}],currentMode:"time",selectedDate:"",selectedTime:"",lunarTimeStr:"",method0CalcResult:null,fourDigits:"",randomNumbers:"",benShang:null,benXia:null,bianShang:null,bianXia:null,guaOptions:["ä¹¾","å¤","ç¦»","å","éœ‡","å…‘","å·½","è‰®"],showGuaPicker:!1,currentGuaField:"",birthDate:"2000-01-01",birthTime:"00:00",showDatePicker:!1,showTimePicker:!1,showBirthDatePicker:!1,showBirthTimePicker:!1,showPasswordModal:!1,inputPassword:"",passwordError:!1}),computed:{canSubmit(){return"time"===this.currentMode?null!==this.method0CalcResult:"digits"===this.currentMode?4===this.fourDigits.length&&/^[0-9]{4}$/.test(this.fourDigits):"random"===this.currentMode?4===this.randomNumbers.length:"gua"===this.currentMode&&(null!==this.benShang&&null!==this.benXia&&null!==this.bianShang&&null!==this.bianXia)}},onLoad(){this.initDateTime()},methods:{goHome(){e({url:"/pages/index/index"})},initDateTime(){const e=new Date,a=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0");this.selectedDate=`${a}-${s}-${t}`,this.selectedTime=`${l}:${i}`,this.calculateLunarGua()},onWheelDateChange(e){this.selectedDate=e,this.calculateLunarGua()},onWheelTimeChange(e){this.selectedTime=e,this.calculateLunarGua()},onBirthDateChange(e){this.birthDate=e},onBirthTimeChange(e){this.birthTime=e},generateRandom(){let e="";for(let a=0;a<4;a++)e+=Math.floor(10*Math.random());this.randomNumbers=e},calculateLunarGua(){if(!this.selectedDate||!this.selectedTime)return;const e=`${this.selectedDate} ${this.selectedTime}`,a=new Date(e.replace(/-/g,"/")),s=P(a);if(s){this.lunarTimeStr=s.lunarStr;const{yearNum:e,monthNum:a,dayNum:t,hourNum:l}=s,i=e+a+t;let n=i%8;0===n&&(n=8);const c=i+l;let r=c%8;0===r&&(r=8);let o=c%6;0===o&&(o=6);const u=n,d=r;let h=u,f=d;if(o<=3){const e=[...S[d]];e[o-1]=1===e[o-1]?0:1,f=this.getGuaNumFromYao(e)}else{const e=[...S[u]];e[o-4]=1===e[o-4]?0:1,h=this.getGuaNumFromYao(e)}this.method0CalcResult={benShang:u,benXia:d,bianShang:h,bianXia:f}}},getGuaNumFromYao(e){for(let a=1;a<=8;a++){const s=S[a];if(s[0]===e[0]&&s[1]===e[1]&&s[2]===e[2])return a}return 8},openGuaPicker(e){this.currentGuaField=e,this.showGuaPicker=!0},selectGua(e){"benShang"===this.currentGuaField?this.benShang=e:"benXia"===this.currentGuaField?this.benXia=e:"bianShang"===this.currentGuaField?this.bianShang=e:"bianXia"===this.currentGuaField&&(this.bianXia=e),this.showGuaPicker=!1},startPaipan(){this.canSubmit?(this.showPasswordModal=!0,this.inputPassword="",this.passwordError=!1):a({title:"è¯·å®Œæ•´è¾“å…¥èµ·å¦ä¿¡æ¯",icon:"none"})},verifyPassword(){["030923","963258"].includes(this.inputPassword)||["050311","764887103","102725","71596","88888888","tcj1997","lzxls0518","990402","547963","10805","12138","1234567","194910","147258369","4622131","971105","20040210","qi123456"].includes(this.inputPassword)?(this.showPasswordModal=!1,this.passwordError=!1,this.doPaipan()):(this.passwordError=!0,this.inputPassword="")},doPaipan(){let e=[];if("time"===this.currentMode){const a=this.method0CalcResult;e=[a.benShang,a.benXia,a.bianShang,a.bianXia]}else"digits"===this.currentMode?e=this.fourDigits.split("").map((e=>parseInt(e))):"random"===this.currentMode?e=this.randomNumbers.split("").map((e=>parseInt(e))):"gua"===this.currentMode&&(e=[T[this.benShang],T[this.benXia],T[this.bianShang],T[this.bianXia]]);const a=`${this.selectedDate} ${this.selectedTime}`,t=new Date(a.replace(/-/g,"/")).getTime(),l=`${this.birthDate} ${this.birthTime}`,i=new Date(l.replace(/-/g,"/")).getTime();s({url:`/pages/xct/display/display?numbers=${e.join(",")}&timestamp=${t}&birthTimestamp=${i}`})}}},[["render",function(e,a,s,P,C,D){const v=_,T=n,S=k,y=w,G=t("DatePickerWheel"),M=t("TimePickerWheel");return c(),l(T,{class:"container"},{default:i((()=>[r(T,{class:"top-bar"},{default:i((()=>[r(T,{class:"back-btn",onClick:D.goHome},{default:i((()=>[r(v,{class:"back-text"},{default:i((()=>[o("é¦–é¡µ")])),_:1})])),_:1},8,["onClick"]),r(v,{class:"page-title"},{default:i((()=>[o("å°æˆå›¾")])),_:1}),r(T,{class:"placeholder"})])),_:1}),r(T,{class:"form-card"},{default:i((()=>[r(T,{class:"tab-card"},{default:i((()=>[(c(!0),u(h,null,d(C.modes,((e,a)=>(c(),l(T,{class:b(["tab-item",{active:C.currentMode===e.value}]),key:a,onClick:a=>C.currentMode=e.value},{default:i((()=>[o(f(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),r(T,{class:"divider"}),"time"===C.currentMode?(c(),l(T,{key:0,class:"input-section"},{default:i((()=>[r(T,{class:"section-label"},{default:i((()=>[o("é€‰æŠ˜æ—¶é—´ (é»˜è®¤å½“å‰)")])),_:1}),r(T,{class:"picker-row"},{default:i((()=>[r(T,{class:"picker-half",onClick:a[0]||(a[0]=e=>C.showDatePicker=!0)},{default:i((()=>[r(T,{class:"picker-view"},{default:i((()=>[r(v,{class:"picker-val"},{default:i((()=>[o(f(C.selectedDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),r(v,{class:"icon"},{default:i((()=>[o("ğŸ“…")])),_:1})])),_:1})])),_:1}),r(T,{class:"picker-half",onClick:a[1]||(a[1]=e=>C.showTimePicker=!0)},{default:i((()=>[r(T,{class:"picker-view"},{default:i((()=>[r(v,{class:"picker-val"},{default:i((()=>[o(f(C.selectedTime||"æ—¶ : åˆ†"),1)])),_:1}),r(v,{class:"icon"},{default:i((()=>[o("â°")])),_:1})])),_:1})])),_:1})])),_:1}),C.lunarTimeStr?(c(),l(T,{key:0,class:"time-display"},{default:i((()=>[r(v,{class:"time-text"},{default:i((()=>[o(f(C.lunarTimeStr),1)])),_:1})])),_:1})):m("",!0)])),_:1})):m("",!0),"digits"===C.currentMode?(c(),l(T,{key:1,class:"input-section"},{default:i((()=>[r(T,{class:"section-label"},{default:i((()=>[o("è¾“å…¥å››ä½æ•°å­— (0-9, 0ä»£è¡¨10)")])),_:1}),r(T,{class:"input-wrapper"},{default:i((()=>[r(S,{type:"number",modelValue:C.fourDigits,"onUpdate:modelValue":a[2]||(a[2]=e=>C.fourDigits=e),placeholder:"ä¾‹å¦‚: 1234",maxlength:"4",class:"std-input"},null,8,["modelValue"])])),_:1})])),_:1})):m("",!0),"random"===C.currentMode?(c(),l(T,{key:2,class:"input-section"},{default:i((()=>[r(T,{class:"section-label"},{default:i((()=>[o("éšæœºç”Ÿæˆå››ä½æ•°å­—")])),_:1}),r(T,{class:"huoshi-row"},{default:i((()=>[r(v,{class:"number-display"},{default:i((()=>[o(f(C.randomNumbers||"----"),1)])),_:1}),r(T,{class:"huoshi-btns"},{default:i((()=>[r(T,{class:"btn-xs",onClick:D.generateRandom},{default:i((()=>[o("ğŸ² ç”Ÿæˆ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):m("",!0),"gua"===C.currentMode?(c(),l(T,{key:3,class:"input-section"},{default:i((()=>[r(T,{class:"section-label"},{default:i((()=>[o("èµ·å¦æ—¶é—´")])),_:1}),r(T,{class:"picker-row"},{default:i((()=>[r(T,{class:"picker-half",onClick:a[3]||(a[3]=e=>C.showDatePicker=!0)},{default:i((()=>[r(T,{class:"picker-view"},{default:i((()=>[r(v,{class:"picker-val"},{default:i((()=>[o(f(C.selectedDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),r(v,{class:"icon"},{default:i((()=>[o("ğŸ“…")])),_:1})])),_:1})])),_:1}),r(T,{class:"picker-half",onClick:a[4]||(a[4]=e=>C.showTimePicker=!0)},{default:i((()=>[r(T,{class:"picker-view"},{default:i((()=>[r(v,{class:"picker-val"},{default:i((()=>[o(f(C.selectedTime||"æ—¶ : åˆ†"),1)])),_:1}),r(v,{class:"icon"},{default:i((()=>[o("â°")])),_:1})])),_:1})])),_:1})])),_:1}),p("div",{class:"divider"}),r(T,{class:"section-label"},{default:i((()=>[o("é€‰æŠ˜æœ¬å¦ä¸å˜å¦")])),_:1}),r(T,{class:"gua-select-group"},{default:i((()=>[r(T,{class:"gua-row"},{default:i((()=>[r(T,{class:"gua-item"},{default:i((()=>[r(v,{class:"gua-label"},{default:i((()=>[o("æœ¬å¦ä¸Šå¦")])),_:1}),r(T,{class:"gua-selector",onClick:a[5]||(a[5]=e=>D.openGuaPicker("benShang"))},{default:i((()=>[r(v,{class:"gua-value"},{default:i((()=>[o(f(C.guaOptions[C.benShang]||"é€‰æŠ˜"),1)])),_:1}),r(v,{class:"arrow"},{default:i((()=>[o("â–¼")])),_:1})])),_:1})])),_:1}),r(T,{class:"gua-item"},{default:i((()=>[r(v,{class:"gua-label"},{default:i((()=>[o("æœ¬å¦ä¸‹å¦")])),_:1}),r(T,{class:"gua-selector",onClick:a[6]||(a[6]=e=>D.openGuaPicker("benXia"))},{default:i((()=>[r(v,{class:"gua-value"},{default:i((()=>[o(f(C.guaOptions[C.benXia]||"é€‰æŠ˜"),1)])),_:1}),r(v,{class:"arrow"},{default:i((()=>[o("â–¼")])),_:1})])),_:1})])),_:1})])),_:1}),r(T,{class:"gua-row"},{default:i((()=>[r(T,{class:"gua-item"},{default:i((()=>[r(v,{class:"gua-label"},{default:i((()=>[o("å˜å¦ä¸Šå¦")])),_:1}),r(T,{class:"gua-selector",onClick:a[7]||(a[7]=e=>D.openGuaPicker("bianShang"))},{default:i((()=>[r(v,{class:"gua-value"},{default:i((()=>[o(f(C.guaOptions[C.bianShang]||"é€‰æŠ˜"),1)])),_:1}),r(v,{class:"arrow"},{default:i((()=>[o("â–¼")])),_:1})])),_:1})])),_:1}),r(T,{class:"gua-item"},{default:i((()=>[r(v,{class:"gua-label"},{default:i((()=>[o("å˜å¦ä¸‹å¦")])),_:1}),r(T,{class:"gua-selector",onClick:a[8]||(a[8]=e=>D.openGuaPicker("bianXia"))},{default:i((()=>[r(v,{class:"gua-value"},{default:i((()=>[o(f(C.guaOptions[C.bianXia]||"é€‰æŠ˜"),1)])),_:1}),r(v,{class:"arrow"},{default:i((()=>[o("â–¼")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0),r(T,{class:"divider"}),r(T,{class:"input-section"},{default:i((()=>[r(T,{class:"section-label"},{default:i((()=>[o("å‡ºç”Ÿæ—¶é—´ (æœ¬å‘½)")])),_:1}),r(T,{class:"picker-row"},{default:i((()=>[r(T,{class:"picker-half",onClick:a[9]||(a[9]=e=>C.showBirthDatePicker=!0)},{default:i((()=>[r(T,{class:"picker-view"},{default:i((()=>[r(v,{class:"picker-val"},{default:i((()=>[o(f(C.birthDate),1)])),_:1}),r(v,{class:"icon"},{default:i((()=>[o("ğŸ“…")])),_:1})])),_:1})])),_:1}),r(T,{class:"picker-half",onClick:a[10]||(a[10]=e=>C.showBirthTimePicker=!0)},{default:i((()=>[r(T,{class:"picker-view"},{default:i((()=>[r(v,{class:"picker-val"},{default:i((()=>[o(f(C.birthTime),1)])),_:1}),r(v,{class:"icon"},{default:i((()=>[o("â°")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),r(y,{class:"btn-submit",onClick:D.startPaipan,"hover-class":"btn-hover"},{default:i((()=>[o("å¼€å§‹æ’ç›˜")])),_:1},8,["onClick"]),r(T,{class:"tips"},{default:i((()=>[r(v,{class:"tips-title"},{default:i((()=>[o("è¯´æ˜ï¼š")])),_:1}),r(v,{class:"tips-content"},{default:i((()=>[o(" â€¢ æ—¶é—´èµ·å¦ï¼šä½¿ç”¨å½“å‰æ—¶é—´(å°æ—¶:åˆ†é’Ÿ)çš„å››ä½æ•°å­— â€¢ å¤©åœ°æ•°èµ·å¦ï¼šç›´æ¥è¾“å…¥4ä½æ•°å­—ï¼ˆ0-9ï¼‰ï¼Œ0ä»£è¡¨10 â€¢ éšæœºèµ·å¦ï¼šç³»ç»Ÿéšæœºç”Ÿæˆ4ä½æ•°å­— â€¢ æŒ‡å®šå•å¦ï¼šç›´æ¥é€‰æŠ˜å…«å¦åç§° ")])),_:1})])),_:1}),r(T,{class:"copyright-info"},{default:i((()=>[r(T,{class:"copyright-line"},{default:i((()=>[o("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),r(T,{class:"copyright-line"},{default:i((()=>[o("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1})])),_:1}),r(G,{show:C.showDatePicker,value:C.selectedDate,onChange:D.onWheelDateChange,onClose:a[11]||(a[11]=e=>C.showDatePicker=!1)},null,8,["show","value","onChange"]),r(M,{show:C.showTimePicker,value:C.selectedTime,onChange:D.onWheelTimeChange,onClose:a[12]||(a[12]=e=>C.showTimePicker=!1)},null,8,["show","value","onChange"]),r(G,{show:C.showBirthDatePicker,value:C.birthDate,onChange:D.onBirthDateChange,onClose:a[13]||(a[13]=e=>C.showBirthDatePicker=!1)},null,8,["show","value","onChange"]),r(M,{show:C.showBirthTimePicker,value:C.birthTime,onChange:D.onBirthTimeChange,onClose:a[14]||(a[14]=e=>C.showBirthTimePicker=!1)},null,8,["show","value","onChange"]),C.showGuaPicker?(c(),l(T,{key:0,class:"picker-modal",onClick:a[16]||(a[16]=e=>C.showGuaPicker=!1)},{default:i((()=>[r(T,{class:"picker-content",onClick:a[15]||(a[15]=g((()=>{}),["stop"]))},{default:i((()=>[r(T,{class:"picker-header"},{default:i((()=>[o("é€‰æŠ˜å¦è±¡")])),_:1}),r(T,{class:"ganzhi-grid"},{default:i((()=>[(c(!0),u(h,null,d(C.guaOptions,((e,a)=>(c(),l(T,{class:"ganzhi-cell",key:a,onClick:e=>D.selectGua(a)},{default:i((()=>[o(f(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):m("",!0),C.showPasswordModal?(c(),l(T,{key:1,class:"password-modal"},{default:i((()=>[r(T,{class:"password-content"},{default:i((()=>[r(T,{class:"password-header"},{default:i((()=>[r(v,null,{default:i((()=>[o("è¯·è¾“å…¥è®¿é—®å¯†ç ")])),_:1})])),_:1}),r(T,{class:"password-body"},{default:i((()=>[r(S,{type:"text",class:"password-input",modelValue:C.inputPassword,"onUpdate:modelValue":a[17]||(a[17]=e=>C.inputPassword=e),placeholder:"è¯·è¾“å…¥å¯†ç ",password:"",onConfirm:D.verifyPassword},null,8,["modelValue","onConfirm"]),C.passwordError?(c(),l(v,{key:0,class:"password-error"},{default:i((()=>[o("å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•")])),_:1})):m("",!0),r(T,{class:"password-btns"},{default:i((()=>[r(T,{class:"password-confirm-btn",onClick:D.verifyPassword},{default:i((()=>[r(v,null,{default:i((()=>[o("ç¡®è®¤")])),_:1})])),_:1},8,["onClick"]),r(T,{class:"password-cancel-btn",onClick:a[18]||(a[18]=e=>C.showPasswordModal=!1)},{default:i((()=>[r(v,null,{default:i((()=>[o("å–æ¶ˆ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0)])),_:1})}],["__scopeId","data-v-1b6cc3f0"]]);export{y as default};
