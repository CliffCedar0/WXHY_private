const n=[{name:"子",start:23,end:1,alias:"子时",description:"夜半"},{name:"丑",start:1,end:3,alias:"丑时",description:"鸡鸣"},{name:"寅",start:3,end:5,alias:"寅时",description:"平旦"},{name:"卯",start:5,end:7,alias:"卯时",description:"日出"},{name:"辰",start:7,end:9,alias:"辰时",description:"食时"},{name:"巳",start:9,end:11,alias:"巳时",description:"隅中"},{name:"午",start:11,end:13,alias:"午时",description:"日中"},{name:"未",start:13,end:15,alias:"未时",description:"日昳"},{name:"申",start:15,end:17,alias:"申时",description:"晡时"},{name:"酉",start:17,end:19,alias:"酉时",description:"日入"},{name:"戌",start:19,end:21,alias:"戌时",description:"黄昏"},{name:"亥",start:21,end:23,alias:"亥时",description:"人定"}];function t(t){const r=t.getHours();if(r>=23||r<1)return{...n[0],index:0};for(let e=1;e<n.length;e++){const t=n[e];if(r>=t.start&&r<t.end)return{...t,index:e}}return{...n[0],index:0}}function r(n){return`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}:${String(n.getSeconds()).padStart(2,"0")}`}function e(){return n.map(((n,t)=>({...n,index:t})))}function i(n){return["卯","辰","巳","午","未","申"].includes(n)}const a=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],s={"贵":"贵人","蛇":"螣蛇","朱":"朱雀","合":"六合","勾":"勾陈","龙":"青龙","空":"天空","虎":"白虎","常":"太常","玄":"玄武","阴":"太阴","后":"天后"},u={"甲":{day:"丑",night:"未"},"戊":{day:"丑",night:"未"},"庚":{day:"丑",night:"未"},"乙":{day:"子",night:"申"},"己":{day:"子",night:"申"},"丙":{day:"亥",night:"酉"},"丁":{day:"亥",night:"酉"},"壬":{day:"巳",night:"卯"},"癸":{day:"巳",night:"卯"},"辛":{day:"寅",night:"午"}};const c=["贵","蛇","朱","合","勾","龙","空","虎","常","玄","阴","后"],o=["贵","后","阴","玄","常","虎","空","龙","勾","合","朱","蛇"];function f(n,t,r){const e=i(t),s=function(n,t){const r=u[n];return r?t?r.day:r.night:"丑"}(n,e),f=function(n,t){for(let r in t)if(t[r]===n)return r;return n}(s,r),d=["亥","子","丑","寅","卯","辰"].includes(f),l=function(n,t){const r={},e=a.indexOf(n),i=t?c:o;for(let s=0;s<12;s++)r[a[(e+s)%12]]=i[s];return r}(f,d);return{layout:l,isDay:e,dayNight:e?"昼":"夜",guirenPosition:f,guirenBenwei:s,isShunbu:d}}function d(n){return s[n]||n}const l=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],g={};l.forEach(((n,t)=>g[n]=t));const h={};["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"].forEach(((n,t)=>h[n]=t));const p={"甲子":"甲子","乙丑":"甲子","丙寅":"甲子","丁卯":"甲子","戊辰":"甲子","己巳":"甲子","庚午":"甲子","辛未":"甲子","壬申":"甲子","癸酉":"甲子","甲戌":"甲戌","乙亥":"甲戌","丙子":"甲戌","丁丑":"甲戌","戊寅":"甲戌","己卯":"甲戌","庚辰":"甲戌","辛巳":"甲戌","壬午":"甲戌","癸未":"甲戌","甲申":"甲申","乙酉":"甲申","丙戌":"甲申","丁亥":"甲申","戊子":"甲申","己丑":"甲申","庚寅":"甲申","辛卯":"甲申","壬辰":"甲申","癸巳":"甲申","甲午":"甲午","乙未":"甲午","丙申":"甲午","丁酉":"甲午","戊戌":"甲午","己亥":"甲午","庚子":"甲午","辛丑":"甲午","壬寅":"甲午","癸卯":"甲午","甲辰":"甲辰","乙巳":"甲辰","丙午":"甲辰","丁未":"甲辰","戊申":"甲辰","己酉":"甲辰","庚戌":"甲辰","辛亥":"甲辰","壬子":"甲辰","癸丑":"甲辰","甲寅":"甲寅","乙卯":"甲寅","丙辰":"甲寅","丁巳":"甲寅","戊午":"甲寅","己未":"甲寅","庚申":"甲寅","辛酉":"甲寅","壬戌":"甲寅","癸亥":"甲寅"};function m(n){switch(n){case"甲":case"己":default:return"甲";case"乙":case"庚":return"丙";case"丙":case"辛":return"戊";case"丁":case"壬":return"庚";case"戊":case"癸":return"壬"}}function y(n,t,r){const e=function(n,t){return p[n+t]||"甲子"}(t,r),i=e.charAt(0),a=e.charAt(1),s=g[i],u=h[a],c=(h[n]-u+12)%12,o=c>=10;return{gan:l[(s+c)%10],isXunkong:o}}function S(n,t,r,e){if(!e)return{gan:"",isXunkong:!1};const i=function(n,t){return p[n+t]||"甲子"}(t,r),a=i.charAt(1);let s=null;for(let f in e)if(e[f]===a){s=f;break}if(!s)return{gan:"",isXunkong:!1};const u=h[s],c=(h[n]-u+12)%12,o=c>=10;return{gan:l[c%10],isXunkong:o}}function k(n,t,r){if(!t||!r)return"";const e=m(t),i=g[e];let a=null;for(let c in r)if("子"===r[c]){a=c;break}if(!a)return"";const s=h[a],u=h[n];return l[(i+(u-s+12)%12)%10]}function x(n,t,r){if(!n||!t||!r)return"";return y(n,t,r).gan}function b(n,t){const{dayStem:r,dayBranch:e,timeStem:i,timeBranch:a,tianpan:s,guirenPosition:u}=t,c=y(s?s[n]:n,r,e),o=S(n,i,a,s),f=x(n,r,e),d=k(n,r,s),p=function(n,t,r){if(!t||!r)return"";const e=m(t),i=g[e];let a=null;for(let c in r)if("子"===r[c]){a=c;break}if(!a)return"";const s=h[a],u=h[n];return l[(i+(u-s+12)%12)%10]}(n,i,s),b=function(n,t,r,e){if(!t||!e||!r)return"";if(!e[t])return"";const i=t;let a=null;for(let l in e)if(e[l]===i){a=l;break}if(!a)return"";const s=k(a,r,e);if(!s)return"";const u=m(s),c=g[u];let o=null;for(let l in e)if("子"===e[l]){o=l;break}if(!o)return"";const f=e[n];if(!f)return"";const d=(h[f]-h["子"]+12)%12;return l[(c+d)%10]}(n,u,r,s);return{xundun:c,tiandun:o,didun:f,jiangan:d,fujian:p,rendun:b}}const $=["建","除","满","平","定","执","破","危","成","收","开","闭"],j=["长","沐","冠","临","旺","衰","病","死","墓","绝","胎","养"],w={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["午","巳","辰","卯","寅","丑","子","亥","戌","酉","申","未"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["酉","申","未","午","巳","辰","卯","寅","丑","子","亥","戌"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["子","亥","戌","酉","申","未","午","巳","辰","卯","寅","丑"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["卯","寅","丑","子","亥","戌","酉","申","未","午","巳","辰"]},B={"甲":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"乙":["亥","子","丑","寅","卯","辰","巳","午","未","申","酉","戌"],"丙":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"丁":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"戊":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"己":["寅","卯","辰","巳","午","未","申","酉","戌","亥","子","丑"],"庚":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"辛":["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],"壬":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"],"癸":["申","酉","戌","亥","子","丑","寅","卯","辰","巳","午","未"]},O={"甲":"木","乙":"木","寅":"木","卯":"木","丙":"火","丁":"火","巳":"火","午":"火","戊":"土","己":"土","辰":"土","戌":"土","丑":"土","未":"土","庚":"金","辛":"金","申":"金","酉":"金","壬":"水","癸":"水","亥":"水","子":"水"};function X(n,t,r){if(!n||!t||!r)return"";let e=null;for(let c in r)if(r[c]===n){e=c;break}if(!e)return"";const i=["巳","午","未","申","酉","戌","亥","子","丑","寅","卯","辰"],a=i.indexOf(e);if(-1===a)return"";const s=[...i.slice(a),...i.slice(0,a)],u={};return s.forEach(((n,t)=>{u[n]=$[t]})),u[t]||""}function A(n,t){if(!n||!t)return"";const r=O[n],e=O[t];if(!r||!e)return"";const i={"木":"火","火":"土","土":"金","金":"水","水":"木"},a={"木":"土","火":"金","土":"水","金":"木","水":"火"};return r===e?"旺":i[r]===e?"相":i[e]===r?"休":a[e]===r?"囚":a[r]===e?"死":""}function E(n,t){if(!n||!t)return"";const r=w[n];if(!r)return"";const e=r.indexOf(t);return-1===e?"":j[e]}function C(n,t){if(!n||!t)return"";const r=B[n];if(!r)return"";const e=r.indexOf(t);return-1===e?"":j[e]}function D(n,t){const{monthBranch:r,dayStem:e,tianpan:i}=t,a=i[n];return{jianchu:X(r,n,i),wangshuai:A(r,a),shiganChangsheng:E(e,a),wuxingChangsheng:C(e,a)}}export{t as a,f as b,b as c,D as d,d as e,r as f,e as g,x as h,i,X as j,y as k};
