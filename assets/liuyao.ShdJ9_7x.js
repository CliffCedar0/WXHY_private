function e(e){return e.slice(0,3),e.slice(3,6),e.join(""),function(e){const r=e.slice(3,6),s=e.slice(0,3),o=e=>e[0]+2*e[1]+4*e[2],i=o(r),a=o(s),m=function(e,n){return[["坤为地","地雷复","地水师","地泽临","地山谦","地火明夷","地风升","地天泰"],["雷地豫","震为雷","雷水解","雷泽归妹","雷山小过","雷火丰","雷风恒","雷天大壮"],["水地比","水雷屯","坎为水","水泽节","水山蹇","水火既济","水风井","水天需"],["泽地萃","泽雷随","泽水困","兑为泽","泽山咸","泽火革","泽风大过","泽天夬"],["山地剥","山雷颐","山水蒙","山泽损","艮为山","山火贲","山风蛊","山天大畜"],["火地晋","火雷噬嗑","火水未济","火泽睽","火山旅","离为火","火风鼎","火天大有"],["风地观","风雷益","风水涣","风泽中孚","风山渐","风火家人","巽为风","风天小畜"],["天地否","天雷无妄","天水讼","天泽履","天山遁","天火同人","天风姤","乾为天"]][e][n]}(i,a),c=function(e,r){const s=(e,n)=>e^1<<n,o=[0,1,2,3,4,5,6,7];for(let i of o){let o=i,a=i;if(o===r&&a===e)return{gong:n(i),element:t(i),shi:6,ying:3,generation:"六世卦",isPure:!0};if(o=s(o,0),o===r&&a===e)return{gong:n(i),element:t(i),shi:1,ying:4,generation:"一世卦"};if(o=s(o,1),o===r&&a===e)return{gong:n(i),element:t(i),shi:2,ying:5,generation:"二世卦"};if(o=s(o,2),o===r&&a===e)return{gong:n(i),element:t(i),shi:3,ying:6,generation:"三世卦"};if(a=s(a,0),o===r&&a===e)return{gong:n(i),element:t(i),shi:4,ying:1,generation:"四世卦"};if(a=s(a,1),o===r&&a===e)return{gong:n(i),element:t(i),shi:5,ying:2,generation:"五世卦"};if(a=s(a,0),o===r&&a===e)return{gong:n(i),element:t(i),shi:4,ying:1,generation:"游魂卦"};if(o=s(o,0),o=s(o,1),o=s(o,2),o===r&&a===e)return{gong:n(i),element:t(i),shi:3,ying:6,generation:"归魂卦"}}return{gong:"Unknown",element:"?",shi:0,ying:0,generation:""}}(i,a);return{name:m,gong:c.gong,element:c.element,shi:c.shi,ying:c.ying,generation:c.generation}}(e)}function n(e){return["坤","震","坎","兑","艮","离","巽","乾"][e]}function t(e){return["土","木","水","金","土","火","木","金"][e]}function r(e){const n=["青龙","朱雀","勾陈","螣蛇","白虎","玄武"];let t=0;"甲"===e||"乙"===e?t=0:"丙"===e||"丁"===e?t=1:"戊"===e?t=2:"己"===e?t=3:"庚"===e||"辛"===e?t=4:"壬"!==e&&"癸"!==e||(t=5);const r=[];for(let s=0;s<6;s++)r.push(n[(t+s)%6]);return r}const s={"乾":{inner:{stem:"甲",branches:["子","寅","辰"]},outer:{stem:"壬",branches:["午","申","戌"]}},"坤":{inner:{stem:"乙",branches:["未","巳","卯"]},outer:{stem:"癸",branches:["丑","亥","酉"]}},"震":{inner:{stem:"庚",branches:["子","寅","辰"]},outer:{stem:"庚",branches:["午","申","戌"]}},"巽":{inner:{stem:"辛",branches:["丑","亥","酉"]},outer:{stem:"辛",branches:["未","巳","卯"]}},"坎":{inner:{stem:"戊",branches:["寅","辰","午"]},outer:{stem:"戊",branches:["申","戌","子"]}},"离":{inner:{stem:"己",branches:["卯","丑","亥"]},outer:{stem:"己",branches:["酉","未","巳"]}},"艮":{inner:{stem:"丙",branches:["辰","午","申"]},outer:{stem:"丙",branches:["戌","子","寅"]}},"兑":{inner:{stem:"丁",branches:["巳","卯","丑"]},outer:{stem:"丁",branches:["亥","酉","未"]}}};function o(e,n){const t=["坤","震","坎","兑","艮","离","巽","乾"],r=t[e];let o=[];const i=s[t[n]].inner;for(let s=0;s<3;s++)o.push({stem:i.stem,branch:i.branches[s]});const a=s[r].outer;for(let s=0;s<3;s++)o.push({stem:a.stem,branch:a.branches[s]});return o}function i(e,n){const t={"木":"Wood","火":"Fire","土":"Earth","金":"Metal","水":"Water"};return{Wood:{Wood:"兄弟",Fire:"子孙",Earth:"妻财",Metal:"官鬼",Water:"父母"},Fire:{Fire:"兄弟",Earth:"子孙",Metal:"妻财",Water:"官鬼",Wood:"父母"},Earth:{Earth:"兄弟",Metal:"子孙",Water:"妻财",Wood:"官鬼",Fire:"父母"},Metal:{Metal:"兄弟",Water:"子孙",Wood:"妻财",Fire:"官鬼",Earth:"父母"},Water:{Water:"兄弟",Wood:"子孙",Fire:"妻财",Earth:"官鬼",Metal:"父母"}}[t[e]][t[n]]}function a(e){return{"子":"水","亥":"水","寅":"木","卯":"木","巳":"火","午":"火","申":"金","酉":"金","辰":"土","戌":"土","丑":"土","未":"土"}[e]}function m(e,n){return c[e+n]||""}const c={"甲子":"海中金","乙丑":"海中金","丙寅":"炉中火","丁卯":"炉中火","戊辰":"大林木","己巳":"大林木","庚午":"路旁土","辛未":"路旁土","壬申":"剑锋金","癸酉":"剑锋金","甲戌":"山头火","乙亥":"山头火","丙子":"涧下水","丁丑":"涧下水","戊寅":"城头土","己卯":"城头土","庚辰":"白蜡金","辛巳":"白蜡金","壬午":"杨柳木","癸未":"杨柳木","甲申":"泉中水","乙酉":"泉中水","丙戌":"屋上土","丁亥":"屋上土","戊子":"霹雳火","己丑":"霹雳火","庚寅":"松柏木","辛卯":"松柏木","壬辰":"长流水","癸巳":"长流水","甲午":"沙中金","乙未":"沙中金","丙申":"山下火","丁酉":"山下火","戊戌":"平地木","己亥":"平地木","庚子":"壁上土","辛丑":"壁上土","壬寅":"金箔金","癸卯":"金箔金","甲辰":"覆灯火","乙巳":"覆灯火","丙午":"天河水","丁未":"天河水","戊申":"大驿土","己酉":"大驿土","庚戌":"钗钏金","辛亥":"钗钏金","壬子":"桑柘木","癸丑":"桑柘木","甲寅":"大溪水","乙卯":"大溪水","丙辰":"沙中土","丁巳":"沙中土","戊午":"天上火","己未":"天上火","庚申":"石榴木","辛酉":"石榴木","壬戌":"大海水","癸亥":"大海水"};function l(e,n){let r={"乾":7,"兑":3,"离":5,"震":1,"巽":6,"坎":2,"艮":4,"坤":0}[e?e.charAt(0):""];void 0===r&&(r=7);const s=r,c={7:0,0:7,1:6,6:1,2:5,5:2,4:3,3:4}[r],l=3^s;let u=s,h=s;n.includes("六世卦")||n.includes("八纯")?(u=c,h=c):["一世卦","二世卦","三世卦"].some((e=>n.includes(e)))?(u=s,h=c):["四世卦","五世卦"].some((e=>n.includes(e)))?(u=s,h=s):n.includes("游魂卦")?(u=s,h=l):n.includes("归魂卦")&&(u=c,h=s);const g=t(r);return[...o(u,u).slice(0,3),...o(h,h).slice(3,6)].map((e=>{const n=a(e.branch),t=i(g,n);return{stem:e.stem,branch:e.branch,element:n,relative:t,nayin:m(e.stem,e.branch)}}))}function u(e){return{0:{name:"坤",symbol:"☷",element:"土"},1:{name:"震",symbol:"☳",element:"木"},2:{name:"坎",symbol:"☵",element:"水"},3:{name:"兑",symbol:"☱",element:"金"},4:{name:"艮",symbol:"☶",element:"土"},5:{name:"离",symbol:"☲",element:"火"},6:{name:"巽",symbol:"☴",element:"木"},7:{name:"乾",symbol:"☰",element:"金"}}[e]||{name:"?",symbol:"?"}}export{o as a,l as b,a as c,i as d,m as e,u as f,e as g,r as h};
