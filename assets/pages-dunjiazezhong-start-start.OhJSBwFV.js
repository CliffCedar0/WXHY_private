import{r as a,s as e,n as t,f as i,c as s,w as l,i as c,o as n,a as o,b as d,g as u,k as r,F as h,h as m,t as f,l as g,j as _,e as p,q as k,u as z}from"./index-FPzK3lBl.js";import{D as b}from"./DatePickerWheel.CiyvZ3gH.js";import{T as C}from"./TimePickerWheel.C8VCRism.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=v({components:{DatePickerWheel:b,TimePickerWheel:C},data:()=>({modes:[{name:"å½“å‰æ—¶é—´",value:"current"},{name:"è‡ªå®šä¹‰æ—¶é—´",value:"custom"},{name:"å››æŸ±é€‰å±€",value:"sizhu"},{name:"æ‰‹å·¥é€‰å±€",value:"manual"}],currentMode:"current",customDate:"",customTime:"",ganList:["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],zhiList:["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],gzList:[],jieQiList:["ç«‹æ˜¥","é›¨æ°´","æƒŠè›°","æ˜¥åˆ†","æ¸…æ˜","è°·é›¨","ç«‹å¤","å°æ»¡","èŠ’ç§","å¤è‡³","å°æš‘","å¤§æš‘","ç«‹ç§‹","å¤„æš‘","ç™½éœ²","ç§‹åˆ†","å¯’éœ²","éœœé™","ç«‹å†¬","å°é›ª","å¤§é›ª","å†¬è‡³","å°å¯’","å¤§å¯’"],baziParams:{year:0,month:0,day:0,hour:0,jieQi:0},manualJuData:{isYang:!0,num:1},showBaziModal:!1,currentBaziType:"year",tempGan:"ç”²",tempZhi:"å­",birthYear:"2000",gender:!0,showDatePicker:!1,showTimePicker:!1,showJieQiModal:!1}),onLoad(){const a=new Date;this.customDate=this.formatDate(a),this.customTime=this.formatTime1(a),this.initGzList(),this.baziParams={year:0,month:0,day:0,hour:0,jieQi:0}},methods:{initGzList(){const a=[],e=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],t=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"];for(let i=0;i<60;i++)a.push(e[i%10]+t[i%12]);this.gzList=a},goHome(){a({url:"/pages/index/index"})},formatDate:a=>`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`,formatTime1:a=>`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`,bindDateChange(a){this.customDate=a.detail.value},bindTimeChange(a){this.customTime=a.detail.value},onDateChange(a){this.customDate=a},onTimeChange(a){this.customTime=a},getJuNumText:a=>["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹"][a-1],getBaziText(a){const e=this.baziParams[a];return this.gzList[e]||"ç”²å­"},openBaziModal(a){this.currentBaziType=a;const e=this.gzList[this.baziParams[a]]||"ç”²å­";this.tempGan=e.charAt(0),this.tempZhi=e.charAt(1),this.showBaziModal=!0},closeBaziModal(){this.showBaziModal=!1},getBaziTitle(){return{year:"å¹´æŸ±",month:"æœˆæŸ±",day:"æ—¥æŸ±",hour:"æ—¶æŸ±"}[this.currentBaziType]||""},selectJieQi(a){this.baziParams.jieQi=a,this.showJieQiModal=!1},bindYearChange(a){this.birthYear=a.detail.value},toggleGender(){this.gender=!this.gender},selectGan(a){this.tempGan=a;const e=this.ganList.indexOf(a),t=this.zhiList.indexOf(this.tempZhi);if(e%2!=t%2){let a=t;a=e%2==0?t-1:t+1,a<0&&(a=11),a>11&&(a=0),this.tempZhi=this.zhiList[a]}},selectZhi(a){this.tempZhi=a;const e=this.zhiList.indexOf(a),t=this.ganList.indexOf(this.tempGan);if(t%2!=e%2){let a=t;a=e%2==0?t-1:t+1,a<0&&(a=9),a>9&&(a=0),this.tempGan=this.ganList[a]}},isGanDimmed(a){return this.ganList.indexOf(a)%2!=this.zhiList.indexOf(this.tempZhi)%2},isZhiDimmed(a){return this.zhiList.indexOf(a)%2!=this.ganList.indexOf(this.tempGan)%2},confirmBaziSelection(){const a=this.tempGan+this.tempZhi,t=this.gzList.indexOf(a);-1!==t?(this.baziParams[this.currentBaziType]=t,this.showBaziModal=!1):e({title:"æœªçŸ¥å¹²æ”¯ç»„åˆ",icon:"none"})},submit(){let a=`?mode=${this.currentMode}`;if("custom"===this.currentMode){if(!this.customDate||!this.customTime)return void e({title:"è¯·é€‰æŠ˜å®Œæ•´æ—¶é—´",icon:"none"});a+=`&date=${this.customDate}&time=${this.customTime}`}else if("sizhu"===this.currentMode){const e=this.baziParams,t=`${this.gzList[e.year]},${this.gzList[e.month]},${this.gzList[e.day]},${this.gzList[e.hour]}`,i=this.jieQiList[e.jieQi];a+=`&bazi=${encodeURIComponent(t)}&jieqi=${encodeURIComponent(i)}`}else if("manual"===this.currentMode){a+=`&ju=${this.manualJuData.isYang?"yang":"yin"}-${this.manualJuData.num}`}this.birthYear&&(a+=`&birthYear=${this.birthYear}&gender=${this.gender?"1":"0"}`),t({url:"/pages/dunjiazezhong/display/display"+a})}}},[["render",function(a,e,t,b,C,v){const y=p,w=c,D=k,T=z,M=i("DatePickerWheel"),L=i("TimePickerWheel");return n(),s(w,{class:"container"},{default:l((()=>[o(w,{class:"top-bar"},{default:l((()=>[o(w,{class:"back-btn",onClick:v.goHome},{default:l((()=>[o(y,{class:"back-text"},{default:l((()=>[d("ä¸»é¡µ")])),_:1})])),_:1},8,["onClick"]),o(y,{class:"page-title"},{default:l((()=>[d("éç”²æŠ˜è¡·")])),_:1}),o(w,{class:"placeholder"})])),_:1}),o(w,{class:"logo-area"}),o(w,{class:"form-card"},{default:l((()=>[o(w,{class:"tab-card"},{default:l((()=>[(n(!0),u(h,null,r(C.modes,((a,e)=>(n(),s(w,{class:g(["tab-item",{active:C.currentMode===a.value}]),key:e,onClick:e=>C.currentMode=a.value},{default:l((()=>[d(f(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),o(w,{class:"divider"}),"current"===C.currentMode?(n(),s(w,{key:0,class:"info-text"},{default:l((()=>[o(y,null,{default:l((()=>[d("ä½¿ç”¨å½“å‰æ—¶é—´è¿›è¡Œæ’ç›˜ï¼Œå±€æ•°å°†æ ¹æ®èŠ‚æ°”è‡ªåŠ¨è®¡ç®—ã€‚")])),_:1})])),_:1})):m("",!0),"custom"===C.currentMode?(n(),s(w,{key:1,class:"input-section"},{default:l((()=>[o(w,{class:"section-label"},{default:l((()=>[d("é€‰æŠ˜æ—¶é—´")])),_:1}),o(w,{class:"picker-row"},{default:l((()=>[o(w,{class:"picker-half",onClick:e[0]||(e[0]=a=>C.showDatePicker=!0)},{default:l((()=>[o(w,{class:"picker-view"},{default:l((()=>[o(y,{class:"picker-val"},{default:l((()=>[d(f(C.customDate||"å¹´ / æœˆ / æ—¥"),1)])),_:1}),o(y,{class:"icon"},{default:l((()=>[d("ğŸ“…")])),_:1})])),_:1})])),_:1}),o(w,{class:"picker-half",onClick:e[1]||(e[1]=a=>C.showTimePicker=!0)},{default:l((()=>[o(w,{class:"picker-view"},{default:l((()=>[o(y,{class:"picker-val"},{default:l((()=>[d(f(C.customTime||"æ—¶ : åˆ†"),1)])),_:1}),o(y,{class:"icon"},{default:l((()=>[d("â°")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0),"sizhu"===C.currentMode?(n(),s(w,{key:2,class:"input-section"},{default:l((()=>[o(w,{class:"section-label"},{default:l((()=>[d("å››æŸ±å¹²æ”¯ (å¹´/æœˆ/æ—¥/æ—¶)")])),_:1}),o(w,{class:"bazi-row-manual"},{default:l((()=>[o(w,{class:"bazi-box",onClick:e[2]||(e[2]=a=>v.openBaziModal("year"))},{default:l((()=>[o(y,{class:"bazi-label"},{default:l((()=>[d("å¹´æŸ±")])),_:1}),o(y,{class:"bazi-val"},{default:l((()=>[d(f(v.getBaziText("year")),1)])),_:1})])),_:1}),o(w,{class:"bazi-box",onClick:e[3]||(e[3]=a=>v.openBaziModal("month"))},{default:l((()=>[o(y,{class:"bazi-label"},{default:l((()=>[d("æœˆæŸ±")])),_:1}),o(y,{class:"bazi-val"},{default:l((()=>[d(f(v.getBaziText("month")),1)])),_:1})])),_:1}),o(w,{class:"bazi-box",onClick:e[4]||(e[4]=a=>v.openBaziModal("day"))},{default:l((()=>[o(y,{class:"bazi-label"},{default:l((()=>[d("æ—¥æŸ±")])),_:1}),o(y,{class:"bazi-val"},{default:l((()=>[d(f(v.getBaziText("day")),1)])),_:1})])),_:1}),o(w,{class:"bazi-box",onClick:e[5]||(e[5]=a=>v.openBaziModal("hour"))},{default:l((()=>[o(y,{class:"bazi-label"},{default:l((()=>[d("æ—¶æŸ±")])),_:1}),o(y,{class:"bazi-val"},{default:l((()=>[d(f(v.getBaziText("hour")),1)])),_:1})])),_:1})])),_:1}),o(w,{class:"section-label",style:{"margin-top":"20rpx"}},{default:l((()=>[d("èŠ‚æ°”")])),_:1}),o(w,{class:"picker-view",onClick:e[6]||(e[6]=a=>C.showJieQiModal=!0)},{default:l((()=>[o(y,{class:"picker-val"},{default:l((()=>[d(f(C.jieQiList[C.baziParams.jieQi]),1)])),_:1}),o(y,{class:"icon"},{default:l((()=>[d("â–¼")])),_:1})])),_:1})])),_:1})):m("",!0),"manual"===C.currentMode?(n(),s(w,{key:3,class:"input-section"},{default:l((()=>[o(w,{class:"section-label"},{default:l((()=>[d("æŒ‡å®šå±€æ•°")])),_:1}),o(w,{class:"dun-toggle-row"},{default:l((()=>[o(w,{class:g(["dun-item",{active:C.manualJuData.isYang}]),onClick:e[7]||(e[7]=a=>C.manualJuData.isYang=!0)},{default:l((()=>[d("é˜³é")])),_:1},8,["class"]),o(w,{class:g(["dun-item",{active:!C.manualJuData.isYang}]),onClick:e[8]||(e[8]=a=>C.manualJuData.isYang=!1)},{default:l((()=>[d("é˜´é")])),_:1},8,["class"])])),_:1}),o(w,{class:"ju-num-grid"},{default:l((()=>[(n(),u(h,null,r(9,(a=>o(w,{class:g(["ju-num-item",{active:C.manualJuData.num===a}]),key:a,onClick:e=>C.manualJuData.num=a},{default:l((()=>[d(f(v.getJuNumText(a))+"å±€",1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),o(w,{class:"tips"},{default:l((()=>[d(" æ³¨ï¼šæ‰‹å·¥é€‰å±€æ¨¡å¼ä¸‹ï¼Œå°†é»˜è®¤ä½¿ç”¨å½“å‰æ—¶é—´ä½œä¸ºç›˜é¢å››æŸ±ã€‚ ")])),_:1})])),_:1})):m("",!0),o(w,{class:"divider"}),o(w,{class:"input-section"},{default:l((()=>[o(w,{class:"section-label"},{default:l((()=>[d("æœ¬å‘½è¡Œå¹´ (é€‰å¡«)")])),_:1}),o(w,{class:"picker-row"},{default:l((()=>[o(D,{mode:"date",fields:"year",value:C.birthYear,onChange:v.bindYearChange,class:"picker-half"},{default:l((()=>[o(w,{class:"picker-view"},{default:l((()=>[o(y,{class:"picker-val"},{default:l((()=>[d(f(C.birthYear?C.birthYear+"å¹´":"å‡ºç”Ÿå¹´ä»½"),1)])),_:1})])),_:1})])),_:1},8,["value","onChange"]),o(w,{class:"gender-toggle picker-half",onClick:v.toggleGender},{default:l((()=>[o(w,{class:g(["gender-opt",{active:C.gender}])},{default:l((()=>[d("ç”·")])),_:1},8,["class"]),o(w,{class:g(["gender-opt",{active:!C.gender}])},{default:l((()=>[d("å¥³")])),_:1},8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),o(T,{class:"btn-submit",onClick:v.submit,"hover-class":"btn-hover"},{default:l((()=>[d("å¼€å§‹æ’ç›˜")])),_:1},8,["onClick"]),o(w,{class:"copyright-info"},{default:l((()=>[o(w,{class:"copyright-line"},{default:l((()=>[d("Â© Developer: æ™¯å· Â· Wechat: Im_JingChuang")])),_:1}),o(w,{class:"copyright-line"},{default:l((()=>[d("Â© Technical supporter: å¿æ ¸ Â· Wechat: qinghe4994")])),_:1})])),_:1}),C.showBaziModal?(n(),s(w,{key:0,class:"modal-mask",onClick:v.closeBaziModal},{default:l((()=>[o(w,{class:"modal-content",onClick:e[9]||(e[9]=_((()=>{}),["stop"]))},{default:l((()=>[o(w,{class:"modal-header"},{default:l((()=>[o(y,null,{default:l((()=>[d("é€‰æŠ˜"+f(v.getBaziTitle())+"å¹²æ”¯",1)])),_:1}),o(w,{class:"modal-confirm",onClick:v.confirmBaziSelection},{default:l((()=>[d("ç¡®å®š")])),_:1},8,["onClick"])])),_:1}),o(w,{class:"modal-body"},{default:l((()=>[o(w,{class:"gz-preview"},{default:l((()=>[o(y,{class:"gz-char stem"},{default:l((()=>[d(f(C.tempGan),1)])),_:1}),o(y,{class:"gz-char branch"},{default:l((()=>[d(f(C.tempZhi),1)])),_:1})])),_:1}),o(w,{class:"grid-section"},{default:l((()=>[o(w,{class:"grid-title"},{default:l((()=>[d("å¤©å¹²")])),_:1}),o(w,{class:"grid-row"},{default:l((()=>[(n(!0),u(h,null,r(C.ganList,(a=>(n(),s(w,{class:g(["grid-item stem-item",{active:C.tempGan===a,dimmed:v.isGanDimmed(a)}]),key:a,onClick:e=>v.selectGan(a)},{default:l((()=>[d(f(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),o(w,{class:"grid-section"},{default:l((()=>[o(w,{class:"grid-title"},{default:l((()=>[d("åœ°æ”¯")])),_:1}),o(w,{class:"grid-row"},{default:l((()=>[(n(!0),u(h,null,r(C.zhiList,(a=>(n(),s(w,{class:g(["grid-item branch-item",{active:C.tempZhi===a,dimmed:v.isZhiDimmed(a)}]),key:a,onClick:e=>v.selectZhi(a)},{default:l((()=>[d(f(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):m("",!0),C.showJieQiModal?(n(),s(w,{key:1,class:"modal-mask",onClick:e[12]||(e[12]=a=>C.showJieQiModal=!1)},{default:l((()=>[o(w,{class:"modal-content",onClick:e[11]||(e[11]=_((()=>{}),["stop"]))},{default:l((()=>[o(w,{class:"modal-header"},{default:l((()=>[o(y,null,{default:l((()=>[d("é€‰æŠ˜èŠ‚æ°”")])),_:1}),o(w,{class:"modal-confirm",onClick:e[10]||(e[10]=a=>C.showJieQiModal=!1)},{default:l((()=>[d("å…³é—­")])),_:1})])),_:1}),o(w,{class:"modal-body"},{default:l((()=>[o(w,{class:"grid-section"},{default:l((()=>[o(w,{class:"grid-title"},{default:l((()=>[d("äºŒåå››èŠ‚æ°”")])),_:1}),o(w,{class:"grid-row"},{default:l((()=>[(n(!0),u(h,null,r(C.jieQiList,((a,e)=>(n(),s(w,{class:g(["grid-item jieqi-item",{active:C.baziParams.jieQi===e}]),key:e,onClick:a=>v.selectJieQi(e)},{default:l((()=>[d(f(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):m("",!0),o(M,{show:C.showDatePicker,value:C.customDate,onChange:v.onDateChange,onClose:e[13]||(e[13]=a=>C.showDatePicker=!1)},null,8,["show","value","onChange"]),o(L,{show:C.showTimePicker,value:C.customTime,onChange:v.onTimeChange,onClose:e[14]||(e[14]=a=>C.showTimePicker=!1)},null,8,["show","value","onChange"])])),_:1})}],["__scopeId","data-v-4c2cd521"]]);export{y as default};
